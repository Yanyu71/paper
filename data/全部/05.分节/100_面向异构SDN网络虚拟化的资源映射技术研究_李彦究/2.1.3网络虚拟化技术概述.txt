2.1.3网络虚拟化技术概述
为了解决当前互联网络所面临的网络僵化问题，在学术界和工业界，研究人 员借鉴计算机领域中计算虚拟化技术提出了网络虚拟化的概念，其主要创新点在 于无需改变现有网络架构，而是通过添加一个虚拟化层来对现有的网络物理资源 进行统一的抽象和封装。通过这种手段，多个虚拟网络实质上分别占有了一部分 底层物理网络资源，其中每个虚拟网络之间是相互独立、互不影响的。
如今有许多网络虚拟化技术己经得到了广泛的应用，良好的虚拟化技术可以 为网络资源管理与分配提供极大的便利。具体可以从以下几个方面考虑：
（1）可管理性：底层网络至少需要标识虚拟网络，并且为其分配一定的物 理网络资源，多个虚拟网络共存时，底层设施供应商需要对物理资源进行虚拟化 和管理的同时，能够部署更多的虚拟网络。
11
(2) 隔离性：由于没有完美的网络协议，不能完全保证网络不可能被黑客 攻破，但技术上网络虚拟化技术必须能够确保虚拟网络之间互相隔离。这样既可 以保证虚拟网络之间不被影响，对用户而言也可以起到一定的安全保障。
(3) 兼容性：虚拟网络技术并非空中楼阁，其是否能兼容目前大部分或者 主流网络技术将是该技术能否成功推广的重要因素，未来网络的发展总是可变且 无法预测的，如果能够保持较高的兼容性，则会拥有更大的竞争力。目前主流的 网络虚拟化技术包括：虚拟专用网络、虚拟局域网络、覆盖网络和可编程网络虚 拟化四种。
虚拟专用网络(或称虚拟私有网络)简称为VPN,通过VPN用户可以在互 联网上搭建一个私有的通信网络，通过VPN所用协议的数字加密算法实现良好 的匿名性，避免被网络追踪。并且借助IP协议栈，其在实际应用中有很高的灵 活性和拓展性，可以架构在多种网络之上。VPN技术是服务器-客户端架构，因 此服务器可以对不同的VPN虚拟网络流进行管理，但与网络虚拟化相比，其相 当于仅仅实现了链路虚拟化。
虚拟局域网络(VLAN)技术是LAN技术的一种拓展，VLAN技术本质上 是将物理网络的广播域进行了拆分而不是虚拟化，通过标签技术将其分成多个独 立广播域的小规模的逻辑网络。VLAN技术受到地域和覆盖范围的限制，并且只 能用于以太网络中，其主要目的是建立隔离网络，阻止了流量在不同虚拟网络间 的传播。此外虚拟局域网络技术是通过识别设备的VLAN标签来实现设备互联 的，具有很大的安全隐患。
覆盖网实质上是在物理网络上再次架构一层网络，是一类网络协议的总称， 例如VXLAN、IP-IP、GRE等网络隧道封装协议可以对数据包进行封装重路由来 达到数据传输，通过这种机制实现虚拟网络节点和虚拟链路的模拟，覆盖网络实 质上即是虚拟网络映射概念的子集，根据用户的需求可以构建出能提供特定服务 的虚拟网络。目前而言VXLAN是一种成熟的虚拟网络技术，在各种云服务中心 中广泛应用。
可编程网络是随着SDN概念的提出和成熟而产生的，通过借助OpenFlow 等现有南向接口协议以及SDN控制器北向接口，可以通过软件的形式实现虚拟 化，并且该方式是灵活可变的。目前具有许多平台实现了该种形式的网络虚拟化， 在有利于部署新的服务的同时，本质上没有对网络结构和协议做出根本性的改变。 因此其兼容性较好，并且有利于未来网络发展趋势。
前三种传统网络虚拟化技术已经广泛用于如今移动互联时代的云数据中心 网络中，这些技术依附于传统网络设备，大规模部署虚拟化技术需要使用脚本进 行批量配置，但由于设备间的差异性，不同厂商的设备之间难以兼容，因此网络
12
虚拟化的配置和操作通常是异常繁琐的。同时，当场景或环境变化时需要定制脚 本进行配置，因此单纯使用传统网络虚拟化技术并不利于构建网络虚拟化平台。
而可编程网络的能力则恰好解决了上述问题，即可以在集中式架构的合适位 置引入虚拟化组件，按照流表重写技术实现虚拟节点以及链路与真实节点和链路 的映射。这种映射可以非常灵活，可以完全由软件化流程实现。当虚拟网络发生 变化时，虚拟化组件可以对映射规则下发的流表进行撤销或者重新下发新的调整 策略生成的流表。通过流表的下发和执行策略，可以简化传统网络虚拟化场景中 繁琐的运维工作，使得网络虚拟化技术具备更多的可能性。

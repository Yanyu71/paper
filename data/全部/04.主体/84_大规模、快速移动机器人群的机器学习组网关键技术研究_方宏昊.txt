第一章绪论
1.1研究背景
传统无人机网络通常由几个无人机组成集中式的网络结构，随着无人机技术 的发展，无人机技术的研究从单一无人机应用转向了多无人机应用，网络规模不 断扩大。大规模一方面意味着应用场景范围很大，例如一个大范围场景的监控应 用，更多时候意味着无人机数量很多，因此大规模无人机网络要求路由协议具有 良好的可扩展性，能够在加入更多新无人机时也能保证较高的网络性能。同时由 于大规模网络路由跳数增多、传输冲突增大，因此还要求路由协议具有较低的开 销、能耗均衡、减少传输冲突。大规模无人机系统的具体应用包括但不限于协同 搜救，地形/空间探索、部署传感网络、无人机编队飞行。相比传统自组织网络， 由无人机组成的飞行自组织网络(Flying ad hoc network： FANET)通常要求无人 机分为较小的群体完成任务，而在这个过程中普通的实体移动模型已经不再适用 于描述节点的移动，群体移动模型更加适用。
随着电子、传感器和通信计数的飞速发展，无人机广泛应用于各种军事和民 用领域［氏无人机辅助网络利用无人机收集地面传感器节点数据，可以有效减少 地面传感器能耗，避免多跳传输不稳定性，延长网络寿命提高网络性能。在无人 机辅助传感器网络中(UAV-aided wireless sensor network:UWSNs)卩】，信道接入 算法非常重要，它不仅影响系统性能，而且影响传感器节点的能效。因此针对 UWSNs设计高效的信道接入算法是一个值得研究的问题。
在无人机辅助传感网中，由于无人机通常都具有其他任务，所以无人机都是 按照固定的飞行轨迹飞行，在固定飞行轨迹情况下完成对地面节点的数据收集任 务。而随着无人机技术的发展，以无人机作为数据接收器的飞行基站被开发出来， 无人机可以专门用来收集数据，因此如何有效利用无人机的高速移动性规划合理 的飞行轨迹收集数据以提高吞吐量的问题成为了亟待解决的问题，而规划合理的 飞行路径需要无人机收集全网节点的信息，网络从单跳的星型网络扩展成多跳网 络，因此对无人机辅助网络的信道接入算法提出了更高的要求。
在过去的研究中，研究者提出了一系列的无线信道接入算法，大致可以分为 两类，基于竞争的信道接入算法和基于分配的信道接入算法。由于不依赖任何拓 扑或者同步信息，基于竞争的信道接入算法对拓扑动态变化是鲁棒的，然而由于 竞争带来的冲突，在高竞争环境下协议的性能会大幅下降。相反，基于分配的信 道接入算法则利用相邻节点之间的同步性，通过将传输时隙分配给各个节点来实

现无冲突传输，虽然基于分配的协议通常可以在高竞争环境下保证较好的网络性 能，但在低竞争环境下由于不能重复利用时隙以及同步带来的开销对协议性能产 生负面影响。因此如何动态权衡竞争型接入方式和分配型接入方式的性能是值得 研究的问题。
1.2国内外研究现状
1.2.1移动机器人路由协议研究现状

随着无人机技术的发展，越来越多大规模无人机的应用需要保证无人机之间 高质量的通信【习。然而无人机节点的移动速度范围在30km/h~460km/ht6],这样的 高移动性和高度动态的拓扑结构给网络的可扩展性带来了挑战，从而限制了网络 的通信质量和可靠性。因此研究人员针对无人机网络设计的路由协议通过包含无 人机网络特有的功能和特点进行改进。无人机群组网路由协议大致可以分为基于 拓扑的路由协议和基于地理位置的路由协议【I
（1）	基于拓扑的路由协议
基于拓扑的路由协议使用现有的节点信息在网络中传输数据包，通过寻路包 探索网络拓扑结构来构建路由。这一类别进一步可分为三类：（i）主动类型，（ii） 反应类型和（iii）混合类型。I.Alshbatat等人提出的D-OLSR^是经典主动路由 OLSR的扩展，通过定向天线增强传输范围的方式来减小端到端跳数，该方法能 在端到端延迟方面提高无人机自组网性能。J. H. Forsmann等人【刃研究了 FANET 反应式拓扑路由，提出的路由协议利用IP地址使用现有的链接信息来转发最佳 路径上的数据包，协议需要所有通信节点的拓扑信息，以便在数据传输之前建立 和维护最佳路由以提高传输成功率和吞吐量。混合型路由协议ZRP应用在无人 机组网中并证明了它的有效性[⑼。当源节点无人机和下一跳无人机在同一区域 时，源节点无人机可以立即开始数据传输。如果源节点无人机有一个数据包被发 送到区外，则启用一个发现过程来建立到目的地的路由路径，以此提高链路稳定 性。梁青等人改进了 AODV路由协议叫通过改进路由维护过程来减少里链路 断裂的开销，并且以三种优化标准建立链路，分别是路由开销最小、平均邻居节 点数最大和节点间链路失效时间最长，以此减小路由开销。Ateya等人设计了一 个主动的能量和延迟效率的FANET路由协议【⑵，该协议是对常用的OLSR的改 进版本，优化目标是多属性决策选择MPR集合，MPR集合在不影响寻路过程的 情况下越小控制开销越小，造成的网络拥塞也越小，以此提高了网络寿命和端到 端时延性能。
（2）	基于地理位置的路由协议

基于地理位置的路由协议利用GPS位置信息，发送方使用位置服务获取接 收方的位置，并且不执行路由发现过程进行通信〔⑶。Lei L等人提出的LEBR［⑷ 基于地理路由机制，使用链路可用性因子作为最优路径端到端时延，以更大的选 择度量来增加吞吐量，在高度动态的飞行自组网中减少频繁的链接中断。R. Shirani等人提出的RGR［⑸是专为结合两种模式:反应模式和地理模式的FANET 设计的路由协议。当网络动态性较低链路链接稳定时使用AODV进行路由。但 在移动性强、无人机数量减少导致网络拓扑频繁变化的情况下，采用GGF （贪婪 地理转发）模式路由数据包以此提高路由稳定性o S. Hyeon等人提出的GRAA^ 飞机自组网地理路由协议是一种基于位置的路由协议，通过移动性预测来优化路 由过程，在每次数据传输前，会考虑所有邻居和目标的位置、速度方向和速度大 小。为了避免任何数据包丢失，在到达目的地之前的所有下一跳都使用相同的进 程计算，以此提高传输成功率。在移动自组网中，由于数据包丢失而产生障碍， 通过链路拥塞控制和网络层的流量控制可以有效地减小数据包丢失带来的障碍。 Ghasemnezhad等人提出了 FRRPW,用模糊逻辑通过带宽、能量、动态性选择稳 定路由，降低了排队时延和连接时延。PetersK等人定义了拦截时间作为路由度 量，拦截时间是潜在邻居多长时间能到达基站的传输范围，利用拦截时间和相对 速度做转发决策阴，以此来降低端到端时延。Liu J等人利用时延约束策略〔"I, 首先在邻居列表中将不满足时延约束条件的节点剔除，再通过强化学习进行路由 决策，强化学习的奖励回馈值定义与时延和跳数相关，因此可以直接转发并学习 到最小跳数的决策。

为了准确定义大规模FANET网络规模，本文研究了近几年移动自组织网络 和FANET当中出现的较大节点规模的路由协议。尽我们所知，大规模移动自组 织网络在平方公里大小级别的区域范围内布置最多1000个节点。大规模FANET 在平方公里大小级别的区域范围内布置最多200个节点，部分协议考虑了三维场 景。
移动自组织网络是FANET的前身，因此为了研究大规模FANET路由协议， 我们首先调研了大规模移动自组织网络路由协议。广播是移动自组网中用于路由 发现的基本操作，直接进行广播的方法是一种简单的泛洪，它会降低网络的性能， 导致消息的冲突、竞争和重复。减少广播过程中的路由控制包是提高能效，避免 广播风暴问题的有效手段，PeiG等人提出FSR1绚，针对移动自组织网络广播风 暴问题在IkmXlkm的区域范围内布置100个节点并利用鱼眼技术来减少控制 消息的传播，距离基站越近的节点发送广播包的频率越大，通过减少了远端节点 拓扑消息频率降低了能耗。AhyoungLee等人提出的A-GSP［21］在lkmX0.5km的

区域范围内布置了最多1000个节点，通过概率广播路由控制包减少重复的路由 控制消息节省了每个节点的带宽消耗和能量消耗，广播概率与邻居节点数量以及 邻居节点转发的路由控制信息包数量有关，以此降低端到端时延提高网络能量效 率。Chuang PJ等人考虑在RREQ包中包含了前两跳的地址［22】，通过这个信息可 以快速修复发送错误的路径，将多点中继和两跳路由修复的思想融合到了一起, 在0.3km X 3km的区域范围内布置100个节点的仿真结果表明该思想可以在减少 带宽消耗的情况下有效修复路由o AlwiM等人提出的DP-AODVW］在lkmXlkm的 区域范围内布置200个节点，针对大规模网络节点越多干扰越大的问题，通过动 态调整传输功率来保证范围内节点数量保持在一定范围，以此降低传输干扰并降 低端到端时延。
FANET作为新兴的特殊移动自组织网络，相较于传统移动自组织移动性更 高并且具有三维空间分布特性，其余的仿真参数大多设置与传统移动自组织网络 相同。YuH等人提出基于虚拟骨干网的大规模无人机网络路由协议【24］,在0.2km X0.2km的区域范围内布置100个节点，仅使用邻居节点的广播消息来构建虚拟 骨干网，路由控制消息通过虚拟骨干网传播，避免了广播风暴提高了传输成功率 并降低了能耗。Mahmud I 等人提出的 EE-Hello［25］在 0.6kmX0.6kmX0.15km 的 区域范围内布置40个节点，针对FANET网络地理路由协议移动速度较快需要 频繁广播邻居发现包造成了大量的能源消耗问题，提出了自适应间隔节能广播方 案，广播的间隔与无人机的移动速度、数量和传输距离等信息相关，抑制了不必 要的广播，在不降低网络通信质量的前提下节省了 25%的能量消耗。Khalid A等 人提岀的MDRMA"］在4kmX4km的区域范围内布置了 200个节点，通过限制路由 的建立条件来缓解网络的不稳定性，限制条件包括接收无人机是否满足数据速率要求， 发送和接收无人机之间不是相互远离，接收无人机移动速度没有超过阈值，通过条件的 限制建立问道的路由，减少链路故障。路由中的端到端时延是指数据包从源节点发 送到基站所需要的平均时间，主要由节点每一次转发数据包时产生。因此端到端 所时延受跳数影响，跳数越大所产生的端到端时延越大。在大规模网络中存在跳 数较长的链路，这时需要通过合理的路由决策选择跳数较短的链路来降低时延。 SW A等人在lkmX 1 km X0.08km的区域范围内布置70个节点，通过加入时延 约束的方式【27〕，将不满足时延约束的数据包丢弃，每一跳决策时都考虑预期时延 值是否会超过目前的时延约束，选择不超过时延约束且预期时延最小的邻居转发 以此减小端到端跳数降低端到端时延oChenY等人提出了 TQNGPSR【28］在lkm Xlkm的区域范围内布置了 100个节点，改协议是一种基于贪婪周周无状态路由 的流量感知增强的无人机自组织网络地理路由协议，利用相邻网络的拥塞信息实 施流量平衡策略，并通过Q学习算法评估无线链路的质量。该协议在对每个无 线链路进行评估的基础上，对多个可用选择进行路由决策，以减少时延和包丢失。

随着网络拓扑结构的日益复杂，将人工智能和机器学习加入网络路由协议成 为网络路由协议发展的趋势〔29】。机器学习通过历史信息的训练获取对网络未来 的预测［3°】，在路由协议中使用的常见机器学习算法可以分为以下三类：基于学习 自动机、基于神经网络、基于决策树。
(1) 基于学习自动机的路由协议
Torkestani J A等人提出利用学习自动机生成虚拟骨干网⑴】，减少广播过程 中不必要的转发，避免了广播泛洪，以此减少了控制开销。Zhang F等人针对机 会网络中不存在稳定的端到端转发路径的情况，为了提高n流行病路由协议的能 量效率，提出了一种基于学习自动机的参数n调整策略算法a】。通过减少消息复 制时间来减少节点的能源消耗°LAFTRA【33］在节点发生故障的情况下采用多路径 的方式传输数据包，利用学习自动机分析多路径选择的性能指标，减少网络开销。 Ghasemi M等人提出的DCR使用学习自动机优化动态协同路由【珂，使其具有自 适应的决策机制，在构建机会路径时，使用学习自动机来适应网络动态。每当源 传输新数据批处理时，学习自动机就被激活以此来提高网络吞吐量。张峰等人通 过元胞学习自动机学习机会路由中传输成功概率3】，提高传输成功率。
(2) 基于神经网络的路由协议
相较于普通规模网络，大规模网络中学习算法的状态空间维度变大，状态数 量变多，因此需要使用神经网络进行高维数据的分析处理。Souza C等人提出 FSF【36］利用神经网络将消息目的地和要转发的候选人之间的社会关系进行分类， 然后，通过使用逻辑函数评估中继节点来选择中继节点路由数据包，以此提高传 输成功率。Luong N T等人提出FAPRPS在传统AODV协议基础上，利用神经 网络通过对节点历史信息的特征提取和行为来判断节点是否在广播中存在恶意 行为，以此来检测广播风暴，避免广播泛洪攻击。GhoutiL等人提出了一种基于 神经学习的方法来解决与MANET节点移动性相关的问题，利用神经网络有效 地预测网络拓扑结构的变化El,以此提高传输成功率和吞吐量。MaoQ等人提出 MLProph【39］利用神经网络优化传统机会路由，采用神经网络训练机会路由中多达 13项特征来输出下一跳决策，网络的训练场景使用的是概率路由提取训练数据， 离线训练好网络之后直接应用在MLProph中，以此提高传输成功率。KojiCN等 人使用人工逻辑神经网络来动态切换主动和被动路由协议购，该协议基于 Hopfield神经网络控制的移动代理技术，以最小化时延和重传概率为度量目标来 优化端到端时延。Sheikhan M等人提出了一种暂态混沌神经网络的多路径路由
5 算法⑷】。网络中的每个节点都可以装备一个神经网络。该算法可以在不增加额外 开销的情况下同时找到节点不相交和链路不相交的路径。
(3) 基于决策树的路由协议
应用在路由协议中决策树通常用来预测路由相关指标，决策树是一种树形结 构，这种树形结构通过训练的方式提前存在了节点内存中，在路由决策时直接调 用决策树预测相关路由指标可以有效提高网络性能。移动性导致链路断开是影响 自组网性能的主要原因之一。如果频繁启动源节点路由发现过程又会增大网络开 销。为了克服这一问题，Prakasi等人提出了一种基于决策树的路由协议DTRP ［翎。DTRP根据节点速度、链路过期时间、数据包路由时间和节点生命周期等参 数选择单跳邻居。因此，通过选择沿路径稳定的单跳邻居到达目的地，提高了路 由发现机制的性能。SoltaniS等人提出决策树认知路由DTCR0］, DTCR利用决 策树从邻居中认知地选择下一跳最佳候选节点，预测可用邻居的适宜性。Sharma DK等人将决策树应用在机会网络中【39】，所考虑的决策模型只有两个输出，分别 代表的是机会路由中成功传递和不成功传递的概率，通过多个属性的输入，内部 节点表示基于输入属性做出的决策，该方法通过决策树提高了机会路由中数据传 输的成功率。
1.2.2移动机器人倍道接入算法研究现状

无人机无线通信由于其高机动性、低成本、按需部署和固有的视距空对地通 道，以及与第四代移动通信系统网络的结合曲】，使无人机在军事和民用应用中受 到了广泛的关注⑷］。无人机与地面设备之间的通信构成了地空通信系统，根据作 用不同大致可以分为两类：无人机群［呦组成的FANET将数据传输到地面基站以 及无人机辅助网络，无人机辅助网络使用无人机作为移动基站收集地面节点内存 中的数据［何。地空通信系统信道模型可以使用自由空间传播模型，这意味着传统 信道接入算法可以简单应用在地空通信系统中［48］。视距通信组件在许多实际场 景中主导着空对地通道，特别是在农村地区或中等高度无人机高度。这种信道特 性使得信道状态信息可以直接由每个节点的位置来确定，便于高速通信系统的设 计。
高移动性是FANET最独特的特性之一，它给MAC (multiple access channel) 层带来了新的问题。由于无人机具有快速的移动性和高度动态的拓扑结构，因此 其链路质量参差不齐a〕。由于链路质量的波动和故障，无人机的信道接入算法设 计面临着许多新的挑战。
在无人机辅助通信系统中，无人机直接从传感器节点接收数据，大大减少了 传感器节点之间的通信R9］,节省了侦听邻居的能量。在无人机辅助通信系统中，
6 介质访问控制层必须解决几个问题，保证高网络吞吐量、低能耗和可以忽略的间 隔发送数据。现有的为无线传感器网络或无人机设计的MAC协议在无人机辅助 网络中表现不佳，原因高移动性导致基站和地面节点接触时间较短。可以考虑循 环多址接入方案，并根据无人机的位置优化分配传输时间［呵，但这种方式不够智 能因此性能不高。

在无人机辅助传感器网络中无人机直接从地面节点接收数据，大大减少了地 面节点之间的通信，节省了侦听邻居的能量，并且避免了多跳传输数据带来的不 可靠性，信道接入算法的设计需要保证高网络吞吐量和低能耗。此外由于无人机 30km/h~460km/h的快速移动性，近年来对无人机辅助网络无人机速度的设置最 快达到了 50m/s®］,数据从传感器节点传输到无人机的时间间隔很短，需要在有 限的接触时间内尽可能快的传输数据，各种信道接入算法被推荐用于UWSNSo 大致可以分为竞争型、分配型和混合型信道接入算法，由于本文提出方法是基于 分配型的信道接入算法，因此主要调研分配型的信道接入算法。
基于分配型的信道接入算法通过将传输资源预先分配给网络中的节点来消 除冲突问题，它们的核心思想都是优化传统时分多址技术。T.D.Ho等人引入了 两层无线网络架构进行数据采集［旳，一层是传感器节点到无人机，另一层是从无 人机到外层。传感器节点检测数据并传输给无人机，无人机再向外界发送数据。 以此提高数据收集效率，提高网络吞吐量。ZanjieH等人提出的PFSC^】中传感 器节点与无人机通信之前，传感器被主动分成若干具有适当优先级的子组。由于 无人机的移动性，该协议提供了低速率的包丢失，这是这些应用类型中最关键的 度量，此外还引入了最佳的优先级组数以保证最小的传输间隔和最低的失败包比 率。T.D.Ho等人提出基于无人机与传感器之间的距离，无人机可以自适应地改 变信标的发射功率旳，在这个系统中每个传感器必须每次测量信标信号接收功 率，然后根据这些信息找到它的距离，以此降低了网络能耗。WangL等人提出 自适应机会主义的Aloha (AO-Aloha)协议网。与O-Aloha［59］不同，AO-Aloha在 传输的每个时间间隔中添加了握手技术，以帮助提高吞吐量，使其具有可接受的 误码率。Vladuta A V等人提出了一种用于优化无人机地面传感器节点平均总能 量消耗的启发式算法a】。假设无人机飞过每个集群来收集数据。无人机利用通信 范围内节点的信息来判断与节点的接触时间长短以此规划收集哪个节点的数据， 以此提高网络吞吐量。WangL等人提岀AP-MAC⑹】允许随机分布的传感器以时 分多址方式传输感知数据以提高效率。为了在无人机存在期间有效地利用信道， 传感器节点被集群化。它将信道时间划分为固定长度的四阶段时间间隔，在不同 的阶段以不同的接入方式传输，以此提高传输成功率和吞吐量。


将人工智能和机器学习加入信道接入算法成为网络协议发展的趋势，不管网 络类型如何变化，信道接入方式如何变化，机器学习应用在信道接入算法中通常 通过历史信息的训练获取对网络未来的预测，这种预测的思想是通用的，因此我 们的调研背景包含了各种数据收集类型的信道接入算法，并不局限在无人机辅助 网络。在信道接入算法中使用的常见机器学习算法可以分为以下三类：基于强化 学习、基于学习自动机、基于深度强化学习。
（1）	基于强化学习的信道接入算法
Sun C等人提出的基于强化学习的MAC协议QL-MAC®］, QL-MAC自适应 调整节点占空比，通过调整无线电休眠和活动的周期。在学习过程中Q值随着 奖励函数的变化而变化，用一个阈值参数用来设置无线电收发机的状态，当某一 时隙Q值低于阈值时，相关节点将在这个时隙切换到休眠模式，在不影响其他 网络性能的情况下降低能耗。Tarighi R等人提出基于强化学习的MAC协议RL- MAC®］, RL-MAC利用Q学习方法来自适应调整竞争时隙的长度，从而有效降 低能耗。但是，由于CSMA/CA是一个基于竞争的MAC协议，所以当流量负载 很高时，仅调整竞争时隙的长度是不够的-Zhang M等人提出一种容错同步MAC 协议FS-MA。"］, FS-MAC采用基于分布式Q-Leaming的MAC切换方案，顶层 MAC适配层根据学习方法的输出选择相应的MAC协议，然后将数据传递到选 定的MAC协议进行封装。接收到来自网络的数据包时，考虑数据成功传输量、 时延和分组传输率作为奖励函数变量以此提高传输成功率降低传输时延。Zhu S 等人提出SOMAC利用强化学习技术根据当前网络需求自适应切换MAC协议 a〕，并且能根据网络指标提升自我优化的能力，以此提高了 MAC协议对动态网 络的适应能力。Zhiyong F等人采用强化学习技术自适应休眠唤醒机制让传感器 节点保持尽可能长的休眠时间来节省每个节点的能力，从而最大化它们的生存期 a〕。Andre Gomes等人提出的IRSA允许传感器节点只考虑自身节点的生存期和 缓存状态来决定发送多少个包以及合适发送它们⑹］,以此提高网络负载能力。
（2）	基于学习自动机的信道接入算法
Joshi T等人提出的SARA使用学习自动机方法，利用环境的反馈来判断其 选择是好是坏，从而迭代学习过程环境的随机特性国］以此提高了算法的动态适 应性。Venkata等人提出了一种基于学习自动机的基于虚拟回退算法LAVBA^l, 在VLABA中每个节点上使用一个计数器来进行公平的分布式通道访问，通过公 平的接入方式提高了接入的稳定性和网络吞吐量-KumarN等人提出了一种新的 基于协作学习自动机的具有拓扑保留的信道分配方法［7°］。在该方案中，学习自动 机被部署在最近的网格路由器上，在环境中学习的同时相互协作进行信息共享和

数据传输，以此提高传输成功率。Lee S等人提出了一种基于随机学习自动机的 轮询间隔自适应算法⑺］,为了解决轮询间隔过长导致不必要的能量消耗问题，该 算法由传感器节点动态调整其轮询间隔，以此提高能量利用效率。Misra S等人 提出一种基于学习自动机的无线信道保留协议【72〕，使用学习自动机来实现单跳 无线网络的信道访问预约，同时利用序列过程对保留机制进行了改进以此提高吞 吐量。Nicopolitidis P等人提出了一种基于载波感知的无线局域网自适应学习 MAC协议El,该协议能够有效地处理突发的、信道反馈不可靠的无线网络。根 据所提出的协议，通过学习自动机选择被授予传输权限的移动节点以此降低了传 输冲突。G.I.Papadimitriou等人提出了一种能够在突发流量条件下高效运行的自 适应时分多址协议Bl。根据所提出的协议，通过学习自动机选择在每个时隙被允 许传输的节点，在获取网络反馈信息后更新选择节点的选择概率以此实现低延迟 和高吞吐量性能。
（3）基于深度强化学习的信道接入算法
Ali R等人提出深度强化学习作为密集无线局域网中MAC层资源分配的智 能范例iQRA算法［75］,所提出的iQRA学习了不同的无线传输环境并优化了性 能，以吞吐量、信道访问时延和公平性为性能指标以此提高网络性能。 F.A.Asuhaimi等人研究了在不同时延要求下传输智能电网数据的HetNets中的能 量效率和时延问题［76］。提出了一种分布式信道接入和功率控制方案，并开发了一 种基于学习的相量测量单元通过考虑干扰和信噪比约束成功传输数据的方法，利 用一种基于深度强化学习的方法来训练向量测量单元，学习一个最优策略使成功 传输所获得的回报最大化，以此提高传输成功率。ChangH等人研究了一个分布 式动态接入网络在信道感知误差存在下的通信策略刀］,利用动态接入网络底层 的时间相关性，让节点靠自己当前和过去的信道感知结果分布式地做出信道接入 决策，分布式地决策有利于减小感知误差带来的影响，以此提高网络各方面的性 能。Li K等人通过优化确定需要充电和询问的设备进行数据采集【78］,并根据无 人机的瞬时巡逻速度，开发了机载深度强化学习网络，以最大限度地减少传感器 设备的整体数据包丢失。Liu S等人提出了一种无先验信息的序列深度强化学习 算法［79］,并将原始谱信息作为输入。提出的SDRLA算法主要包括两部分:首先引 入深度学习和滑动窗口原理来识别干扰模式;其次进行增强学习，根据识别的干 扰模式进行在线信道选择以此降低传输干扰提高传输成功率。Nakashima K等人 提出了一种基于深度强化学习的信道分配方案【鲫，利用图卷积网络作为节点的 协调控制方法。在密集部署的无线局域网中，节点的可观测拓扑非常多，因此本 文基于图卷积网络提取拓扑结构的特征，将图卷积网络应用到一个争用图中，其 中连接了处于其载波感知范围内的节点，以提取到的载波感知关系的特征来分配 信道，以此提高网络吞吐量。
1.3主要研究内容
本文从移动机器人群出发，探究了大规模无人机群的路由问题和快速移动无 人机辅助网络的信道接入问题。
首先，本文研究了大规模场景下的无人机群路由协议相关技术。为了定义大 规模网络的概念本文调研了移动自组织网络和飞行自组织网络使用的网络规模， 尽我们所知近年在飞行自组织网络中使用的最大网络规模是在平方公里级别的 区域范围内布置200个节点，因此本文定义的大规模无人机群就是在平方公里级 别的区域范围内布置超过200个节点，最大到1000个节点。针对大规模网络端 到端跳数过长的问题，本文提出了大规模无人机群的模糊决策树路由协议(fuzzy decision tree： FDT),模糊决策树是一种机器学习方法，通过模糊决策树预测跳 数，再通过指数加权平均选出最小跳数集合中的最优下一跳节点，达到减少跳数 并保证较高传输成功率的路由性能。在大规模网络中，周期性更新的跳数信息随 着时间的推移快速过时而不可用，如果使用了过时的跳数信息可能会导致数据包 的路由选择经历了更多的跳数，这不仅会造成端到端时延性能下降而且更多的转 发也带来了更高的丢包可能性。因此准确预测实时的跳数信息可以有效降低大规 模网络端到端时延，因此本文采取模糊决策树来预测邻居节点到基站的跳数。由 于大规模网络存在节点密度较大的场景，并且由于节点发包速率恒定，节点密度 越大越容易出现传输冲突,传输冲突会造成节点单跳时延增加，传输成功率下降， 本文通过指数加权移动平均算法通过累计的转发成功率信息预测候选转发节点 的转发成功率，从候选转发节点集中选出传出成功率期望最高的节点作为最优节 点决策，以此达到降低端到端时延的目标。
其次，本文研究了快速移动无人机辅助网络中信道接入相关技术。基于现有 的成果调研，无人机飞行速度范围是30km/h~460km/h,无人机辅助网络中设置 的最大飞行速度是50m/s,因此本文定义的快速移动无人机辅助网络无人机飞行 速度是超过50m/s,最大到100m/so针对快速移动无人机辅助网络中无人机基站 和移动传感器之间的接触时间较短导致吞吐量较低问题，提出基于度量学习的信 道接入算法(metriclearning： ML),采用度量学习优化无人机基站飞行轨迹，通 过离线训练度量矩阵来预测每个节点位置方向上的吞吐量，再运用概率地图法规 划吞吐量最大的飞行路径，保证无人机基站在高速飞行情况下与地面设备有充足 的接触时间完成数据收集。规划好无人机的飞行路径后，在信道接入机制上采用 图着色方法降低接入冲突，以此达到提高吞吐量的目标。

1.4论文结构
本文一共包含四个章节，每个章节的内容安排如下：
第一章：绪论。首先描述了移动机器人网络国内外研究现状，并且分析了移 动机器人网络路由协议和移动机器人信道接入算法面临的问题和挑战。接着，以 无人机为主要目标概述了无人机自组网和无人机辅助传感器网络的移动模型、路 由协议、地空视距通信系统、信道接入算法。并针对现有研究中主要存在的问题 提出了本文的两个研究内容。
第二章：大规模无人机群的机器学习路由协议。本章首先对网络系统模型进 行建立，提出对网络的定义和假设，同时对网络能量模型和移动模型进行说明， 提出了使用模糊决策树预测跳数降低时延的目标。本章提出一种大规模无人机网 络机器学习路由协议，首先离线训练模糊决策树模型，釆用训练好的模型在线预 测跳数，将最小跳数的邻居节点加入候选转发节点集，再通过指数加权平均移动 法选出最优节点进行路由转发。最后使用NS-3仿真分析了 RFLQGeo、MLProph、 DOA、LBR以及我们提出的FDT的性能，验证了提出算法在时延上的优势。
第三章：支持快速移动的无人机辅助网络机器学习信道接入算法。本章首先 对网络系统模型进行建立，提出对网络的定义和假设。同时对地空信道模型、网 络能量模型和移动模型进行说明，提出了通过增大接触时间提高吞吐量的目标。 然后提出了度量学习路径规划方法以及图着色信道接入方法。最后使用NS-3仿 真分析了 DLMA、iQRA、QLeaner. SLA以及我们提出的ML算法的性能，验证 了协议在吞吐量性能上的优势。
第四章：总结与展望。首先对本文前三章的工作和贡献进行了总结，说明了 本文提出方法的优势和存在的缺陷。同时，对未来工作进行了展望，并提出了未 来可继续研究的方向。

第二章大规模无人机网络机器学习路由协议研究
2.1系统模型
2.1.1概述与假设
无人机群在平方公里范围区域中进行群体移动，所有节点同构并在二维空间 中运动。基站是唯一的且在区域中自由移动进行数据收集，所有节点在周期内随 机产生发送数据的动作并通过路由算法将数据包发往基站。
假设如下：
（1）	网络中所有节点都是移动的；
（2）	节点采用的是适合无人机群的群移动模型；
（3）	基站处于移动状态，基站不覆盖全局；
（4）	每个节点可以知道本节点的二维位置坐标；
（5）	节点拥有自己的属性信息（例如剩余能量、速度和方向等）。
2.1.2能耗模型
能量消耗是无人机自组网通信需要考虑的方面，无人机节点发送数据包和接 收数据包都需要消耗能量。发送节点消耗的能量与数据包比特数、节点传输距离 以及功率放大器的能耗有关。如果两个无线通信的无人机节点之间的距离足够小, 无线通信能量消耗模型是自由空间模型，如果两个无线通信的无人机节点之间的 距离较大，无线通信能量消耗模型是多径衰落信道模型⑷。接收节点消耗的能量 与数据包比特数以及接收机电路的能耗有关。具体模型公式如下：



(2-2)
其中砂代表接收无人机受到每比特数据包需要消耗的能量，k是以比特为 单位的无线通信接收数据包的大小，〃是两架无人机之间的直线距离，是无 人机发送没比特数据包需要消耗的基础能量。孑和硼分别是无线通信能量消耗 自由空间模型和多径衰落信道模型的传播介质系数。do是区分两种模型的边界条 件，阈值do为：

2.1.3移动模型
本文为模拟无人机组网通信所选择的无人机移动模型是参考点组移动模型 ⑶。在该模型中无人机分成多个移动小组。每个组存在一个参考点和约束范围， 整个群组向着参考点移动，群组内节点在组约束范围内随机移动。节点的移动速 度大小在设置的范围内随机，移动方向在设置的范围内随机，随机值周期性的发 生改变。
参考点组移动模型中每个组都存在一个参考点，每当一个组成员的参考点移 动到一个新的位置，这个组成员也移动到一个随机选择的位置，这个位置在其新 的参考点位置周围半径为R的约束范围内。同时在每个小组覆盖区域的中心是 一个逻辑引导点，它的运动定义了整个小组的运动，包括速度、方向和加速度。 逻辑引导点基于特定的实体移动性模型。参考点跟在逻辑引导点周围，并与逻辑 引导点保持恒定的距离和方向，每个逻辑引导点引导一个或多个参考点，具体模 型不意图如图2-1所不。

图2・1群体移动模型示意图
2.2基于模糊决策树和指数加权平均的路由协议
大规模网络中端到端跳数较大，因此导致端到端时延较大，由于节点移动性 导致链路不断发生变化，可能出现新的更短跳数的路由。本章叙述了 FDT的整 体架构，并详细描述了算法流程中路由更新模块、离线训练模块、路由决策模块 和数据发生模块的具体实现。
2.2.1整体框图

本文提出方法的整体框图如图2-2所示，其中离线训练模块负责训练模糊决 策树模型，训练好的模型放在无人机内存中在路由时直接使用。路由更新模块负 责逐跳广播更新节点信息，节点信息以邻居表的形式存储在无人机内存中。路由 决策模块负责做出下一跳决策，模糊决策树通过邻居表信息预测跳数，指数加权 移动平均法预测下一跳传输的成功率，以此做出最优的下一跳决策。数据发送模 块负责传输数据包并返回ACK包，ACK包中是单跳传输的信息反馈，用来更新



图2-3周期性广播示意图
每个无人机为了探测周围无人机的信息，采用从基站开始周期性逐跳广播的 方式更新邻居表信息。广播Hello包结构如表2-1所示，Hello包中包含了广播包 的ID、发送广播节点的ID、IP地址、节点速度、节点位置、广播发送时间、跳 数信息以及加权指数平均窗口的当前更新值。如图2-3所示，当节点第一次收到 Hello包时，首先提取广播包ID信息，如果该节点第一次收到此广播包ID的广 播包，则生成一个新的包ID,其余内容为本节点信息的Hellob包并继续广播， 这样即可实现从BS发出并逐跳广播到全网连通节点的一次路由信息更新。
表2-1广播包内容
包1D
节点1D
节点速度
节点位置
发包时间
跳数

邻居表的结构如下所示，当无人机收到广播Hello包时，都会解析包信息得 到发送广播包的节点，然后将信息更新到邻居表中，邻居表结构如表2-2所示, 其中该更新时间等于广播包中的发包时间。
表2-2邻居表结构
邻居1D
邻居速度
邻居位置
更新时间
跳数
在高速移动的无人机自组网中，过期的邻居信息会造成不必要的丢包，因此 邻居表每隔一段时间就要清空,清空时间为基站广播周期加上0」s,多出来的OJs 是为了等待广播包从基站发到全网节点的时延。

2.2.3模糊决策树定义
表2-3模糊决霞树符号定义
符号
说明
S
数据集
Si
第z•个数据实例
A
模糊属性集
Aj
数据的第/种模糊属性
C
决策树划分类
ck
决策树划分类的第丘种类型
5
第i个数据实例Si对第j个属性Aj的隶属度
模糊决策树是一个树结构，通过训练场景获取训练数据进行分类训练，成功 训练出分支明确的模糊决策树，每条训练数据通过模糊决策树的分支都能达到叶 子节点，每个叶子节点就代表一类输出。训练好的模糊决策树以树形结构存放在 无人机内存当中，需要进行跳数预测时，将对应邻居的所有属性打包成一条测试 数据输入到模糊决策树中，即可输出预测的跳数分类结果。
为了更好的描述模糊决策树，表2-3给出了模糊决策树符号定义，模糊决策 树的具体定义如下，设数据集S={Si,S2,---Sn}是离散值域X上的集合，模糊属 性集为 A={AI,A2,…Am},属性 Aj 的术语 V (Aj) ={Vji,Vj2, •••Vjk},其中］W jWm。划分类为C={CbC2, ---Ck}.第i个数据实例&对于第j个属性的隶属度 为Uj,表示定义在V (Aj)上的模糊子集。

(1) 属性集和目标类
通过分布式信息作为输入特征属性建立模糊决策树,具体考虑的属性如表2- 4所示。
表2-4模糊决策树输入输出定义
Hopupdate
邻居节点到基站的跳数，是周期性更新的信息
U_time
邻居节点跳数更新时刻到当前时刻的时间间隔
Direct
邻居节点的速度方向
Speed
邻居节点的移动速度
LET
本节点和邻居节点的链路过期时间
Prog
邻居节点前向距离
16


Degree
本节点节点度
目标类
说明
Hoppre
选择邻居节点作为转发节点传输到基站实际经过的 跳数
Ai-HopUpdate-丑。皿為是邻居节点的跳数信息，由于节点的高移动性和规模 大，维护的跳数在实际使用时可能已经发生了改变，但是跳数的改变也是有限的, 因此维护的跳数将是预估跳数的重要决策属性。
Ai-Ujime, Ujime是跳数更新时间间隔，是指更新跳数的时刻到现在的时 间间隔。
A3-Direct, Direct是节点速度方向，邻居节点移动是靠近还是远离基站对跳 数改变有重要的影响，直观来说，当邻居节点靠近基站移动时，更有机会和基站 建立更短跳数的路由。
A^-Speed,切ee〃是节点移动速度，跳数的变化正是由于节点的移动造成的， 因此节点的移动性是预估跳数的重要决策属性。
As-LET, ZET是链路过期时间，通过移动节点之间的距离、移动节点的速度 和移动方向来计算移动节点的ZE7\计算公式如下：
LETJR"H
1	%+0忆
其中Q和方根据两个节点是相向移动还是相反移动设置为+1/-1。Dy是i节 点和邻居节点j之间的距离，Vj和V2是两个节点的速度，R是最大传输距离。
A6-Prog, ProguDMjd是前向距离,前向距离是指节点到邻居节点的连线在 节点到基站方向上连线的投影，其中Dd是本节点到基站的距离，是邻居节点 到基站的距离。
Ay-Degree, Degree是邻居节点度，指的是邻居节点的个数，这个指标可以 反映网络密度，在网络密度较大的场景中，邻居跳数的差值较小，在网络密度较 小的场景中，邻居跳数的差值较大，所以邻居节点度也会影响跳数的变化。
模糊决策树的训练标签采用实际传输到基站的跳数，如果传输失败则把标签 设置为跳数阈值Hopnres=10o使用模糊决策树时输出为预测跳数值Hopprea
(2) 属性模糊处理
采用式(2-5)〜(2-7)处理属性数据，每个属性值x (At)属于第丿个属性 术语的隶属度函数为：
17


其中，61,偽2,…a：k表示三角模糊数中心。根据隶属度函数对本文的输入属性 进行模糊语义定义，其中跳数属性本身是离散变量不进行模糊处理。
A2-U_time （短、较短、中等、较长、长），As-Direct （靠近基站、远离基站）， A4-Speed （慢、中、快），A5-LET （短、中等、长），A6-Prog （三成进度，五成进 度，七成进度，全进度），“Degree （稀疏、均匀、密集）。
（3）	ID3算法建立决策树
本文采用ID3算法构造决策树，为了尽可能多的拟合特征，越靠近模糊决策 树根部节点就需要选择信息增益越大的属性往下分裂，属性的信息增益越大越先 放入决策树模型中，而计算信息增益首先需要计算数据集爛和属性爛，算法具体 步骤如下。
Steph获得所有模糊化属性的信息增益，要计算每个属性的信息增益，需要 计算数据集的爛和单个属性的爛。数据集的燔E心丿计算公式如下：
_c _
Entropy, E（s）=工-p, log2 p,	（2-8）
目标分类是实际传输到基站的跳数砂他“ C是划分类集合1〜10跳，S是数 据集，卩是数据集中每种分类的概率。
Step2：单个属性的^EAi厶丿计算公式如下：
=	（厶9）
18
其中4是模糊属性集/的第j种属性，V是属性4的取值集合，丿是代表属 性4的第丿种取值，号代表数据集中属性4的值为丿的数据量。例如对于属性 Speed。低速、中速、高速)，假设数据集数量为100条数据，其中低速有20条， 其中有划分类为2跳的有5条，划分类为3跳的有15条，则E (与)二(0.25) log20.25- (0.75) log20.75o
Step3：由此得到的属性4的信息增益公式如下所示：
Gain(S, 4 ) = E(S)(S)	(2-10)
Step4：若无更多属性或者数据集全部划分为一类，则该节点为叶节点，否则 重复 Stepl〜Step3。
模糊决策树从根节点到叶节点代表一条分类规则，叶节点的数量等于分类规 则的数量，叶节点的种类等于划分种类，图2-4为3种输入属性的决策树模型示 意图。



属性类型
属性术语
A,

图2-4决策树模型示意图

随着网络节点移动性的增强，最短跳数预测的思想被提出，减小端到端的跳 数有利于降低端到端时延。最经典的最小跳数预测的方式是贪婪转发［旳，通过选 择离基站最近的下一跳节点来尽可能减小端到端路由跳数，但是这种方法在移动 性较高时容易选出不稳定的链路。近年来提出的从基站开始周期性逐跳广播更新 每个节点到基站的跳数信息可以缓解这个问题⑴〕，但是周期性更新的信息都会 面临信息过期的问题，在大规模网络中提高更新的频率来保证信息的新鲜度会带 来巨大的网络开销，因此需要通过预测的方法来获得正确的跳数信息。
19
由于节点的高移动性以及大规模网络端到端路由链路较长的特性，周期性更 新的跳数信息随着时间的推移快速过时而不可用，如果使用了过时的跳数信息可 能会导致数据包的路由选择经历了更多的跳数，这不仅会造成端到端时延性能下 降而且更多的转发也带来了更高的丢包可能性。因此准确预测实时的跳数信息可 以有效降低大规模网络端到端时延，因此本文采取模糊决策树来预测邻居节点到 基站的跳数。
根据前两小节描述的决策树建立方法，在离线训练场景中采集数据训练出决 策树模型，在本文仿真场景中使用训练好的决策树模型进行跳数预测。遍历邻居 节点，将预测的跳数信息保存在本地并从邻居节点中选择出预测跳数最小的邻居 加入候选转发节点集，算法伪码如算法1所示。
■WT履选转发节点彙决策算法
输入：
邻居表(neighborList)
模糊决策树(Tree)
输出：
候选转发节点集
算法步骤：
1. 对于每个节点Nodel
2. 定义(跳数阈值)
3. 第一次遍历邻居表neighbor List,寻找最小预测跳数值hop^m
4. 根据邻居信息生成模糊决策树输入数据vector<int> data
5. 将fitoa输入模糊决策树输出对邻居跳数的预测值Zzop/Ve，hopMin=Min (hoppre，hop Min)
6. 完成循环，得到/ZOOM”
7. 第二次遍历邻居表neighborList
&将邻居预测跳数值hop氏=肋的邻居加入候选转发节点集
9.完成循环，得到候选转发节点集
2.2.5指数加权移动平均
指数加权移动平均通过采取历史信息来预测未来可能出现的情况，指数加权 平均是过去历史信息做均值处理的时候加上指数相关的权重，这样可以得到随着 时间增加而淡化历史信息样本的重要程度，离当前时间越近的历史信息数据权重 越大，离当前时间越远的历史信息数据权重越小，这一思想非常符合无人机自组 网快速移动场景的实际情况。
20

在大部分网络实际应用场景中对数据包生命周期(TimeToLive:TTL)凹都 有限制条件，无论何时在网络中生存时间超过TTL的数据包被认为失去转发到 目的地的意义，因此在转发过程中会被丢弃。为了降低端到端时延，本文在转发 过程中采用指数加权平均移动的方法预测单跳转发成功率，单跳转发成功率与单 跳时延和传输成功率相关［切。为了得到单跳时延，采用ACK反馈机制，每个成 功接收的数据包都会由接收节点j反馈ACK包到发送节点i, ACK包中带有接 收时间戳信息，因此发送节点i通过接收时间减去发送时间可以得到本次传输的 单跳时延delayijo
如果数据包由于某些原因丢失则不会产生ACK包，因此发送节点会有一个 接受ACK包的最大时间限制，超过了 ACK包的接收时间限制可以认为发包失 败。由于数据包生命周期TTL的限制，端到端时延超过TTL的数据包都会被丢 弃，因此ACK包的最大等待时间即为TTL。

在大规模网络场景中，存在节点密度较大的情况，路由协议底层MAC采用 802.11b,是最典型的竞争型接入方式，在节点密度较大的情况容易出现传输冲突 从而导致数据包传输延迟避让的情况，当节点发包出现了回退避让的情况时单跳 传输时延较大。因此转发成功率的定义应该要与传输单跳时延相关，这样保证了 预测目标是在转发成功率高的同时保证了单跳时延较低，如下所示是本次传输转 发成功率坷的定义：
0	转发失败或者超时
/? (2-11 )
IJ delay# TTL 其他情况
本文通过指数加权平均移动法进行转发成功率预测，指数加权平均移动公式 定义如下：
叫(")=(1一0)%(”-1) + 0 鸟(”―1)	(2-12)
其中，0表示可调权重系数，“0心丿表示第"次传输转发成功率的预测值， Rij (n-l)表示上一次传输转发成功率的反馈值。

本文的目标是通过模糊决策树和指数加权移动平均的分布式下一跳转发节 点在保证传输成功率不下降的情况下降低端到端时延。
由于大规模网络存在节点密度较大的场景，并且由于节点发包速率恒定，节 点密度越大越容易出现传输冲突，传输冲突会造成节点单跳时延增加，传输成功 率下降，本文通过指数加权移动平均算法通过累计的转发成功率信息预测候选转

发节点的转发成功率，从候选转发节点集中选出传出成功率期望最高的节点作为 最优节点决策。
通过模糊决策树可以得到通过每个邻居传递数据包到基站所经过链路的预 期跳数，将具有当前最小预期跳数的节点加入候选转发节点集合，当集合中有多 个节点时需要从中选择出一个最优的邻居来传输文采用指数加权移动平均以历 史转发成功率作为度量，从预估跳数最小的邻居集合中选出预测传输成功率最高 的节点作为最优转发决策，算法伪码如算法2所示：
籟入：
指数加权移动平均表(WTable)
候选转发节点集
输出：
最优转发节点ID Cgetwayld)
算法步骤：
1. 定义 Wmax^O, getwoyld=1024
2. 遍历候选转发节点集，对于发送节点i寻找转发成功率最高的候选节点
3. 如果 Wij (n) >Wmax,则 Wmax= Wv (n) , getyayld =j
4. 完成循环，得到getwayld
2.3仿真和分析
2.3.1仿真设置

首先，为了从节点规模、研究背景、方法类型和实验目标等各个方面对比分 析FDT的通信性能指标，我们使用表2-5中列出的四种路由协议作为FDT的对 比协议。其中DOA是针对大规模移动自组织网络优化的经典路由协议，其最大 节点参数设置达到了本文最大节点数量1000个，RFLQGeo是以飞行自组织网络 为背景的机器学习地理路由协议，LBR是优化最小跳数的路由协议,MLProph是 近年输入参数指标最全的机器学习路由协议，并且仿真的最大节点数量达到了 330 个。
表2-5 FDT对比算法
对比算法	w m	影响因子



实验仿真在linux系统中采用NS3网络仿真工具进行，NS3版本号为3.26。 NS3作为代表性网络仿真器可以很好的模拟无人机组网的移动性，底层支持的网 络协议也适用于无人机自组网，本仿真实验中的具体参数设置如表2-6所示。在 实际应用中，无人机通信场景是3维空间，而本文采用的仿真场景是2维平面, 这是因为本文所选的对比算法都采用2维场景仿真，为了控制变量且将问题聚焦 在大规模上，对于三维场景的特性并不做考量。并且在无人机路由协议相关论文 中，在不关注3维特性的研究方向中，三维场景的模型问题可以投影到2维场景 来分析，因此模型具有适用性。
表2-6实验参数设置
区域大小


（1）评价指标
1 .数据包传输率：
数据包传输率可以衡量网络的拓扑稳定性，链路可靠性，基站收到的数据越 多，则网络的数据包传输率越高。
23
PDR= ”厶	(2-13)
i=\
2. 网络吞吐量：
网络吞吐量代表传输数据的能力，受接收的数据、运算时间和缓存策略的影 响。
THROUGHPUT 丄	(2-14)
t
3. 端到端时延：
端到端时延是衡量数据传输时效性重要指标，计算公式如下：
血％ =丄工 delay匚	(2-15)
n
4. 网络能量消耗：
自组网节点能量有限，能耗代表网络寿命和运行时间，较小的能耗也能使网 络运行更加稳定持久。
n
5. 平均跳数：
平均跳数是所有到达目的地数据包的总跳数除以数据包总数量。
4HC=Ho%a ― PacketNwnga	(2-17)
6. 控制开销
控制开销指的是路由控制包所产生的开销，指的是路由控制包总数量。
ControlOverhead - PakcetNumconlrol	(2-18)
(2)仿真持续时间对无人机组网通信性能的影响
为了探讨FDT的性能，比较分析了五种路由协议在固定速度和节点数量条
件下仿真时间对网络性能的影响。网络设置如表2-7所示。
表2-7网络参数列表1
参数
值
路由协议 仿真时间 移动模型
RFLQGeo、MLProph^ DOA、LBR、FDT
100s、 200s、 300s、 400s、 500s
RPGM
(3)节点数量对网络性能的影响
通过调整节点数量，分析不同节点数量对网络性能的影响，网络设置如表2- 8所示。

24
表2-8网络参数列表2
参数
值
路由协议
RFLQGeos MLProph> DOA、LBR、FDT
节点数量
60 个、100 个、200 个、400 个、700 个、1000 个
移动模型
RPGM
（4）分析网络范围对协议性能的影响
在保持网络密度为1000x1000m时100个节点不变。通过调整节点数量和网 络仿真区域范围，分析节点密度不变情况下不同节点数量对网络性能的影响，网 络设置如表2-9所示。
表2-9网络参数列表3
参数
值
路由协议 区域边长 移动模型
RFLQGeo、MLProph、DOA、LBR、FDT
550m、700m、1000m> 1400m> 1800m、2300m
RPGM
（5）无人机移动性对组网通信性能的影响
在分析无人机移动性对组网通信性能的影响时，通过设置不同无人机的运动 速度，观测分析其对网络性能的影响。网络设置如表2-10所示。
表2-10网络参数列表4
参数
值
路由协议
RFLQGeo、MLProph、DOA、LBR、FDT
节点速度
5m/s> l0m/s> 15/wZs、20m/s、25m/s> 30/MZS
移动模型
RPGM
2.3.2仿真结果分析

本组实验无人机速度设置为30m/s,节点数量设置为400,通信半径设置为 225m,仿真区域大小为1000x1000mo以仿真时间为自变量来说明路由协议的稳 定性以及机器学习算法的收敛速度，并从整体上观察路由协议的性能。
图2-5为仿真时间对网络性能的影响，从图中可以看出，RFLQGeo、MLProph 随着仿真时间的增大性能逐渐变好，这是因为这两种路由协议采用的机器学习算 法中都有在线优化的部分，因此算法需要时间收敛到最优值，在遇到网络频繁波 动时性能不稳定，但是可以更好的适应更多不可预知的场景。DOA、LBR、FDT 的网络性能和仿真时间相关性不强，这三种路由协议适应特定的场景，对网络频 繁波动适应性强。
从图2-5 （a）和（b）可以看出FDT的时延和平均跳数都是最小的。FDT的 跳数相比 RFLQGeo、MLProph. DOA、LBR 分别降低了 58.1%、46.7%、45.1%、 11.7%o FDT 的时延相比 RFLQGeo、MLProph. DOA、LBR 分别降低了 72.1%、 76.6%、74.5%和22.1%。从图2-5 （c）和（d）可以看出FDT在数据传输率上相
25

较于 MLProph、DOA 和 LBR 分别提高了 18.4%、34.7%和 27.6%。FDT 在吞吐
量上相较于MLProph、DOA和LBR分别提高了 23.5%. 52.5%和13・0%。

图2-5仿真时间对网络性能的影响

(1)密度变化
本组实验设置为仿真时间为500s,节点移动速度为30m/s,通信半径为225m, 仿真区域大小为1000x1000m,以节点数量为自变量来说明在大规模网络中本文 算法的优良性。
图2-6展示了不同节点规模对网络性能的影响，从图2-6 (a)和(b)可以 看出无论节点规模如何变化，FDT的时延和平均跳数都是最小的。随着节点规模 的增大，RFLQGeo、MLProph. DOA的时延在开始时保持缓慢增大，超过400 个节点后迅速增大，而FDT和LBR相对保持较低的值。从上诉结果可以看出， 在大规模网络中以跳数作为转发候选节点集的FDT和LBR可以保持较低的时 延，而以可靠性为首要目标的RFLQGeo、MLProph、DOA容易造成大量数据包 集中在一条链路上传输导致较大的时延。
26

从图2-6 (c)和(d)可以看出随着节点规模的增长。FDT在数据传输率和 吞吐量性能上从第三名增长到第二名，虽然不如RFLQGeo高，但是RFLGQeo 是在牺牲了大量时延的基础上换来的吞吐量提升，在有时延限制的大规模场景下 不适用。综上所述，我们可以得出在大规模场景下FDT相较于MLProph、D0A、 LBR是更优秀的路由协议，而FDT和RFLQGeo相比各有优劣，RFLQGeo有更 好的吞吐量和数据传输率，FDT有更低的时延和跳数。
RFLQGeol^ MLProph亦 DOAg对 I.B ~1 FDTI . II ] RFLQGeo^] MLProph离 IXW和 LMif [ FM|

节点数直(个)	节点数量(个)
(c)节点数量对PDR的影响	(d)节点数量对吞吐量的影响
图2・6节点数量对网络性能的影响
图2・7展示了不同节点规模对网络控制开销和能耗的影响，从图2・7 (a)可 以看出，随着节点规模的增长FDT和RFLQGeo、MLProph. LBR的控制开销几 乎相差无几，而DOA的控制开销随着节点规模增长迅速增大。综上可以看出 DOA作为传统的拓扑路由，需要花费大量的控制包在广播寻路上，尤其在网络 节点规模较大时，容易出现广播泛洪，造成控制开销过大，过多的控制开销不仅 会造成较大的能量消耗，而且也容易产生冲突影响数据包传输性能。
27

从图2-7 (b)可以看出，FDT在保持较好性能的同时并没有产生过多的能量 消耗，而DOA在大规模场景下能耗较大，这是由于大规模场景下广播寻路会造 成过多能耗。
~"RFLQGeo -_MLProph ■ - DOA LBR FDT]	' RFLQGeo MLProph DOA LBR FDL

T点数量对控制开销的影响	(b) T点数量对平均能耗的影响
图2-7节点数量对网络控制开销和能耗的影响
(2)密度不变
本组实验设置为仿真时间为500s,节点移动速度为30m/s,通信半径为225m, 保持1000x1000m大小区域中200个节点的密度不变，仿真区域随着节点数量变 化而变化，以仿真区域边长为自变量来说明在大规模网络中本文算法的优良性。
图2-8展示了仿真区域大小对网络性能的影响，从图2-8 (a)和(b)可以 看出无论仿真区域大小如何变化，FDT的时延和平均跳数都是最小的。随着仿真 区域增大，RFLQGeo、MLProph, DOA的时延在开始时保持缓慢增大，仿真区 域边长超过1400m后迅速增大，而FDT和LBR保持相对较低的值。从上诉结 果可以看出，在大规模网络中以跳数作为转发候选节点集的FDT和LBR可以保 持较低的时延，而以可靠性为首要目标的RFLQGeo、MLProph、DOA容易寻找 较长但较稳定的链路来传输数据包，链路较长数据包经过的跳数较多，因此时延 较大。
从图2-8 (c)和(d)可以看出随着仿真区域大小变大。FDT在数据传输率 和吞吐量性能上高于LBR和DOA,虽然不如RFLQGeo个MLProph,但是 RFLGQeo和MLProph是在牺牲了大量时延的基础上换来的吞吐量提升，在有时 延限制的大规模场景下不适用。综上所述，我们可以得出在大规模场景下FDT相 较于DOA、LBR是更优秀的路由协议，而FDT和RFLQGeo以及MLProph相 比各有优劣，RFLQGeo和MLProph有更好的吞吐量和数据传输率，FDT有更低 的时延和跳数。
28


仿真区域边长(m)	仿真区域边长(m)
(c) 仿真区域大小对PDR的影响	(d) 仿真区域大小对吞吐量的影响
图2-8仿真区域大小对网络性能的影响
图2-9展示了不同节点规模对网络控制开销和能耗的影响，从图2-9 (a)可 以看出，随着仿真区域变大FDT和RFLQGeo、MLProph. LBR的控制开销几乎 相差无几，而D0A的控制开销随着节点规模增长迅速增大。从图2-9 (b)可以 看出，FDT在保持较好性能的同时并没有产生过多的能量消耗，而D0A在大规 模场景下能耗较大，这是由于大规模场景下广播寻路会造成过多能耗。
~RFLQGeo	MLProph - l)()A LBR FBT]	~~RFLQGeo	MLProph DOA LBR FDTI


(a)仿真区域大小对控制开销的影响(b)仿真区域大小对平均能耗的影响
图2・9仿真区域大小对控制开销和能耗的影响

本组实验节点数量设置为400个仿真时间为500s,仿真区域大小为 1000x1000m,通信半径为225mo以节点速度为自变量，来说明本文算法即使在 节点速度比较快的情况下，也可以保持优良性能。
图2-10展示了移动速度对网络性能的影响，从图2-10 (a)和(b)可以看 出无论移动速度如何变化，FDT的时延和平均跳数都是最小的。随着移动速度的 增大，RFLQGeo. MLProph, DOA和LBR的时延和跳数都有所增加。FDT的时 延和跳数先增大后减小，这是因为FDT训练场景的速度为30m/s,因此FDT除 了在较低速度时性能较好外，训练的速度场景下性能也较好，可以得出FDT训 练效果较好的结论。从上述结果可以看出FDT和对移动性具有更强的适应性。
从图2-10 (c)和(d)可以看出随着移动速度的增大。FDT在数据传输率 和吞吐量性能上从排在第二，虽然不如RFLQGeo高，但是RFLGQeo是在牺牲 了大量时延的基础上换来的传输率和吞吐量提升，在有时延限制的场景下不适用。 综上所述，我们可以得出在所有场景下FDT相较于MLProph、DOA、LBR是更 优秀的路由协议，而FDT和RFLQGeo相比各有优劣，RFLQGeo有更好的吞吐 量和数据传输率，FDT有更低的时延和跳数。
[Lf RFLQGcog^ MIFrwh荧 MAT网	下讦	j~~肿LBlC~l I'llT


图2・10移动速度对网络性能的影响
2.4本章小结
本章提出一种基于模糊决策树的路由协议FDT,以解决大规模无人机群网 络中路由跳数较大导致时延较高的问题。在FDT中，首先基站通过周期性的的 逐跳广播方式更新跳数信息和跳数更新时间等端到端信息信息，随着时间的推移 跳数信息的可信度下降，本文采用模糊决策树进行跳数信息的预测。节点通过模 糊决策树分布式的做跳数预测，模糊决策树模型通过离线训练得到并保存在无人 机节点内存中，网络运行过程中直接使用模糊决策树输入分布式的邻居参数即可 得到跳数预测结果，将跳数最小的邻居加入候选转发节点集，为了避免选出的链 路稳定性太差，保证较高的数据传输成功率，通过指数加权移动平均法从候选转 发节点集中选出传输成功率最高并且时延最低的最优节点。
从五种协议对比结果可以得出，FDT有着最小的平均跳数，最低的平均端到 端时延。有跳数约束的路由协议时延较低，但是也存在丢包率不够高的问题,FDT 在保持低时延的前提下提高了传输成功率和吞吐量，并且结果上优于除 RFLQGeo外的所有对比协议。从节点规模为自变量的实验结果上来看，FDT是 最适用于大规模网络的路由协议，有着最低的时延和可观的吞吐量。从移动速度 为自变量的实验结果上来看，FDT随着移动速度提高保持了较高的网络性能，适 用于高速飞行的无人机群。
31
第三章支持快速移动的无人机辅助网络机器学习信道接入
算法研究
3.1系统模型
3.1.1概述与假设

网络中的机器人群分布如图3-1所示，机器人群在区域中进行群体移动，无 人机基站是唯一的且在区域中自由移动的。在无人机基站覆盖范围R内的机器 人是需要与无人机进行信道接入的机器人，无人机覆盖范围外R的机器人通过 多跳传输到基站，因此不需要与无人机进行信道接入。由于机器人的快速移动性, 以及无人机的快速移动性，在无人机覆盖范围7?内的节点通常会跑出覆盖范围， 而在覆盖范围外的节点则会进入无人机覆盖范围。无人机的覆盖范围R与无人 机飞行高度〃有关。

32

在本章研究中，我们提出如下假设：(1)无人机基站在飞行过程中保持同一 高度；(2)无人机可受控移动；(3)节点同构且保持移动；(4)节点装有GPS, 可以知道本节点的位置信息；(5)节点知道自己的属性(移动速度、剩余数据量 等等)。
3.1.2地空信道模型
本文考虑一个三维笛卡尔坐标系对地空信道建模，无人机在一个固定的高度 H飞行，在实际情况中，H为无人机辅助网络的常规高度100m,这个高度大概 相当于四十层楼高，因此无人机飞行不会受地面建筑物影响。假设地面机器人传 感器节点位于原点(0,0,0)。无人机投影在水平面上的轨迹表示为q (t) =[x (t),y
(t)],则无人机到地面机器人传感器节点的时变距离可以表示为：

假设无人机到地面机器人传感器节点的通信链路为视距通信链路。因此，时 变信道可以近似为自由空间路径损耗模型I%】，可表示为：
h(t)=阳 Q(/)=	_ ,0</<7	(3-2)
肝+||q(t)『
其中00表示为距离d (0) =lm时的信道功率。假设无人机的传输功率P恒 定。则无人机与地面机器人传感器节点的最大通信半径d”远为定值。
3.1.3能耗模型
能量消耗是无人机自组网通信需要考虑的方面，无人机节点发送数据包和接 收数据包都需要消耗能量。发送节点消耗的能量与数据包比特数、节点传输距离 以及功率放大器的能耗有关。如果两个无线通信的无人机节点之间的距离足够小, 无线通信能量消耗模型是自由空间模型，如果两个无线通信的无人机节点之间的 距离较大，无线通信能量消耗模型是多径衰落信道模型⑷。接收节点消耗的能量 与数据包比特数以及接收机电路的能耗有关。具体模型公式如下：
(3-3)
E2 = k・E霊 (3-4)
其中讯代表接收无人机受到每比特数据包需要消耗的能量，k是以比特为 单位的无线通信接收数据包的大小，无论是空中无人机与地面机器人的通信还是 两个地面机器人的通信，d都代表两节点之间的直线距离，是无人机发送没 比特数据包需要消耗的基础能量。序和知分别是无线通信能量消耗自由空间模 型和多径衰落信道模型的传播介质系数。do是区分两种模型的边界条件，阈值do 为：
33

3.1.4移动模型
本文为模拟无人机辅助网络通信地面移动机器人节点的移动性所选择的移 动模型是参考点组移动模型⑶。在该模型中无人机分成多个移动小组。每个组存 在一个参考点和约束范围，整个群组向着参考点移动，群组内节点在组约束范围 内随机移动。节点的移动速度大小在设置的范围内随机，移动方向在设置的范围 内随机，随机值周期性的发生改变。
参考点组移动模型中每个组都存在一个参考点，每当一个组成员的参考点移 动到一个新的位置，这个组成员也移动到一个随机选择的位置，这个位置在其新 的参考点位置周围半径为R的约束范围内。同时在每个小组覆盖区域的中心是 一个逻辑引导点，它的运动定义了整个小组的运动，包括速度、方向和加速度。 逻辑引导点基于特定的实体移动性模型。参考点跟在逻辑引导点周围，并与逻辑 引导点保持恒定的距离和方向，每个逻辑引导点引导一个或多个参考点，具体模 型示意图如图3-2所示。

t时刻	t+i时刻

逻辑引导点	•参考点 ☆组成员 ( 组半径
图3-2群体移动模型示意图
无人机基站采用受控移动方式收集全网移动机器人数据，无人机基站的飞行 轨迹根据本文提出的度量学习概率路标路径规划方法周期性规划，网络整体系统 模型示意图如图3-3所示。
34


图3-3无人机飞行轨迹示意图

3.2基于度•学习和着色图的信道接入算法
本章提出了一种基于度量学习优化无人机飞行轨迹的信道接入算法，使用离 线训练度量矩阵来预测每个位置上的吞吐量性能，通过优化无人机飞行轨迹来提 增大接触时间，进而有更多的时间收集数据提高吞吐量。
3.2.1整体框图
系统整体框图如图3-4所示，其中信息更新模块负责收集全网节点的信息来 生成概率地图以及完成后续的路径规划和信道分配。无人机基站根据收集到的节 点信息生成概率地图，并通过离线训练得到的度量矩阵来预测往每个节点方向移 动的吞吐量，根据吞吐量最大来规划飞行路径。在规划好飞行路径后信道接入模 块负责基于着色图的无冲突接入，无人机节点根据与地面机器人节点的接触时间 来分配接入优先级，分配好优先级后讲对应色号广播给地面机器人节点，机器人 节点按色号接入信道传输数据。
35




信道接入/信息收集
路径规划
信道接入/信息收集
路径规划

■


r	周期T

<	周期T

图3-5算法帧结构
无人机基站在飞行过程中会周期性广播Becon包，目的是探测通信范围内的 节点数量和位置，以进行后续的时隙分配和轨迹规划。因为无人机是高速移动的， 所以无人机基站和地面节点之间的信道接入是动态变化的，时隙分配和无人机飞 行轨迹需要周期性的更新和规划，如图3-5所式这是相互独立的两个阶段，分别 对应本文的3.2.3节3.2.4节。
地面节点收到无人机广播的Hello包后，将自己的信息放入ACK包中传给 无人机基站，节点回传的ACK包结构如表3-1所示。
表3」ACK包结构
节点ID
节点IP
节点位置
剩余能量
包ID
令B居信息
3.2.3基于度童学习的概率路标路径规划

静态传感器网络与移动传感器网络的主要区别是:无人机覆盖范围内节点的 传输机会不同。在静态情况下，所有被覆盖节点都是静态的，节点与无人机之间

36 的相对速度〃相同，因此，它们与无人机之间的接触时间CD取决于二者之间 的相对接触距离Dr。
CD=Dr/Vr	(3-6)
但是当地面传感器节点以不同的速度运动时，CD会有很大的差异。直观上 说当两者的CD越短，移动传感器节点与无人机通信的机会就越小。从上式可以 看出影响无人机和移动传感器节点之间CD的因素主要有两个:两者之间的相对 速度和两者之间的相对距离。传统无人机辅助网络信道接入方法的思想都是在固 定的接触时间CD内优化接入算法来提高传输效率，或者通过优化无人机的飞行 速度来提高接触时间［旳。但是本文考虑通过规划飞行路径的方式增大接触距离 Dr,以此来提高接触时间CD,并在提高接触时间CD的情况下提高信道接入算 法的性能。
•	无人机预定义飞行路径点
©	无人机调整后飞行路径点

如图3-6所示，为了优化网络吞吐量本文采用度量学习的概率路标路径规划 的方式调整无人机飞行路径点，通过优化无人机飞行路径来增大无人机与传感器 节点的接触距离来增大无人机与地面移动传感器节点之间的接触时间。

本文假设无人机无法得知全局节点信息，因此在路径规划中无法利用全局信 息进行整体规划。传统的TSP算法不再适用，概率路标发通过局部信息即可进 行路径规划，因此本文采用概率路标法进行路径规划的基本算法。概率路标法首 先需要构造概率地图，在概率地图上通过递归搜索最短路径来进行路径规划。
概率地图可以用无向循环图来表示，假设G”表示空间中的节点集，Ge表示 节点间构成的局部路径边集，则概率地图可表示为G= (Gn,Ge)。构造好概率地 图之后再利用度量学习预测目标位置数据收集的吞吐量信息，将最大化吞吐量代 替最短路径度量来递归搜索最大吞吐量路径，以此完成路径规划。
37
本文通过无人机广播收集全网连通节点信息的方式构造概率地图，收到无人 机广播包的节点将自身信息发送给无人机，并以逐跳的方式继续广播。

传统的路径规划方法存在度量不准确的现象，并且路径规划的目标通常是最 短路径或最小任务完成时间，而无人机的飞行规划会大大影响无人机辅助网络的 数据收集性能，因此需要通过度量网络性能来规划路径。在本文中通过度量学习 预测吞吐量，度量学习离线训练模型来近似得到目标预测值，再利用吞吐量度量 代替最小路径度量的方式规划路径，采用概率路标法构造概率地图规划无人机飞 行路径。
本文假设无人机有预定义的飞行路径，但是由于地面传感器节点的移动性, 这种预定义的飞行路径点并不是最优的飞行路径，因此无人机根据路径点上传感 器节点的位置和速度信息利用度量学习方法进行飞行路径的优化调整，周期性的 输出下一调整路径点，当然并不是每一次都能进行有效的调整，因为不能保证飞 行路径上的传感器节点信息都能通过多跳的方式传给无人机，当不具备这些信息 的时候，无人机按照预定义的路径飞行。
将无人机周期性广播包收集到的地面节点回传信息放入邻居表中，将邻居表 中的信息作为一跳测试数据输入到度量矩阵，输出即为邻居位置方向的预测吞吐 量，度量学习离线训练的主要参数定义如表3-2所示。
表3-2度量学习输入输出定义
输入属性符号
说明
Thr 0QS update
当前无人机收集数据的实时吞吐量
POSX
地面机器人节点横坐标
POSy
地面机器人节点纵坐标
Speedgboi
机器人节点速度
SpeeduAV
无人机基站速度
Degree
邻居节点度
输出
说明
Threaspre
预测邻居位置方向吞吐量值
Ai-Threasupdatet T防是当前无人机收集数据的实时吞吐量，预测下一位 置吞吐量时跟当前时刻吞吐量相关，如果当前吞吐量较大，则无人机需要在周围 区域多进行数据收集，相距较近的邻居节点会获得更大的吞吐量预测值，相距较 远的节点将会获得较小的吞吐量预测值。如果当前吞吐量较小，则无人机周围移 动机器人数量较少，无人机需要飞到更远的区域进行数据收集。
38
A2-POSX, Posx是地面机器人节点的横坐标。
A3-POSy, POSy是地面机器人节点的纵坐标。
A4-Speedr0b0„ Speedrobot是移动机器人的移动速度，由于预测的吞吐量代表的 是无人机基站飞到移动机器人通信范围后进行数据收集的吞吐量性能，因此机器 人的移动性越小代表无人机飞到目标位置时机器人位置偏离越小。
A5-SpeeduAV>	是无人机基站的移动速度，无人机基站的移动速度代
表影响移动到目标位置的时间，无人机移动速度越大代表无人机移动到目标位置 时机器人位置偏离越小。
A6-Degree, Degree是机器人节点的邻居节点密度，目标机器人邻居节点密 度越大代表目标位置机器人越密集，预测吞吐量越大。
输出T防easp“是无人机飞往机器人节点目标位置时的预测吞吐量，通过 如〜&6的输入属性参考，可以得到目标位置的预测吞吐量，该值再经由概率路标 路径规划算法的递归搜索，即可得到无人机飞行轨迹，无人机飞行轨迹会周期性 调整更新以适应地面机器人的移动性。
度量学习的目的是通过寻找一个合适的度量矩阵M,计算样本之间的马氏 距离度量，通过排斥异类拉进同类的方法对数据集进行分类，算法具体过程如下：
2(d“©)2©)	(3-7)
M是半正定对称矩阵可以表示为M=LTL,目的是通过矩阵M来完成对输入 属性到输出目标之间的映射，原始数据d映射到一个新的分类空间Z。度量学习 最终就是通过生成的矩阵M存储到无人机内存中，在路径规划时输入邻居属性 来映射到预测吞吐量。
首先在训练场景中运行基于LMNN算法的训练网络，来离线训练特征度量 矩阵。其中，Z为距离度量矩阵。根据同类别距离相互拉进不同类别距离相互推 远的思想，定义非等价性约束，非等价性约束的作用是把不同类别的数据相互推 远：
工工(1—几)[1 + 2(兀宀)一2(兀,切]	(3-8)
i,jwKNN /
其中皿在样本同类时为1,异类时为o, K入W代表K个样本在同一个类别 域，在本文中K取值为10,竝代表任意输入样本，砂代表和鋪同在一个域中的同 类样本，血代表入侵样本。等价性约束的作用是把相同类别的数据相互拉进，定 义等价性约束为：
%(厶)=X	(3-9)
最终结合非等价性约束和等价性约束可构造如下损失函数：
£ (Q = (1 -	(Q+(Q	(3-10)
39
其中，“为权重系数一般取0.5。

度量学习的目的是通过离线训练得到的度量矩阵来进行吞吐量预测，将邻居 信息作为输入，映射为预测的吞吐量值，然后利用预测的吞吐量值来优化无人机 的运动轨迹。
路径规划算法首先通过周期性广播收集到全网部分节点的信息，利用这些信 息构造概率地图，再将节点信息通过度量矩阵输出为目标位置的预测吞吐量值。 通过修改最短路径算法中的最短路径度量为预测吞吐量值最大度量来规划无人 机飞行轨迹，由于地面机器人具有移动性，网络性能具有动态变化的特性。为了 适应机器人位置的变化和网络性能的波动，周期性的进行路径规划来保持髙吞吐 量性能。具体算法伪码如算法3所示：
予法3在线路径规划算法	_
输入：
度量矩阵(M)
概率地图&= (G",Ge)
输出：
路径点(wayPointLisf)
算法步骤：
1. 将地图节点信息打包成测试数据data<n>
2. 将所有地图节点Gn信息输入度量矩阵M转换为每个节点位置的预测吞吐量Threspre
3. 通过递归搜索所有地图节点，利用最短路径算法生成路径点wayPointList.
4. 周期性执行上述3步，更新飞行路径。
3.2.4图着色信道接入算法
在确定了下一飞行路径点之后，这意味着未来一段时间无人机飞行的信息已 知，通过无人机的飞行轨迹和覆盖范围内的地面传感器信息进行信道接入的调度 分配，无人机根据信道接入策略主动与地面传感器节点建立连接收集传感器数据, 图着色理论可以无冲突的实现这一过程。
3.2.4.1图着色接入机制
由于数据包的传输可能和广播信息收集节点重叠，所以本文存在多跳信道分 配问题，因此网络可以用图来表示，图中的每个点代表网络中的节点，连接两点 的边代表两点的发包通信，因此多跳网络的信道分配问题可以转换为图着色问题。
基于图着色的网络可以用无向图G= CG”, Ge丿来定义，其中G”为网络中无 人机节点的集合，Ge代表两无人机节点之间链路连通的边集合。图着色问题转

换为将集合7划分为K个不包含任何边的独立子集合。着色图问题主要是用来 计算最小的颜色组数K值，本文用信道数量代表问题中的颜色组数K。已知K个 信道反向利用图着色理论，来建立无冲突的无向图用来进行时隙分配信道接入。 信道接入的基本理论是当节点处于发送模式时无法接收数据包，而在接收模式下 可以同时接收多个节点的数据包，因此颜色代表的是占用信道来发送数据，在该 颜色代表的时隙下节点无法接收数据包。
在本文使用的着色算法中，需要定义以下参数：
1. 每个节点着色编号n,
2. 节点邻居着色编号表，
3. 着色到期时间。
建立无冲突的着色图的机制是在节点j转发数据包的过程中，通过在数据包 加入本节点的着色信息，与一跳范围内的邻居保持无颜色冲突的分配方式，即每 个节点需要保证本节点的颜色与所有邻居节点颜色不一样，着色后的多跳接入如 图3-7所示。

时刻T,信道分配给黄色	时刻T+1,信道分配给红色
图3-7信道着色示意图

无人机基站为了收集全网节点的数据包，需要规划合适的飞行路径来最大化 吞吐量，首先需要收集全网节点信息，本文通过无人机基站周期广播的方式收集 通知节点发送信息给基站，在广播通知的过程中通过图着色理论规划了节点多跳 信息回传的接入时隙。为了提高吞吐量，除了网络初始化时信息包直接传输，在 常规运行时间内信息放在数据包头发送，因此存在多跳信道接入冲突问题，采用 图着色避免冲突。


无人机基站对每个群内节点进行时分多址时隙分配，按照接触时间的优先级 顺序对无人机覆盖范围内的节点分配时隙传输数据包。并将实时吞吐量结果返回 给无人机轨迹优化模块，优化无人机飞行轨迹。基于位置分布加上无人机基站以及机器人节点的移动性导致接触时间发生 变化重构传输优先级，把这作为信道接入优先级的度量指标。传统的地空通信网络中按照无人机在地面覆盖范围和飞行方向给地面传感 器分优先级接入信道传输数据。在支持快速移动的无人机辅助网络中，无人机飞 行速度较快，且地面节点可以是具有移动性的移动机器人，因此采用接触时间划 分优先级的信道接入方法。
3.3仿真和分析
3.3.1仿真设置

本文研究背景中的无人机辅助网络信道接入算法采用的都是常规的优先级 信道接入方法，这种接入方法适用所有类型的自组织网络，并且自组织网络中采 用的信道接入方法也都适用在无人机辅助网络背景中。因此本文对比算法选取的 标准是方法类型和适用场景，本文所选的对比算法为动态网络中性能较好的机器 学习信道接入方法。
为了对比和讨论ML的通信性能指标，我们使用以下四种信道接入算法作为 ML的对比协议，这四种算法都是近几年提岀的机器学习信道接入算法，对不同 的移动场景都具有普遍适应性。DLMA通过对信道历史状态观测形成强化学习 的状态输入以适应网络结构的动态变化，通过DQN神经网络训练，对于每一个 输入状态都有两个动作的Q值输出，通过不断的训练最终达到长期收益最大化。 iQRA针对移动网络提出一种深度强化学习MAC协议，当中设计了一种基于信 道观测的退避反馈方法，通过自我审查训练的方式自适应的扩展和缩小竞争窗口 的大小，以提高MAC协议的性能。QLearner利用强化学习帮助节点减少竞争型 接入冲突，强化学习的动作是发送的概率，节点以各种不同的方式产生退避时间， 当退避时间达到后，会根据学习得到的最佳发送概率判断是发送还是延迟。SLA 针对移动网络通过随机学习自动机进行分布式信道接入选择，节点从个人行为奖 励历史中学习，并将他们的行为调整到游戏博弈的纳什均衡点。
表3-2 ML的对比算法
对比算法	w m	影响因子

实验仿真在linux系统中采用NS3网络仿真工具进行，NS3版本号为3.26。 NS3作为代表性网络仿真器可以很好的模拟无人机辅助网络的移动性，底层支持 的网络协议也适用于无人机辅助网络，本仿真实验中具体参数设置如下表。
表3-3实验参数设置
区域大小
1000m X 1000m
通信半径R
225m
无人机基站速度
20〜100 (m/s)
无人机基站高度
100m
机器人节点速度
20m/s
节点群组大小
10
数据包大小
512bytes
wifi协议
802.11b
节点初始能量Eo
5J

50nJ/bit

10 pJ/bit/m2

0.0013 pJ/bit/m4
普通节点个数
20〜100
43

基站数目
1

(1) 评价指标
1•数据包传输率：
数据包传输率可以衡量网络的拓扑稳定性，链路可靠性，基站收到的数据越 多，则网络的数据包传输率越高。
PDR=卩直	(3-12)
?=1
2. 网络吞吐量：
网络吞吐量代表传输数据的能力，受接收的数据、运算时间和缓存策略的影 响。
THROUGHPUT =生	(3-13)
t
3. 端到端时延：
端到端时延是衡量数据传输时效性重要指标，具体计算公式如下：
delayarv =丄工血呱	(3-14)
n
4. 网络能量消耗：
自组网节点能量有限，能耗代表网络寿命和运行时间，较小的能耗也能使网 络运行更加稳定持久。
n
_工E,
4 —	(3-15)
n
(1) 分析不同发包数对信道接入算法性能的影响
为了探究不同发包数对网络路由协议性能的影响，我们以不同发包数为自变 量，选择发包数为2000、4000、6000、8000、10000,探究网络路由协议性能。
(2) 分析移动性对信道接入算法性能的影响
为了探究移动性对网络路由协议性能的影响，我们以不同的移动速度为自变 量，选择节点移动速度为20m/s、40m/s、60m/s、80m/s、lOOm/s,探究网络路由 协议性能。
(3) 分析节点数量对信道接入算法性能的影响
为了探究节点数量对网络路由协议性能的影响，我们以不同节点数量为自变 量，选择节点的数量分别为20个、40个、60个、80个、100个来探究网络路由 协议性能。
44

3.3.2仿真结果及分析

本组实验节点速度设置为60m/s,节点数量设置为60个。以发包数量为自 变量在整体上说明提出算法的性能。
图3-9为发包数量对网络性能的影响图，从图中可以看出，提出算法ML相 较于对比算法DLMA、iQRA、QLeaner、SLA在吞吐量性能上分别提升了 38.18%、 46.24%、49.15%、26.76%。在数据包传输率上相较于 DLMA、iQRA、QLeaner 分 别提升了&81%、15.80%、17.54%,时延和能耗结果也在可接受的范围内。综上 所述本文提出的算法在丢包率和吞吐量方面表现优秀，吞吐量更是远优于所有对 比算法。这是因为本文采取的无人机路径规划算法使得无人机减少了无效的飞行,
因此采集规定数量的数据包所花费的时间更少，吞吐量更高。

图3・9发包数对网络性能的影响

本组实验节点速度设置为发包数量为6000个，节点数量设置为60个。以节 点移动速度为自变量说明提出算法对高移动速度的适应性。
45

从图3-10中可以看出随着节点移动速度的增大，所有算法性能都在不断下 降，然而提出算法ML在吞吐量性能上始终保持最优。传输成功率性能在移动速 度超过60m/s后升到了第一，在移动速度lOOm/s的情况下，ML相较于对比算 法 DLMA、iQRA、QLeaner、SLA 在吞吐量性能上提升了 59.54%、94.28%、96.48%、 31.51%。ML在传输成功率性能上相较于对比算法DLMA、iQRA、QLeaner、SLA 提升了 16.75%、27.71%、28.27%、3.69%。在时延性能上相较于对比算法SLA下 降了 10.55%。由此可以说明提出算法ML对于高移动性的适应性。ML的能量消 耗也在可接受的范围内。

图3-10移动性对网络性能的影响

本组实验节点速度设置为60m/s,发包数量为6000个。以节点数量为自变 量来比较网络节点规模对信道接入算法的影响。
从图3-11中可以看出节点数量较少时ML的吞吐量性能并不是最优的，这 是因为当网络中节点数量较少，网络较稀疏时，路径规划并不能提高无人机采集 数据的效率，稀疏的网络导致大部分节点的信息无法传输到无人机，路径规划算
46

法失效，因此无人机基本采用预定的路径飞行。随着节点数量的增大，网络连通 性的增强，无人机可以通过多跳采集到网络中大部分节点的信息，路径规划算法 开始生效，ML算法的吞吐量性能达到最优。在节点数量为100个的情况下，ML 相较于对比算法DLMA、iQRA、QLeaner. SLA在吞吐量性能上提升了 48.46%、 60.66%、58.81%、31.71%。ML 相较于对比算法 DLMA、iQRA、QLeaner 在数据 传输率性能上提升了 6.16%、11.26%、10.58%。ML在时延和能耗性能上的表现 也在可接受的范围内。

图3・11节点数量对网络性能的影响
3.4本章小结
本章提出一种支持快速移动的无人机辅助网络度量学习信道接入算法MLo 以解决无人机辅助网络中数据收集吞吐量不够高的问题，传统的无人机辅助网络 无人机以固定路径飞行，在飞行过程中与地面传感器节点的接触时间较短，传统 方法在飞行过程中采用信道接入算法优化接入方式提高数据收集效率。随着无人 机技术的发展，高速移动的无人机具有更高的机动性，利用无人机的高移动性可 47 以更好的提升网络性能，因此本文利用无人机采用多跳的方式收集到网络中节点 信息，收集信息后利用路径规划算法来提升无人机飞行过程中和传感器节点的接 触时间，以此提高吞吐量，本文采用度量学习进行路径规划。首先通过离线训练 度量矩阵，将网络中可能出现情况以及每种情况下的吞吐量进行训练拟合，算法 运行时在线使用度量矩阵，无人机将多跳收集到的全网节点信息输入度量矩阵规 划自身的飞行轨迹来保证更高的覆盖率和数据收集效率。在规划好的飞行路径下 飞行时采用图着色方式进行信道接入避免多跳信息传输的冲突，信道接入的优先 级根据预测链路连接时间来排序。
从五种协议的对比结果中可以看出，ML采用的路径规划方式替代了传统的 固定轨迹飞行，降低了无人机的无效飞行时间,有效的利用了无人机的高移动性， 提高了网络的吞吐量性能，但也存在时延较高和能耗较高的问题。整体上来说 ML在保证时延和能耗在可接受范围内的前提下尽量提升吞吐量和传输成功率。 以移动速度为自变量的实验结果上来看，ML适用于高速移动的无人机辅助网络。 从节点数量为自变量的时延结果上来看，ML不适用节点密度较低的场景，这种 场景下多跳信息收集失效，因此路径规划算法失效，在节点密度达到一定条件下 有较好的性能。从发包数为自变量的实验结果上来看，ML具有较稳定的性能。

第四章总结与展望
4.1总结
随着无人机为代表的移动机器人广泛应用于各种军事和民用领域，无人机组 网通信的需求日益增大，路由协议和信道接入算法对组网通信性能又很大影响。 因此无人机组网路由协议和信道接入算法成为研究热门。将无人机应用于无线传 感器网络，可以有效地采集传感器数据，延长网络寿命，降低网络能耗。越来越 多大规模和高速移动的应用场景的出现，使得现有路由协议在大规模场景下端到 端跳数过长造成时延较大，现有信道接入算法在高速移动场景下接触时间较短造 成吞吐量过低。本文为了解决上述两个问题，第一，提出了大规模无人机群组网 的模糊决策树路由协议，目的是通过减少路由跳数降低端到端时延；第二，提出 了高速移动无人机辅助网络的信道接入算法，目的是通过路径规划增大无人机基 站和传感器的接触时间从而提高吞吐量。本文的主要工作和贡献如下：
(1) 针对大规模网络端到端跳数过大，端到端时延过大问题，通过模糊决 策树模型做分布式的跳数预测，提出了大规模无人机群组网的模糊决策树路由协 议FDT,以此保证路由的最短跳数和最低时延。节点的高移动性以及大规模网络 端到端路由链路较长的特性，周期性更新的跳数信息随着时间的推移快速过时而 不可用，如果使用了过时的跳数信息可能会导致数据包的路由选择经历了更多的 跳数，这不仅会造成端到端时延性能下降而且更多的转发也带来了更高的丢包可 能性。因此准确预测实时的跳数信息可以有效降低大规模网络端到端时延。仿真 结果表明FDT相较于对比算法RFLQGeo、MLProph、DOA、LBR在不增加能耗 和控制开销的前提下端到端时延上分别降低了 72.1%、76.6%、74.5%和22.1%, 但是在传输成功率和吞吐量性能上还有待提高。
(2) 针对快速移动无人机辅助网络通信接触时间较短，解决网络吞吐量低 下问题，提出了支持快速移动的无人机辅助网络信道接入算法ML,假设无人机 有预定义的飞行路径，但是由于地面传感器节点的移动性，这种预定义的飞行路 径点并不是最优的飞行路径，因此无人机根据路径点上传感器节点的位置和速度 信息利用度量学习方法进行飞行路径的优化调整，周期性的输出下一调整路径点, 当然并不是每一次都能进行有效的调整，因为不能保证飞行路径上的传感器节点 信息都能通过多跳的方式传给无人机，当不具备这些信息的时候，无人机按照预 定义的路径飞行。在规划好无人机飞行路径后，采用图着色的方法降低接入冲突。 通过有效的路径规划增大无人机和地面传感器节点的接触时间，提高吞吐量。仿真结果表明ML在吞吐量性能上相较于对比算法DLMA、iQRA、QLeaner, SLA 性能上分别提高了 38.18%、46.24%、49.15%、26.76%,并在传输成功率上也有 很好的表现，但是本文提出的算法ML在时延和能耗上具有局限性。

4.2展望
本文围绕大规模、快速移动机器人群的机器学习组网关键技术展开研究，在 基于模糊决策树预测模型的基础上，提出了 FDT算法，提高了大规模无人机组 网通信的时延性能。在基于度量学习预测模型的基础上，提出了 ML算法，提高 了快速移动无人机辅助网络的吞吐量性能。同时，在机器学习算法模型应用，移 动模型的适应性以及无人机飞行能耗方面，本文仍有很多不足之处，针对传输成 功率，网络能耗等网络性能的其他方面仍有待提高。
在后续的研究工作中，可以从以下几个角度出发：
(1) 机器学习算法的优化，提出更适合大规模无人机群和支持快速移动无 人机辅助网络的机器学习算法。
(2) 针对大规模网络的数据传输率较低和广播包较多的问题，减少广播包 发送提高数据传输成功率。
(3) 针对实际应用场景进行吞吐量和时延的多目标优化，提高整体网络性 能。
(4) 针对无人机飞行能量问题，结合现有无线充电技术，在优化网络吞吐 量的同时进行无线充电保证无人机飞行能量充足。

参考文献
[1] Bekmezci , Sahingoz 0 K , Temel ・ Flying Ad-Hoc Networks (FANETs) : A


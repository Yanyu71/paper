第一章绪论
伴随着互联网技术和信息技术的发展，不同类型的社交媒体(Social Media)不 断涌现，打破了人类传统生活中时间和空间的约束，极大地扩展了人类的社交范围, 为人们创造、获取和传播信息提供了一个全新的交互平台。越来越多的用户加入到 以社交媒体为中心的网络世界中。截止到2019年，全球社交媒体用户已达34.84亿 人，占全球总人口的45%臼。随着用户的不断涌入，社交媒体中的数据量在不断攀 升。用户越来越难以在海量的数据中发现自己所需的信息。与此同时，用户通过与不 同的社交媒体交互以满足不同类型的服务需求，用户产生的数据也相应地分散在不 同社交媒体中并且存在相关性。面对更加互联的社交媒体时代，如何将不同域中的 数据联合起来，为用户全面提取跨域数据中的巨大价值是亟待解决的问题。因此，跨 域数据挖掘研究应运而生。但在实际的社交媒体应用中，跨域信息间的关联十分复 杂，急需提出一种能够有效捕捉跨域关联并实现跨域数据联合挖掘的方法。用户兴 趣实际上是用户在不同社交媒体中产生不同数据的内在驱动。建模用户兴趣能够挖 掘到信息间复杂关联和用户真实需求，并已在社交媒体应用中发挥了巨大作用。基 于用户兴趣的跨域数据挖掘研究将为应对实际应用中面临的跨域数据的复杂特点提 供新的思路，为实现深度挖掘社交媒体数据内的巨大价值提供新的解决途径。
1.1	研究背景及意义
社交媒体是人们用来发布、分享和交换信息的虚拟社区和网络平台⑶。《2019年 中国社会化媒体生态概览白皮书》网将国内的社交媒体分为8个大类、26个小类，涵 盖了交友、兴趣、影音娱乐、电商购物、知识资讯等多个方面。本论文中也将不同的 社交媒体称为不同的域。随着社交媒体的广泛普及和用户规模的急剧扩张，社交媒 体中的数据量迅速激增。Go GlobleW在2017年发布的报告中指出，在60秒时间内， Youtube中视频的上传量超过400小时、观看量约70万小时，Google的搜索量超过 380万，Facebook的图片上传量超过24.3万、视频观看长度超过7万小时，Twitter 上将发出超过35万条推文，Instagram中图片上传量超过65000张，在Linkedln中将 创建120个新用户账号，超过1.56亿封电子邮件被发送。用户面对海量的社交媒体 数据，将需要耗费大量的时间去发现有价值的信息。许多帮助用户筛选有价值信息
的数据挖掘方法(如推荐系统、搜索引擎、检索系统)不断涌现。但在很多大型的购 物网站、多媒体服务网站、新闻网站等社交媒体中项目的数量十分庞大，如淘宝网 中每天的在线商品数超过8亿而用户只能与不到1%的项目产生交互I6,7］,这使 得现有的数据挖掘方法面临严重的数据稀疏性问题网。
社交媒体中的数据呈跨域分布并且相互关联。全球网络指数(Global Web Index, GWI)在年度报告中指出，全球的互联网用户平均每人拥有7.6个社交媒体账号。为 了享受社交媒体提供的各种服务和便利，用户会与不同的社交媒体进行交互，产生 的数据也分散在不同社交媒体中。如图1-1所示，用户通过Facebook、QQ、微信等 在线社交网站与朋友进行交流的同时，还会利用Twitter、新浪微博等短文本分享网 站分享和发现有趣的内容，通过Amazon、淘宝、京东等购物网站购买商品，使用 YouTube、Flickr、网易云音乐等多媒体服务网站来发现、观看和收听喜欢的视频、图 片和音乐等。研究表明用户在不同域产生的数据之间存在很强的关联性Pl。例如，喜 欢看侦探类书籍的用户更倾向于选择悬疑类型的电影来看，而观看某部感兴趣的电 影后用户往往会在购物网站上购买一些与电影相关的周边商品。因此，通过引入跨 域数据能够有效为缓解单域场景中的数据稀疏性问题提供契机。
YouTube
新浪微博
amazon
weibo.com
多媒体服务网站
Taobao.com
购物网站
点评网站
在线社交网站
用户与不同社交媒体交互示意图
通过聚合不同域中碎片化数据以缓解单域数据稀疏性问题的跨域数据挖掘研究 目前受到广泛关注。现有的跨域数据挖掘方法利用跨域用户身份识别［10］、跨域推
荐［113］等多种方法以提取跨域数据中的价值。然而这些方法为了快速实现跨域数据 的联合利用，大都只基于单一类型的数据口4-16］或简化跨域信息间的关联，如假设不 同域内的用户行为模式具有一致性口7-电、群体行为模式具有一致性［9.20.21］。这些方 法在面对实际应用中数据更为复杂的情况时，将难以适用。
在社交媒体的跨域场景中，跨域数据挖掘研究仍然面临一些限制性能提升的亟 待解决的关键问题，如图1-2所示。首先，实际情况中跨域数据是异质的，这将导致 跨域信息间关联交错复杂的问题。不同域中的数据存在不同的类型，如文本、图片、 视频和音频。而用户在不同域中的交互方式也多种多样，如在线社交网站中，用户 与用户之间可以进行关注、增加好友或者聊天等操作，而在多媒体分享网站中，用 户对社交媒体内容数据可以进行分享、评论、上传或浏览等操作。不同类型数据的 共存，使得不同类型的跨域信息间存在复杂的关联关系。例如，用户对某个明星感 兴趣，会在微博网站中关注了此明星的动态，也会在图片分享网站中浏览该明星的 图片，在视频网站中观看该明星的相关视频。由于不同域中的数据的存储方式、粒 度和结构等都不同，跨域信息来自不同特征空间，难以将跨域信息直接融合、统一 挖掘【22】。而传统的假设跨域行为具有一致性的方法主要针相同类型的数据，因此难 以适用。其次，由于社交媒体的隐私保护机制，跨域数据是匿名化的，从而导致跨 域信息间关联缺失不足的问题。在许多社交媒体（如新闻网站、视频网站、购物网 站）上，用户经常在未登录自己账号或未注册账号的匿名情况下与不同的网站进行 交互［23-25］。由于用户处于匿名状态，只能收集到用户当前与系统进行交互的短期时 间内的少量跨域行为记录。由于缺少用户身份信息，匿名状态下的用户的跨域历史 数据也难以获得。这大大减少了可利用的跨域数据量，削弱了跨域信息间的关联，从 而加重了融合跨域数据的难度。最后，跨域数据实际上具有动态性，使得跨域信息间 具有复杂动态关联的问题。社交媒体用户的跨域数据带有时间属性，且存在时序依 赖关系［26］。例如，用户在电影网站上观看了一些爱情电影（如《泰坦尼克号》）后， 由于对电影的配乐很感兴趣，随后才会去音乐网站上收听相关的主题音乐（如《我 心永恒》）。在不同的时间，随着与不同社交媒体上交互的内容不同，用户的跨域行 为会不断产生动态变化，因而使得跨域信息间具有动态关联关系。但由于不同域的 知识独立性和服务差异性的存在，不同域信息实际上具有不同的动态变化规律，导 致跨域信息间的动态关联更加复杂。基于以上分析，如何解决这些实际应用中影响 跨域数据挖掘性能提升的关键问题，以全面挖掘跨域数据中的价值，是一个需要深 入研究的重要课题。
3
未登录或未一 注册的匿名
跨域数据匿名化
"won com.cn
多媒体服务网站
文本蜀片
跨域薮据异康拄
跨域数提动态往
音乐网站
图1-2	社交媒体中跨域数据挖掘研究面临的问题
目前，已有一些基于语义的方法127-29］和基于图模型的方法［3。,31］通过挖掘跨域 内容数据间的语义相关性或利用多关系图来描述不同类型行为关系的方式，来捕 捉跨域信息间的关联。但由于这些方法只针对较为简单的单一类型跨域数据或包 含多关系行为的跨域数据场景进行设计，仍然具有很大的局限性。事实上，用户兴 趣132-34］是驱动用户在不同社交媒体产生不同数据的内在因素。例如，用户的社交兴 趣指导用户关注不同的朋友，购物兴趣帮助用户选择喜欢的商品。挖掘用户不同类 型行为数据中隐藏的兴趣信息，能够更有效地建立不同数据之间的链接。通过将不 同类型的数据映射到相同的兴趣空间中，具有相同兴趣语义的数据的表示在同一空 间中尽可能接近，可以更容易地捕捉不同信息间的复杂关联，以实现异质数据的融 合。另外，通过构建合适的用户兴趣模型，用户兴趣能够进一步获得统一的数学化 描述RI,以便后续用于预测用户的未来行为和为相应的应用场景服务92,3旬。由于在 深度理解和分析用户行为方面的巨大潜能，用户兴趣已成为推荐系统bl、数字图书 馆［36,37］等众多应用中实现个性化服务的有效途径。因此，建模用户兴趣不仅为应对 实际应用中跨域数据的融合提供新的视角，还为全面挖掘跨域用户真正需要的信息 提供新的思路。
本论文的研究意义在于，在综合考虑实际的社交媒体应用中面临的各个关键问 题的基础上，探索通过建模用户兴趣来挖掘跨域信息间的复杂关联以提升跨域数据 挖掘性能的新方法。同时，通过聚合用户的跨域数据极大地缓解单域场景中的数据 稀疏性问题，并通过全面捕捉跨域用户兴趣，使得满足用户个性化需求的目标得以 实现。本论文结合跨域数据挖掘这一前沿方向，极大拓展了用户兴趣模型的应用范 围，从而为用户兴趣模型开辟了更加广阔而深入的研究道路。
1.2	论文主要研究工作
本论文的选题来源于北京市教委共建项目子课题——“基于大数据的异构信息 网络的信息传播及演化机理研究”和“基于社交感知和跨媒体计算的社会公共安全 事件分析与预测研究”。论文利用用户兴趣，围绕社交媒体实际的跨域场景中面临的 跨域数据异质性、匿名化和动态性的复杂特性带来的关键问题，对基于用户兴趣的 跨域数据挖掘方法进行深入细致的研究。
对于跨域数据异质性导致跨域信息间关联交错复杂的问题，论文通过将不同域 的异质数据映射到同一个兴趣空间，以完整融合异质跨域数据，研究异质跨域数据 下基于用户兴趣的跨域用户身份识别方法。对于跨域数据匿名化导致跨域信息间关 联缺失不足的问题，论文仅利用用户匿名情况下获得的少量跨域数据，挖掘隐藏的 兴趣信息建立跨域关联，以实现各域碎片化信息的聚合，研究匿名跨域数据下基于 用户兴趣的跨域推荐方法。对于跨域数据动态性导致跨域信息间具有复杂动态关联 的问题，联合捕捉用户兴趣的跨域动态变化和单域动态变化，利用深度学习方法准 确建模用户兴趣间的复杂动态关联，分别研究基于多层循环神经网络和基于门控-循 环神经网络的跨域推荐方法。论文的研究内容如下：
(1)跨域数据挖掘及用户兴趣模型的综述与分析
论文首先总结了社交媒体中跨域数据挖掘的研究现状，并指出了建模用户兴趣 是挖掘跨域信息间复杂关联的关键。然后总结了用户兴趣模型的构建过程，重点研 究了用户兴趣建模方法。最后分析了社交媒体中基于用户兴趣的跨域数据挖掘研究 现状，并探讨了用户兴趣模型提升社交媒体中跨域数据挖掘性能的优势。
(2)异质跨域数据下基于用户兴趣的跨域用户身份识别方法研究
不同社交媒体中数据的类型和用户行为方式丰富多样，使得跨域数据异质性的 特点变得尤为突出。跨域数据的异质性令跨域信息间的关联变得更加复杂，难以直 接融合跨域数据。为了实现跨域异质数据的全面融合，论文研究如何在统一的兴趣 空间中完整捕捉异质的内容和社交结构信息间的丰富关系，以学习更完整的基于内 容偏好和社交偏好的用户兴趣的统一描述，增强识别跨域用户身份准确性。相比于 传统的假设不同类型的跨域信息相互独立的方法，论文通过过充分挖掘不同类型跨 域信息间的关联，实现了用户身份识别准确性的提升。
(3)匿名跨域数据下基于用户兴趣的跨域推荐方法研究
由于社交媒体的跨域用户未登录或未注册账号等原因，跨域用户处于匿名状态。 由于无法获得用户历史行为数据，使得可获得的跨域数据大大减少，导致跨域信息
5
之间的关联缺失不足。为了在仅能获得少量跨域数据情况下依然满足为匿名用户准 确推荐的要求，论文全面挖掘跨域数据中隐藏的兴趣信息，建立丰富多样的异质关 系以补充缺失的关联，通过联合捕捉匿名用户的域内和域间的碎片化信息并映射到 相同的兴趣空间中，实现跨域兴趣的统一描述。研究匿名跨域数据下基于用户兴趣 的跨域推荐方法，不仅克服了跨域数据匿名化问题，而且在即使只有少量训练数据 的情况下也保证了推荐性能的提升。
(4)动态跨域数据下基于用户兴趣的跨域推荐方法研究
跨域数据在不同域中都具有时间属性，由于不同社交媒体之间存在知识和服务 差异性，使得跨域信息间具有复杂的动态关联问题。首先，针对不同域信息的跨域 全局动态变化和单域内局部动态变化存在差异性的问题，论文研究基于多层循环神 经网络的跨域推荐方法研究，通过联合建模用户兴趣的跨域全局演化模式和单个域 内局部动态模式，以全面挖掘用户兴趣间的动态关联信息，从而提升动态场景下个 性化跨域推荐的性能。其次，由于跨域用户存在跨域切换行为，从而导致在捕捉跨 域信息的动态变化时会引起部分单域行为间链接损失的问题，论文研究基于循环-门 控神经网络的跨域推荐方法，从完整建模短期兴趣和长期兴趣的角度来实现单域行 为间链接的重建，以更全面地建模用户兴趣的跨域全局动态演化和单域局部动态模 式，进一步提升了跨域推荐的性能。
X.3论文主要研究成果
针对社交媒体的实际跨域场景中面临的关键问题，论文通过建模用户兴趣，探 讨如何通过捕捉跨域信息间的复杂关联，实现跨域数据的全面融合，以提升数据挖 掘方法的性能。论文针对实际的社交媒体跨域场景中面临的跨域数据异质性导致跨 域信息间关联交错复杂问题、跨域数据匿名化导致跨域信息间关联缺失不足问题、 跨域数据动态性导致的跨域信息间具有复杂动态关联问题展开了系统研究，主要成 果包括：
(1)提出了一种基于链接异质网络嵌入的跨域用户身份识别方法
针对跨域数据异质性导致跨域信息间关联交错复杂的问题，论文提出了一种基 于链接异质网络嵌入的跨域用户身份识别方法，通过在统一的兴趣空间中捕捉不同 类型的跨域信息间丰富的关联关系以全面融合跨域数据，提升跨域用户身份识别的 准确性。为了统一描述不同域的内容数据，论文首先建立基于内容的主题模型以分 别提取不同域的内容主题特征。其次为了全面地捕捉跨域信息中丰富的关联，构建
6
包含用户-主题的内容关系、用户-用户的社交关系和用户-用户的跨域对应关系的链 接异质网络。通过联合捕捉域内和域间的基于用户-主题、用户-用户的异质关系，学 习到基于内容偏好和社交偏好的跨域用户兴趣的统一表示。然后根据不同域中用户 兴趣的表示进行跨域用户身份识别。最后设计基于负采样的联合训练算法进行模型 的优化和训练，并且在两个跨域数据集上分别设计实验进行验证，所提方法的性能 与假设不同类型的跨域信息相互独立的方法相比性能至少提升19%,证明通过充分 挖掘不同类型跨域信息间的关联可以有效提升跨域用户身份识别的准确性。相关研 究成果发表于SCI期刊World Wide Web Journalo
(2)提出了一种基于跨域异质关系嵌入的跨域推荐方法
针对跨域数据匿名化导致跨域信息间关联缺失不足的问题，论文提出了一种基 于跨域异质关系嵌入的跨域推荐方法，通过深度挖掘匿名用户行为数据中的隐式兴 趣信息弥补缺失的关联信息，保证在只能获得少量跨域数据的情况下依然满足推荐 准确性的需求。为了补充域间关联，论文首先利用双聚类算法挖掘项目间的跨域共 现性关系，建立基于类别的跨域兴趣链接。然后，为了进一步挖掘跨域信息与域内信 息间的关联，论文联合捕捉了多种异质关系(项目-项目上下文的关系、项目-类别上 下文关系和类别-项目上下文关系)。并通过聚合不同域中的项目表示以学习到完整 描述用户兴趣，从而提升跨域推荐性能。其次，论文设计了面向异质关系的联合训练 算法来进行模型的优化和训练。最后，论文在三个跨域数据集上分别验证了所提方 法的性能。实验表明，在信息缺失50%且用户匿名的情况下，所提方法的推荐性能 相比于传统的针对匿名用户的单域推荐和跨域推荐方法至少提升11%,证明了通过 全面挖掘隐藏的跨域关联，可以很好地弥补缺失的跨域信息以提升推荐性能。相关 研究成果发表于国际学术会议 ACM International Conference on Web Search and Data Mining (WSDM) 2019。
(3)提出了一种基于多层循环神经网络的跨域推荐方法
针对对不同域信息的跨域全局动态变化和单域内局部动态变化存在差异性的问 题，论文提出了一种基于多层循环神经网络的跨域推荐方法，通过联合建模用户兴 趣的跨域全局演化模式和在单域中的局部动态模式，全面捕捉用户兴趣信息间动态 关联。为了捕捉跨域信息的全局动态变化，论文首先构建跨域用户级循环神经兴趣 模型，建模了不同域中会话间的全局兴趣演化模式。为了保护单域内信息的局部动 态变化，构建了两个域感知会话级循环神经兴趣模型，分别建模了不同域中用户兴 趣的局部动态变化模式。然后联合用户级和会话级的动态兴趣信息来进行跨域推荐。
7
其次设计了跨域数据最小批训练机制来提升模型的训练速度。最后，论文分别在三 个数据集上对论文所提方法的性能进行验证。所提方法比其他基于动态数据的单域 推荐和跨域推荐方法的性能至少提升8%,证明通过准确捕捉跨域信息间的动态关联 可以有效提升推荐性能。相关研究成果发表于SCI期刊Neurocomputing和EI期刊北 京邮电大学学报。
(4)提出了一种基于循环-门控神经网络的跨域推荐方法
针对在捕捉跨域信息的动态变化时，由于用户跨域切换行为的存在造成部分单 域行为间链接损失的问题，论文提出了一种基于循环-门控神经网络的跨域推荐方法, 从长期兴趣和短期兴趣两个角度，在全面捕捉用户兴趣的跨域全局演化模式和局部 动态模式的同时，重建损失的单域行为间链接，进一步提升跨域推荐性能。为了完 整建模跨域短期兴趣中的动态变化模式，设计了一个基于循环神经网络的跨域短期 兴趣模型，建模了会话内的短期行为的依赖关系。为了从短期兴趣的角度恢复损失 的单域行为间链接，在跨域行为切换时设计一个融合层来引入已经中断的短期兴趣 信息以弥补损失。为了进一步捕捉跨域长期兴趣中的动态演化模式，引入一个基于 门控神经网络的跨域长期兴趣模型，通过自适应地选择能代表用户真正兴趣的信息, 以准确追踪连续会话间的长期动态演化规律。另外，论文设计了一个跨域兴趣正则 化函数从长期兴趣的角度重建损失的单域行为间的链接信息。为了提升模型的效率, 设计了相应的跨域数据最小批训练机制。最后，论文在三个数据集上分别进行实验, 结果表明所提方法比其他基于动态数据的单域推荐和跨域推荐方法的性能至少提升 26%,证明通过准确捕捉跨域信息间的动态关联和重建单域行为间链接可以有效提 升推荐性能。相关研究成果已投稿于SCI期刊Knowledge-based Systems«
1.4论文内容安排
本论文共分为六章，主要工作及组织结构如图1-3所示。具体安排内容如下：
第一章为绪论，首先介绍了社交媒体中基于用户兴趣的数据挖掘方法的研究背 景、并详细阐述了现有社交媒体中跨域数据挖掘研究面临的若干关键问题与研究基 于用户兴趣的跨域数据挖掘方法的研究意义，随后总结了论文的主要研究工作和研 究成果。最后说明了论文的结构安排。
第二章为社交媒体中用户兴趣模型研究与跨域数据挖掘的相关综述，首先总结 了社交媒体中的跨域数据挖掘的研究现状，其次，总结了用户兴趣模型的构建过程, 并重点对用户兴趣建模方法进行综述和分析。最后详细讨论了社交媒体中基于用户
8
第一章绪论	)
第二章跨域数据挖掘及用户兴趣模型研究综述
「事述法］「一痴痴痴嬴一］
\_	珊研尤	/ K	j
:再够宇新簿都 i 跨域数据挖掘研究 '
跨域数据异质性导致跨域信息 间关联交错复杂问题
跨域数据匿名化导致跨域信息 间关联缺失不足问题
、跨域数据动态性导致跨域信息 间具有复杂动态关联问题
第三章异质跨域数据下基于用户 兴趣的跨域用户身份识别方法研究
第四章匿名跨域数据下基于 用户兴趣的跨域推荐方法研究
I基于链接异质网络嵌入的 |跨域用户身份识别方法
基于跨域异质关系嵌入的 跨域推荐方法
第五章动态跨域数据下基于 用户兴趣的跨域推荐方法研究 「基于多彦循环褶网落的心 । 跨域推荐方法 ।
傕福海书爵窿■醺函］

跨域推荐方法
।
论文研究工作总结	.
第六章总结与展望
「一亲旃赢
图1-3	论文主要工作及研究架构
兴趣的跨域数据挖掘研究现状，并探讨了用户兴趣模型提升跨域数据挖掘性能的优 势。
第三章研究异质跨域数据下基于用户兴趣的跨域用户身份识别方法。针对跨域 数据异质性导致跨域信息间关联交错复杂的问题，论文提出了一种基于链接异质网 络嵌入的跨域用户身份识别方法，通过在统一的兴趣空间中融合不同域中的内容和 社交结构数据来全面学习基于内容偏好和社交偏好的用户兴趣统一表示。通过进一 步设计联合训练算法和跨域用户身份识别算法来提升识别跨域用户身份准确性。
第四章研究匿名跨域数据下基于用户兴趣的跨域推荐方法。针对跨域数据匿名 化导致跨域信息间关联缺失不足的问题，本章设计了一个基于跨域异质关系嵌入的 跨域推荐方法，仅利用在用户匿名情况下获得的少量跨域数据，通过全面挖掘跨域 关联并捕捉域内和域间的异质关系，以弥补跨域信息间缺失的关联信息。另外，通 过设计高效的联合训练算法来优化模型。最后，基于用户兴趣的统一表示进行跨域 推荐，使得即使在只有少量用户训练数据时也能保证推荐的性能提升。
第五章研究动态跨域数据下基于用户兴趣的跨域推荐方法。针对跨域数据动态 性导致跨域信息间具有复杂动态关联的问题，首先提出了一种基于多层循环神经网 络的跨域推荐方法，通过联合建模用户兴趣的跨域演化模式和单域动态模式，以捕
9
捉跨域信息间的复杂动态关联。然后提出了一种基于循环-门控神经网络的跨域推荐 方法，通过从长、短期兴趣两个角度，在全面准确建模用户兴趣的跨域演化模式和 单域动态模式的同时，重建损失的部分单域行为间链接，显著提升了推荐性能。
第六章总结了本论文的研究工作以及研究成果，并进一步展望了下一步的研究 方向。
参考文献
[1] We are social, Hootsuite. Global digital 2019 reports[EB/OL]. https://wearesocial.com/blog/2019/ 01/digital-2019-global-intemet-use-accelerates, 2019.
[2]中国互联网信息中心.第44次中国互联网发展状况统计报告[EB/OL]. http://www.cac.gov.cn/ 2019-08/30/c_l 124938750.htm, 2019.
[3]凯度.2019年中国社会化媒体生态概览白皮书[EB/OL]. http://www.kantarmedia.com.cn/ thinking/detail/id/194,2019.
[4] Go globle. Things that happen on internet every 60 seconds[EB/OL]. https://www.go-globe.com/ things-that-happen- every- 60- seconds/, 2017.
[5]淘宝网.淘宝简介[EB/OL]* https://www.taobao.com/tbhome/page/about/honie?spm:=a21 bo.2017. 1997523009.31.5af911 d9YWfzru, 2017.
[6]	Sarwar B, Karypis G, Konstan J, et al. Item-based collaborative filtering recommendation algorithms [A]. // Proceedings of the 10th International Conference on World Wide Web[C]. Berlin, German: Springer, 2001: 285-295.
[7]	Wang J, Huang H Zhao H, et al. Billion-scale commodity embedding for e-commerce recommendation in alibaba[A]. // Proceedings of the International Conference on knowledge discovery and data mining[C]. New York, NY: ACM, 2018: 839-848.
[8]	He Y9 Yang S, Jiao C. A hybrid collaborative filtering recommendation algorithm for solving the data sparsity [A]. // Proceedings of the International Symposium on Computer Science and Society[C]. PiscaUway, NJ: IEEE, 2011: 118-121.
[9]	Li B, Yang Q, Xue X. Can movies and books collaborate? cross-domain collaborative filtering for sparsity reduction[A]. // International Joint Conference on Artificial Intelligence[C]. San Francisco, CA: Morgan Kaufmann Publishers Inc, 2009.
[10]	Shu K, Wang S, Tang J, et al. User identity linkage across online social networks: a review[J]. ACM SIGKDD Explorations Newsletter, 2017,18(2): 5-17.
[11]	Li B. Cross-domain collaborative filtering: a brief survey [A]. //2011 IEEE 23rd International Conference on Tools with Artificial Intelligence^]. Piscataway,NJ: IEEE Press, 2011: 1085-1086.
[12]	Khan M M, Ibrahim R, Ghani I. Cross domain recommender systems: a systematic literature re-view[J]. ACM Computing Surveys (CSUR), 2017, 50(3): 1-34.
[13]	Cantador I, Fernandez-Tobias I, Berkovsky S, et al. Cross-domain recommender systems[J]. Recommender systems handbook, 2015: 919-959.
[14]	Hu L, Cao J, Xu G, et al. Personalized recommendation via cross-domain triadic factorization[A]. // Proceedings of the 22nd international conference on World Wide Web[C]. Berlin, German: Springer, 2013: 595-606.
10
[15]	Pan W Vang Q. Transfer learning in heterogeneous collaborative filtering domains [J]. Artificial intelligence, 2013, 197: 39-55.
[16]	Tiroshi A, Kuflik T. Domain ranking for cross domain collaborative filtering[A]. // International Conference on User Modeling, Adaptation, and Personalization[C]. Berlin, German: Springer, 2012: 328-333.
[17]	Narayanan A, Shmatikov V De-anonymizing social networks [A]. 〃 2009 30th IEEE symposium on security and privacy[C]. Piscataway, NJ: IEEE, 2009: 173-187.
[18]	Korula N, Lattanzi S. An efficient reconciliation algorithm for social networks [A]. // Proceedings of the VLDB Endowment[C]. Trondheim, Norway: VLDB Endowment, 2014: 377-388.
[19]	Phan M C, Sun A, Tay Y Cross-device user linking: url, session, visiting time, and device-log embedding[A]. // Proceedings of the 40th International ACM SIGIR Conference on Research and Development in Information Retrieval[C]. New York, NY: ACM, 2017: 933-936.
[20]	Gao S, Luo H, Chen D, etal. Cross-domain recommendation via cluster-level latent factor model[A]. // Joint European conference on machine learning and knowledge discoveiy in databases©. Berlin, German: Springer, 2013: 161-176.
[21]	Ren S, Gao S, Liao J, et al. Improving cross-domain recommendation through probabilistic clusterlevel latent factor model [A]. // Twenty-Ninth AAAI Conference on Artificial Intelligence [C]. Menio Park, CA: AAAI Press, 2015.
[22]	Zheng Y Methodologies for cross-domain data fusion: an overview[J]. IEEE transactions on big data, 2015, 1(1): 16-34.
[23]	Hidasi B, Karatzoglou A, Baltrunas L, et al. Session-based recommendations with recurrent neural networks [J]. arXiv preprint arXiv: 1511.06939, 2015.
[24]	Hidasi B, Karatzoglou A. Recurrent neural networks with top-k gains for session-based recommen-dations[A], // Proceedings of the 27th ACM International Conference on Information and Knowledge Management©. New York, NY: ACM, 2018: 843-852.
[25]	Wang S, Cao L, Wang Y A survey on session-based recommender systems[J]. arXiv preprint arXiv: 1902.04864, 2019.
[26]	Quadrana M, Cremonesi P, Jannach D. Sequence-aware recommender systems[J]. ACM Computing Surveys (CSUR), 2018, 51(4): 1-36.
[27]	Loizou A. How to recommend music to film bufifs: enabling the provision of recommendations from multiple domains[D]. Southampton, England: University of Southampton, 2009.
[28]	Fernandez-Tobias I, Cantador I, Kaminskas M, et al. A generic semantic-based framework for crossdomain recommendation[A]. // Proceedings of the 2nd International Workshop on Information Heterogeneity and Fusion in Recommender Systems[C]. New York, NY: ACM, 2011: 25—32.
[29]	Kaminskas M, Fernandez-Tobias Is Cantador I, et al. Ontology-based identification of music for places[A]. // Information and Communication Technologies in Tourism 2013[C]. Berlin, German: Springer, 2013: 436-447.
[30]	Jiang M, Cui P, Chen X, et al. Social recommendation with cross-domain transferable knowledgefj]. IEEE transactions on knowledge and data engineering, 2015, 27(11): 3084-3097.
[31]	Ying G, Xi C. Cross-domain scientific collaborations prediction with citation infbrmation[A]. // 2014 IEEE 38th International Computer Software and Applications Conference Workshops[C]. Piscataway, NJ: IEEE, 2014: 229-233.
11
[32]	Abdel-Hafez A, Xu Y A survey of user modelling in social media websites [J]. Computer and Information Science, 2013,6(4): 59-71.
[33]	Piao G, Breslin J G. Inferring user interests in microblogging social networks: a survey [J], User Modeling and User-Adapted Interaction, 2018, 28(3): 277-329.
[34]	Gao M, Liu K, Wu Z. Personalisation in web computing and informatics: theories, techniques, applications, and future research[J]. Information Systems Frontiers, 2010, 12(5): 607-629.
[35]	Bobadilla J, Ortega F, Hernando A, et al. Recommender systems survey [J]. Knowledge-based systems, 2013, 46: 109-132.
[36]	Frias-Martinez E, Magoulas G, Chen S, et al. Automated user modeling for personalized digital libraries[J]. International booktitle of Information Management, 2006, 26(3): 234—248.
[37]	Jeevan Y Padhi P. A selective review of research in content personalization[J]. Library Review, 2006.
12
第二章跨域数据挖掘及用户兴趣模型研究综述
随着美团与大众点评的合并、Google收购YouTube等不同社交媒体之间不断展 开的深度合作，利用数据共享来提升不同社交媒体的服务质量已成为一种发展模式。 在此背景下，跨域数据挖掘研究已展示出其强大的获取数据价值的能力。与此同时, 用户产生的社交媒体数据也分散在不同的社交媒体中口并且相互关联。通过联 合不同域中的数据，跨域数据挖掘研究在更全面地捕捉用户行为特征的同时，还能 有效克服单域研究中面临的数据稀疏性问题。现有的跨域数据挖掘研究主要针对较 简单的场景来实现跨域数据的融合，无法应对实际应用中由跨域数据的异质性、匿 名化和动态性的复杂特性带来跨域信息间关联难以捕捉的挑战。而用户兴趣能够捕 捉信息间复杂关联的优势，为实现跨域数据的联合挖掘提供了新的视角。现有的跨 域数据挖掘方法和用户兴趣模型研究为本论文奠定了坚实的研究基础。本章首先概 述了现有的社交媒体中跨域数据挖掘研究现状，然后对用户兴趣模型构建进行总结, 并重点介绍了用户兴趣建模的方法，最后对社交媒体中基于用户兴趣的跨域数据挖 掘研究现状进行了梳理，并阐述和分析了用户兴趣模型提升社交媒体中跨域数据挖 掘性能的优势。
2.1	社交媒体中跨域数据挖掘研究
从搜索引擎到推荐系统、从社交网络到电子商务等由数据驱动的产品正在改变 人类的生活、娱乐、工作等各方面的交互方式。社交网站上的朋友关系网络、微博 网站上的文本数据、媒体分享网站上的图片视频等等，这些不同域的数据从不同的 角度描述着人类的方方面面。如何整合这些分散在不同域的碎片化数据，深入综合 地理解数据，是当前社交媒体时代迫切需要解决的问题。因此，跨域数据挖掘研究 应运而生，跨域用户身份识别口〕、跨域推荐PM］等新方法得到工业界和学术界的广泛 关注。
学术界提出了多种关于“域”的定义。例如，文献⑵将来自同一网站的不同类 别的图书和电影视为不同域；而文献⑸将不同的电影网站（MovieLens、MoviePilot 和Netflix等）当作不同的域。至今跨域数据挖掘中仍没有一个关于“域”的统一定 义。通过调研大量的相关研究工作PT,本论文选取较为普遍的分类方法，按照系
13
统、概念和时间层次进行划分：
•	系统层次：按照数据集所属的系统进行划分。例如，Facebook的数据集和Twitter 的数据集就分属于不同的域。
•	概念层次：将同一系统中的数据，按照不同的概念层次进行划分。例如，对象 层次（如电影和图书）、属性层次（如动作电影和喜剧电影为不同的域，他们 都属于电影对象，但是有不同的属性）。
•	时间层次：依据行为产生的时间对数据集进行域的划分。例如2018年1月至 12月的数据和2019年1月至12月的数据视为不同域的数据。
总体来说，前两者关于“域”的划分更为常见。因此本论文主要关注系统和概念层 次的域。
为了全面提取社交媒体数据的价值，整合这些分散的社交媒体数据，全方位进 行跨域数据挖掘的任务日益紧迫。不同社交媒体数据产生和传播的主要来源是以用 户为主的微观对象。与此同时，社交媒体中也广泛存在着许多由用户群体组成的社 区、内容集合组成的事件和不同信息组成的影响力这样的宏观对象，它们也成为不 同社交媒体数据传播的重要渠道。因此，社交媒体中跨域数据挖掘方法按照研究角 度不同可以分为两类⑹，针对微观角度的方法主要有跨域用户身份识别和跨域推荐, 主要关注以用户为主的微观对象；针对宏观角度的方法主要有跨域社区发现、跨域 影响力分析和跨域事件检测，主要关注社区、事件、影响力这样的宏观对象。本节 将针对社交媒体中跨域数据挖掘方法的研究现状进行详细阐述。社交媒体中跨域数 据挖掘方法的架构如图2”所示。
2.1.1	跨域用户身份识别
用户在不同的社交媒体网站具有不同的账号身份。例如93%的Instagram网站用 户拥有Facebook网站的账号，同时52%的Twitter用户也是Instagram网站的用户闭。 并且由于不同社交媒体的隐私保护和商业竞争等原因，不同社交媒体之间的用户身 份对应关系难以全部获取。由于缺乏用户身份的对应关系，跨域数据间难以建立链 接，因而影响其他跨域数据挖掘方法的性能。对于无法获得全部用户身份对应关系 的情况，为了将不同域中的数据聚合起来以全面挖掘数据价值，首先需要进行跨域 用户身份识别，如图2-2所示。当前最常用来进行跨域用户身份识别的数据主要有3
14
微观角度
一 社交媒体中跨域数据挖掘方法
宏观角度
（基于属性数据的跨域用户身份识别
‘跨域用户身份识别-基于社交结构数据的跨域用户身份识别
_	I基于内容数据的跨域用户身份识别
（用户无重叠情况下的跨域推荐
I 跨域推荐 -
I用户有重叠情况下的跨域推荐
‘基于社交结构数据的跨域社区发现
/ 跨域社区发现 一
1引入属性数据的跨域社区发现
（面向单一类型信息的跨域影响力分析
' 跨域影响力分析-
I面向多种类型信息的跨域影响力分析
（基于内容数据的跨域事件检测
\ 跨域事件检测 -
基于属性数据的跨域事件检测
X
图2-1 社交媒体中跨域数据挖掘方法架构图
种：属性数据、社交结构数据、内容数据。以下围绕这3种数据进行介绍跨域用户身 份识别的现状。
利用属性数据进行跨域身份识别是最直观的方法。用户的属性包括用户名、头 像、性别、年龄、职业、电子邮箱、URL等数据。对于两个来自不同的“域和y域的 用户身份炉和办\他们的属性特征可以分别表示为p/和p*。现有的方法往往从基 于距离和基于频率的角度分为两种主要方法。对于基于距离的方法，针对文本类的 属性（如用户名），常常用Jaro-Winkler距离冏和Levenshtein相似度卜均来度量字 母间的距离。对于视觉属性（如头像），均方误差、峰值信噪比等常常用来度量视觉 信息间的相似度［的。对于多种属性数据共存时，文献［17］提出采用一个加权的相似 度分数siMpg/v）来表征属性特征间的距离。然而，属性数据往往包含着很多无效 或不一致的数据，使其难以保证识别的准确性。
为了进一步提升识别性能，许多方法开始利用社交结构数据或内容数据来发现 不同域中用户身份间的对应关系。基于社交结构方法的主要思想是将基于邻居的特 征作为模型的输入。例如，文献［18］提出了一种基于共同邻居的图模型来识别不同 域中的用户身份。文献［19］设计了一种基于邻居特征（如未匹配的用户的度和公共 邻居的数量）的并行映射算法。还有一些方法通过联合预测域内和域间用户链接以
15
图2-2	跨域用户身份识别示意图
相互增强链接预测性能，文献［20］提出了一种统一的链接预测框架，该框架通过预 测域内潜在链接为用户身份识别提供更多的有效信息以提升准确性。另外，很多研 究表明内容数据也可以用于跨域用户身份识别。文献［21］将用户身份识别看作是一 个基于用户在不同域的浏览内容数据的成对分类问题，然后使用梯度增强方法识别 相同身份的用户。文献［22］利用一个对齐算法计算基于时间戳的位置数据的相似度 得分，然后采用最大加权匹配方法寻找最优候选对。然而，只利用一种特定类型的 数据会导致用户特征的不完整和偏差，从而影响跨域用户身份识别的性能。迫切需 要设计融合不同数据的方法以提升跨域身份识别的性能。
2.1.2	跨域推荐
在不同社交媒体网站上的用户面临着如何选取和发现有价值数据的困难，整合 用户在多个域分散数据的跨域推荐应运而生。跨域推荐旨在通过整合来自不同域的 用户行为数据，智能化感知每个用户的行为特点，以提高推荐结果的准确性PA］。跨 域推荐研究中常常假设不同域间的信息存在一致性［23-25］。通过利用用户、项目的 交集、项目特征的相似程度等进行数据的融合和迁移，从而缓解单域的数据稀疏性 等问题，改善推荐性能。由于不同域中孤立的信息共享着唯一的用户空间，不同域 中分散的数据可以通过相同的用户进行链接。因此不同域的重叠用户对于跨域推荐 非常重要［26］。跨域推荐的场景按照跨域用户的重叠程度可以分为两类：用户无重叠 (Non-overlap)的情况和用户有重叠(Overlap)的情况，如图2-3。因此，本论文也将 跨域推荐方法按照用户重叠的场景分为两类。
因为社交媒体中的商业竞争和隐私保护等原因限制，不同域中用户的身份对应 关系难以获得。因此很多研究者关注域间没有用户重叠情况下的跨域推荐方法，一
16
源域项目数
r	源域项目数
源域用户数
域 源
源域用户数 -
目标域用户数
目标域用户数
域 标 目
域 源
目标域项目数
（a）用户无重叠	（b）用户有重叠
图2-3 跨域推荐的两种场景
部分研究通过挖掘不同域中用户-项目评分行为中潜在的一致性关系来迁移信息，另 一部分研究通过挖掘不同域间语义的相似性进行迁移。针对第一方面，文献［27］提 出了一个密码本迁移模型（Codebook Transfer Model, CBT）,对针对不同域的评分矩 阵中的用户和项目进行联合聚类，挖掘不同域中用户评分行为模式中的一致性信 息，以完成域间信息迁移。上述方法的不足都是在于忽略了域间的差异性，文献［25］ 和文献［28］为了克服以上问题提出将用户评分模式划分为共有部分和个性化部分, 对CBT模型进行进一步改进。针对第二方面的挖掘不同域间语义的相似性的方法, 文献［29］基于项目属性交集将两个域进行链接，然后将与项目属性和用户历史购买 历史记录中有交集的项目推荐给用户。还有一些研究通过借助外部知识库即~32］（如 Wikipe祖a、DBpedia等）的帮助，构造能够链接两个域的语义网络来完成域间信息的 传递。如文献［31］和文献［32］通过挖掘内容中的语义相似性信息，利用知识库构建 针对不同域的语义网络，为用户联合推荐音乐和地点信息。
实际情况中，不同域的用户集合之间存在更多的是用户重叠的情况。因此，很多 研究开始关注用户有重叠情况的跨域推荐方法。最理想的情况是用户完全重叠。这 种场景下，不同域中的用户是完全对应的。一种最简单的处理方案是将不同域中的 用户行为数据直接联合起来作为一个整体看待，从而将跨域推荐问题直接转化为单 域推荐问题。因此，很多研究工作直接基于联合的用户-项目评分关系来挖掘用户在 不同域的评分行为之间的一致性。文献［33］提出一种基于合并的矩阵分解方法利用 不同域间的重叠用户，将不同域的用户-项目评分矩阵（4,号）合并为一个用户-项目 跨域评分矩阵R,然后利用单个域的矩阵分解方法完成推荐。但这种方法的缺点是需 要假设不同域遵循相同的评分机制。为了克服以上问题，文献［34］提出一种基于联
17
合矩阵分解的跨域推荐方法，引入不同的权重系数来控制不同域在最终推荐结果中 的贡献。以上研究都只考虑用户行为的单一类型关系，文献［35］通过引入更多类型 的行为关系有效缓解目标域的数据稀疏性问题，具体地将不同域中的用户-项目点击 行为矩阵和用户-项目评分矩阵联合起来进行矩阵分解，但该模型必须要求两个矩阵 中的用户、项目集合是完全一致的。而对于用户不是完全重叠的情况，文献［36］通 过设计实验己证明了，不同域中的重叠用户能够与每个域中超过80%的项目产生交 互行为。因此利用不同域间的重叠用户作为域间的传递信息的桥梁是可靠且有效的。 由于用户完全重叠是用户部分重叠的特例，因此大部分研究者通过扩展用户完全重 叠情况下的基于用户-项目评分关系的跨域推荐方法来研究用户部分重叠下的跨域推 荐方法。文献［37］提出一种启发式的方法，基于源域的用户-项目评分矩阵计算得到 用户的K个近邻，然后基于不同域中的重叠用户将用户的近邻信息传递到目标域, 以补充目标域中缺失的信息。文献［38］用Facebook社交网络中的好友关系来提升目 标域的推荐模型的准确性。相似地，文献［39］通过利用随机游走算法挖掘出社交网 络中隐含的用户近邻信息，以辅助目标域进行推荐。文献［40］和［41］都通过设计混 合图模型的方式来描述用户的跨域异质行为关系以完成源域和目标域的数据共享。
上述方法主要基于不同域内用户行为模式或群体行为一致性来实现跨域数据的 融合，面对更复杂的实际应用场景时，将难以适用。除此之外，在很多的社交媒体中, 用户往往以匿名的状态与社交媒体进行交互并只能获得少量跨域数据，除此之外大 部分数据都具有动态性。因此在面对匿名跨域数据或动态跨域数据的情况下，这些 推荐方法都将失效。
2.1.3	跨域社区发现
由于社交媒体数据分散在多个不同的社交媒体上，如果只在单一域中进行社区 发现，并不能够得到准确的社区结构。相应地很多研究开始将多个域中的社交结构 数据联合起来增强社区发现的准确性。文献［42］提出了多级的分割框架来研究多个 社交媒体的协同划分，目的是将不同节点划分到不同社区时，还要在将不同社交媒 体的相同节点划分为相同的社区。不仅如此，对于新兴起的域，用户的行为数据缺 失不足，且面临严重的冷启动问题。为了应对以上问题，文献［43,44］研究了新兴社 交媒体中的社区发现问题，利用其他辅助域中的社交结构数据和属性数据来补充新 兴社交媒体缺失的信息，提高社区发现方法的性能。文献［45］针对以上场景提出一 种针对边的双聚类方法通过联合探索在线/离线的社交结构数据和属性数据来检测出
18
不同域中的社区。但由于不同域之间存在差异性，文献［46］提出一个基于信息传播 模型的跨域社区发现方法，能根据域间差异性从微观和宏观两个角度控制不同社交 媒体间信息的传播，将有用的信息从辅助域传播到新兴的域中，以克服信息传播不 足的问题。
2.1.4	跨域影响力分析
在社交媒体中，信息在用户之间广泛传播，信息交流已经成为社交媒体中最重 要的社交活动之一⑹。分析信息的影响力可以更好地推动信息传播、网络营销、引 导舆论、进行推荐等。因此只有联合多个域的数据，才能准确分析出用户的影响力。 用户与用户之间传递信息主要通过彼此之间的社交关系。针对单一类型的信息传播, 文献［47］首次提出了最低成本的影响力(Least Cost Influence)问题，并利用统一的 影响力传播模型，通过将不同的社交媒体中的用户关系映射到同个网络中，来表示 和分析多个域中用户的影响力。然而，用户与用户之间更多时候能够同时传递多种 信息。文献［48］针对只有部分重叠用户的多个域的数据，提出了一个多关系网络影 响力最大化模型，通过基于域间和域内的元路径来挖掘出针对多种信息下的最大影 响力的用户。文献［49］提出一个多层框架通过整合用户在不同域中的不同信息来为 每个用户生成一个影响力分数。
2.1.5	跨域事件检测
随着互联网的爆炸式发展，在世界任何地方发生的任何一个受关注的事件，它 都能够通过不同的社交媒体飞速传播，并且这些事件在不同域上会有不同的呈现形 式(如文本、图片、视频)。跨域事件检测通过联合多个域的数据，.能够更准确全面 地获得事件发生的全貌和演化过程。文献［50］收集了 Google News和Flickr上针对 相同事件的图片数据和文本数据，提出了一种新的基于概率图模型的跨域多事件跟 踪方法，以获得事件在多个域中的细节和随时间的演化趋势。由于社交媒体中还含 有丰富的属性数据，文献［51］提出一种基于聚类的无监督、多阶段的方法，通过分 阶段联合Flickr和YouTube中的属性数据来增强事件检测的准确性。
本小节对社交媒体中跨域数据挖掘研究进行了归纳整理。由于社交媒体数据主 要来源于用户，并最终服务于用户"I。因此，本论文关注的主要是以用户为主的微 观角度下的跨域数据挖掘方法。其中，不同域中孤立的数据可以通过跨域用户链接 到一起，从而为跨域数据挖掘研究提供更多的关联信息。由于隐私保护和商业竞争
19
等原因，跨域用户的身份对应关系有时难以全部获取。这使得不同域间的链接变得 非常少，从而大大增加了跨域数据挖掘的难度。跨域用户身份识别研究是链接不同 域中数据的基础［5斗。另外，由于推荐系统在社交媒体中的广泛应用，跨域推荐已成 为跨域数据挖掘研究中最具有应用前景的方法之一【26］。目前跨域数据挖掘在诸多研 究领域表现出了良好的性能。但现有的研究大部分只基于单一类型的数据进行挖掘 或简单假设跨域用户行为具有一致性、群体行为模式具有一致性以实现跨域数据的 联合利用，而无法应对实际跨域场景中复杂的跨域数据特性，如跨域数据的异质性、 匿名化和动态性。实际上，用户兴趣是促使用户产生不同行为的内在驱动。通过建 模用户兴趣能够全面挖掘用户行为信息间的复杂关联关系，获得综合的用户兴趣描 述。本论文将进一步利用用户兴趣在挖掘信息间复杂关联方面的优势，考虑更为贴 近实际的跨域场景，以提升跨域数据挖掘的性能。下一节将对用户兴趣模型的研究 现状进行阐述。
2.2用户兴趣模型研究
用户兴趣模型口4,551最早可追溯到1979年Elaine Rich博士的奠定性工作［588］, 他首次提出了一种建模用户兴趣的原型方法。其核心思想是通过将具有相似兴趣的 用户组织到相似的组中来表征不同的用户兴趣。Cooper等人as。］采用用户画像来描 述用户的兴趣特征，为以用户为中心的产品及应用提供指导。文献［61］验证了用户 兴趣模型对于需要快速评估用户背景知识和偏好的应用领域具有非常大的价值。随 后，许多基于用户兴趣的推荐系统陷，63］、数字图书馆［64,65］、人机交互系统及］等应 用系统得到了极大的发展。
2.2.1	用户兴趣模型构建
用户兴趣模型是一种能够捕捉每个用户个体特点的数学结构［5叫通过收集用户 的相关数据为用户建立对应的兴趣模型，并对用户的兴趣进行描述和表示，以便进 一步用于预测用户的未来行为和为相应的应用场景服务［54,62］。用户兴趣模型的构建 过程如图2-4所示。主要包含了四个部分：用户数据获取、用户兴趣建模、用户兴趣 表示和基于用户兴趣模型的应用。本节将分别对这四个部分进行具体阐述。
2.2.1.1	用户数据获取
在社交媒体中，不同类型的数据都可以用来帮助推断用户的兴趣，例如用户的 年龄、职业、用户购买的商品、朋友的偏好等。使用什么样的数据来建模用户兴趣会
20
直接影响用户兴趣表示的质量以及后续应用的性能［55］。为了对用户兴趣进行准确建 模，收集到足够丰富和全面的用户数据是前提，用户产生的数据主要分为三类，如 图2-4所示：
(推荐系统 用户画像 人机交互 数字图书馆
f关键词列表法 本体论表示法 向量空间模型表示法
I嵌入向量表示法
图2-4	用户兴趣模型的构建过程
(1)属性数据：包含用户的个人基本数据，如年龄、性别、职业、头像。属性数 据基本固定不变，可以通过采集用户的注册信息直接获得。基于属性数据可以为没 有历史行为记录的新用户建模用户兴趣，以解决用户冷启动问题［6刀。
(2)交互数据：用户在与不同的社交媒体进行交互时往往会产生不同类型的交互 数据，例如用户与用户之间的关注、聊天等社交行为，用户对不同项目产生的发布、 转发、回复、点赞、关注等行为。这些数据可以通过爬取用户在社交媒体上产生的行 为数据进行获取。通过挖掘隐藏在用户行为数据中的隐式兴趣信息，可以进一步丰 富用户兴趣的描述，例如可以通过挖掘朋友的兴趣来进一步丰富用户的兴趣描述［68】。
(3)内容数据：内容的呈现形式多种多样，如文字、图片、视频。在Twitter网 站上，人们更倾向于发布短消息；而图片则是Instagram网站用户的首选。用户的内 容数据中隐藏着更多的细节信息，通过分析这些内容，可以更全面的理解用户兴趣 产生的原因，例如，从用户对商品标记的内容中可以提取出用户的兴趣信息［69,70］。
2.2.1.2	用户兴趣建模
用户在与社交媒体进行交互的过程中，由于自身的兴趣偏好的不同会展示出不 同的行为特点，如喜欢科幻电影、摇滚乐。不仅如此，用户的兴趣通常是隐式的暗 含在用户与不同内容的交互过程中，比如是否点击、评分值大小。基于社交媒体丰
21
交互数据
图2-5 用户行为数据分类示意图
富多样的行为数据，建模用户兴趣以提取能够反映用户真实需求的信息，实现对用 户的全面理解。然而真实的社交媒体中用户的行为复杂多变，用户兴趣建模也面临 着巨大挑战。在222节中，将对用户兴趣建模的具体方法进行详细阐述。
2.2.1.3	用户兴趣表示
为了能够更好地服务于用户，需要对用户兴趣进行合理的表示。用户兴趣的表 示方法主要有4类：
(1)关键词列表法
关键词列表法从用户的内容数据中提取出能代表用户偏好的一组关键词来描述 用户兴趣。例如，用户对“机器学习”感兴趣，那么可以用｛深度学习、人工智能、 数据挖掘、分类、聚类｝来表示用户的兴趣。列表中的关键词可以从用户指定的列表 中选取，也可以通过建模用户兴趣得到。利用用户兴趣模型获得关键词的思路与自 然语言处理中的文本特征的选择十分相似，都是从一组文档中获得一个核心特征集 作为对整体的描述。但前者的目的是得到表征用户兴趣的关键词集合，而后者是为 了提升分类准确性。
(2)本体论表示法
本体论(Ontology)的概念最初起源于哲学领域，后来被知识工程领域的学者进 行了新的诠释，认为本体论是对概念化对象的明确表示和描述口1］。本体论可以从规 范性、可靠性、可重用性等角度对特定领域的对象进行描述，并提升了系统的联想
22
能力和精确性［72］,因此一些研究者利用基于本体论的方法对用户兴趣进行描述［73〕。
(3)向量空间模型表示法
向量空间模型表示法通过提取用户的感兴趣内容中的关键词向量和权重来表 示用户的兴趣分布。20世纪70年代由G. Salton等人提出的向量空间模型(Vector Space Model)是信息检索领域的一个重要分支。它的基本思想是将文档内容的转换 到向量空间中，通过计算向量之间的距离来度量文档与检索词之间的相似性。基于 向量空间模型表示法的用户兴趣U可以表示为：
u =((“,卬1),(12,卬2)，…，(，N,Wn))	(2-1)
其中，号为用户感兴趣的第1•个关键词，”为关键词与的权重。权重吗.有多种计算方 法，常用的是布尔值、词频和词频■■逆文本频率指数(Term Frequency-Inverse Document Frequency, TF-IDF)^74^ 等方法。
(4)嵌入向量表示法
嵌入向量表示法采用一个统一的低维向量来描述用户兴趣。随着Web2.0的发展, 用户在社交媒体上产生了更加丰富多样的数据类型，如图片、文本、视频。然而，这 些数据由于存储方式、呈现形式等的不同，无法进行统一表示。因此很多研究者开 始设计将不同类型数据映射到同一个低维空间中对用户兴趣进行统一描述，如网络 嵌入［75,76］、词嵌入［77］。嵌入向量表示法只用一个低维向量来描述用户兴趣，进一步 降低了存储压力和计算开销。因此，本论文将采用嵌入向量表示法来表示用户兴趣。
2.2.1.4	基于用户兴趣模型的应用
由于用户兴趣模型在捕捉和分析用户的真实需求方面的优势，很多推荐系统、 用户画像、数字图书馆、人机交互系统等应用都基于用户兴趣模型进行设计。推荐系 统旨在从海量的商品和丰富的内容等数据中寻找出用户感兴趣的信息。尤其在面向 电子商务领域的推荐系统中，用户兴趣模型已经成为一种工具，用来实现锁定现有 客户和赢得新客户的重要战略［62］。另外，为了反映真实世界中用户在社交媒体中的 形象，用户画像成为了一种快速、精准分析用户行为模式的有效手段。用户画像是真 实用户的虚拟代表［59］，能够根据用户在社交媒体上的行为等数据将用户分为不同的 类型，并使用概念、照片、场景等要素对用户进行描述。而用户兴趣模型是提取用 户关键特征信息的有效方法［78］。数字图书馆中也存储着海量的信息，对图书馆进行 访问和搜索的用户也期望获得更多的个性化智能服务［64］。用户兴趣能够从数据库中
23
根据每个用户的特点分离出对应的推荐列表呈现给每个用户Ml。另外，用户与社交 媒体进行交互的一个重要途径就是计算机系统。但不同的用户使用计算机系统的方 式不同，视角也不同［79］。针对有着不同能力、任务和先验知识各不相同的用户，如 何设计出符合他们知识背景和使用习惯的系统，在正确的时间、以正确的方式说出 正确的信息是一个极大的挑战［8。］。由于用户兴趣模型是用户知识和偏好的描述［66］, 它已成为人机交互设计中的重要步骤，有助于使系统更好地为用户服务。
基于对用户兴趣模型构建的详细阐述可以发现，用户兴趣模型的目标是通过获 取用户数据获取、对用户兴趣建模和表示，以设计出符合用户需求的应用服务于用 户。接下来将对用户兴趣建模方法的研究现状进行梳理和总结。
2.2.2	用户兴趣建模方法
随着社交媒体服务的方式和应用类型更加多样化，用户面对的数据类型也更加 丰富、用户的交互方式更加多元、用户的兴趣也更加多变。因此用户兴趣建模面临数 据多样化、匿名化、动态化的挑战。本节就基于单一类型数据的用户兴趣模型、基 于异质数据的用户兴趣模型、基于匿名数据的用户兴趣模型、基于动态数据的用户 兴趣模型阐述目前用户兴趣模型的研究现状。
2.2.2.1	基于单一类型数据的用户兴趣模型
通过直接基于年龄、工作、性别等属性数据描述用户兴趣是最直接的建模方式。 然而，出于保护隐私的目的，有些用户的属性数据时包含许多空值和错误的值，这使 得利用属性数据难以建立正确的兴趣模型。因此，一些研究者开始利用内容数据来建 模用户兴趣，例如通过词袋模型将文本数据表示成词频向量、TF-IDF特征向量，或 使用主题模型来提取兴趣主题，学习隐藏在用户评论中的用户兴趣表示⑻］。近几年, 将内容数据统一映射到低维稠密的空间的方法，因高效实用而得到大量关注，如捕 捉词、句与上下文之间的关系的神经网络语言模型word2vec［77］和paragraph2vect821« 除此之外，许多研究也开始提取用户的行为数据进行建模。这类方法通常认为用户 的行为代表了兴趣，用户对项目的评分越高代表用户对其越感兴趣。最典型的方法 是对用户-项目评分的行为进行建模。基于奇异值分解(Singular Value Decomposition, SVD)［83,84］、概率矩阵分解(Probabilistic Matrix Factorization, PMF)［85］等矩阵分解的 方法的应用最为广泛，通过分解出用户特征矩阵和项目特征矩阵，可以将用户特征 矩阵中与用户对应的向量表示作为用户的兴趣表示。由于用户对不同的项目的评分
24
标准不同，偏置矩阵分解(Biased Matrix Factorization, BiasedMF)［84］通过引入用户偏 置来进一步准确描述用户兴趣。而SVD++/6］通过引入用户交互过的项目特征来进 一步强化用户的兴趣描述。另一种常用来建模的交互行为是社交结构数据。用户与 用户之间的社交链接可以是双向的，如数据库系统和逻辑编程CDatabase Systems and Logic Programming, DBLP)网站中作者间的合著关系；也可以是单向的，如Twitter 网站中用户之间的关注和被关注关系。用户间的社交链接可以表示为一个有向图 G=",E), V和E分别代表图中的节点和链接。从社交图中可以提取兴趣相似的用 户组［69,87］。
2.2.2.2	基于异质数据的用户兴趣模型
不同类型的数据反映着用户不同角度的兴趣特点，因此为了精确建模用户兴趣, 需要将不同种类的数据融合起来。传统的基于用户行为数据的建模方法由于只针对 单一类型的行为数据，深受数据稀疏性等问题的困扰。因此，越来越多的研究引入 了异质多样的交互数据。由于基于网络的方法能够保留更全面的结构信息和语义信 息，很多研究都将不同的行为集合构建为异质信息网络［88］的形式，因此可以用不 同类型的链接来描述用户与项目、用户与用户间复杂的语义关系。文献［89］通过在 异质信息网络上设计一个标签传播模型来综合捕捉所有关系的影响，以学习到用户 的完整表示。文献［90］设计了异质信息网络下的推荐系统，利用不同类型的上下文 信息，提出了依赖上下文的矩阵分解模型以综合建模用户兴趣。随着数据的增多, 以网络结构的形式建模信息往往带来很大的存储压力。为了更好地研究异质信息网 络中节点间复杂的联系，有效融合网络结构与节点外部信息，形成更低维紧凑的 网络表示的网络嵌入方法(NetworkEmbedding)［75,76］受到了极大的关注。经典的方 法层出不穷，如DeepWalk^i］、大规模信息网络嵌入(Large-scale Information Network Embedding, LINE"?］、预测文本嵌入(Predictive Text Embedding, PTE)［93］。同时，用 户兴趣模型也开始利用网络嵌入方法进行研究。文献［94］通过基于随机游走策略来 捕捉丰富的语义信息并生成节点的向量描述，通过一个融合机制来得到完整的用户 兴趣表示。文献［95］根据异质信息网络中不同的元图计算得到多个交互矩阵，基于 多元图矩阵分解综合学习到用户和物品的隐向量，通过因子分解机学习用户对物品 的评分最后进行推荐。除了联合多种异质数据外，还有学者将文本数据或者属性数据 引入进来共同建模。文献［96］通过引入标签数据来缓解数据稀疏性问题，文献［9刀 和［98］通过引入内容数据来扩展异质网络嵌入模型，以更精确地建模用户兴趣。实
25
际上，这些异质数据之间的关联非常复杂。因此很多研究引入深度学习来进一步挖 掘信息之间的非线性关联。文献［99］提出Wide&Deep模型联合线性模型和深度神经 网络模型综合提取用户属性和用户行为内的兴趣特征。文献［100］利用将概率矩阵分 解整合到卷积神经网络(Convolutional Neural Network, CNN)中，联合挖掘用户的文 本和评价信息的非线性关联，以学习到完整的用户兴趣表示，从而在一定程度上弥 补数据稀疏性问题。上述研究已经说明了融合多样异质数据对于建模用户兴趣中的 巨大潜力，但是目前仍主要局限于单域的数据挖掘。未来需要进一步结合更全面的 跨域数据，建立跨域的异质兴趣模型提升各个方法的性能。
2.2.23 基于匿名数据的用户兴趣模型
用户在许多面向电子商务的推荐系统(尤其是小型零售商的推荐系统)、大多 数新闻网站和多媒体分享网站上并未注册账号或者只是出于简单浏览的意图而未登 录账号，因此这些社交媒体通常无法追踪到用户的账号信息。这些无法获得账号的 用户实际上处于匿名状态。相应地，网站只能获得这些匿名用户在本次与社交媒体 交互的短时间内产生的行为记录，而无法获得用户的历史行为。因此，很多研究者 开始关注如何在这种匿名数据情况下准确建模用户兴趣。大多数针对匿名用户信息 的推荐系统都基于相对简单的方法。因为无法获得用户的账号，因此只能基于项目 之间的关系进行挖掘，例如项目间的相似性、共现性或转换概率。最常见的方法是 基于项目-项目矩阵分解的方法口°1，102］。该方法通过预先将可用的数据简化处理为存 储项目-项目共现性矩阵，通过矩阵分解为一组d维向量，根据项目表示构建匿名用 户的兴趣描述。这些方法虽然有效，但通常只考虑用户的最后一次的选择或点击, 而忽略了过去点击的数据对目标的影响。另一种方法关注匿名用户与系统交互的整 个过程的数据。基于循环神经网络(RecurrentNeural Network, RNN)的方法常用于 捕获序列数据之间的影响“°3-10习。文献口03］提出了 GRU4REC方法，利用RNN来 探索匿名用户的行为之间依赖关系，以捕捉匿名用户兴趣。文献［105］提出了一个 GRU4REC的增强版本，在训练过程中对嵌入序列进行随机删除，以减少模型的过拟 合。文献［104］将基于邻居的方法与GRU4REC结合起来，联合利用序列信息和共现 性信息以增强模型性能。此外，许多基于嵌入的方法(如word2vec［77］)通过捕捉网 络内的同质或异质关系能够描述节点的细粒度语义信息，因此成功应用到了匿名用 户兴趣建模中“06407］,用于捕捉用户不同行为间的序列化依赖关系。上述研究旨在 挖掘匿名用户不同行为之间的依赖关系，但由于数据量较少难以获得准确的用户兴
26
趣描述，迫切需要引入更多的关联信息来进一步丰富匿名的用户兴趣模型。
2.2.2A基于动态数据的用户兴趣模型
许多社交媒体(如音乐、视频网站)中，用户的行为是带有时间属性的，例如, 用户在不同的时间会选择购买不同的商品。相应地，用户的兴趣在时间维度上也是 动态变化［1°叫传统的用户兴趣建模方法主要利用用户所有历史行为数据来挖掘用 户的长期行为模式［8旬，虽然有效，但他们忽略了用户长期兴趣中的时序关联。因 此，为了实现在合适的时间为用户选择出需要的数据，许多研究者通过在用户兴趣 模型中引入时间属性来真实还原用户的行为变化。一些研究尝试将序列化建模引入 到长期兴趣模型中来整合用户行为中的时间属性z以最终实现捕捉用户长期兴趣变 化，例如，将马尔科夫链与矩阵分解相结合的方法口。9,11。］,序列模式挖掘结合主题 模型的方法［1111。但以上方法都忽略了用户兴趣在短时间内产生的动态变化，因此 一些研究开始关注用户短期兴趣建模口皿。一些基于词嵌入的方法口。6，107,113］将用户 的短期行为序列类比于自然语言处理中的词序列，通过编码序列中的转移概率以建 模用户短期行为中细粒度的兴趣变化。另外，由于循环神经网络在建模变长的时序 数据方面出色的表现，基于循环神经网络的方法也开始应用到用户短期兴趣建模的 研究中。文献［103,114］第一次使用作为RNN特殊形式的GRU来探索短期行为序列 中动作之间的非线性依赖关联，用于预测推荐系统中用户的下一个动作。为了更好 地提升基于RNN的方法性能，文献［115］通过进一步探索用户每次点击商品的停留 时间长短对用户兴趣的影响，以综合考虑时间因素；文献［116］通过在RNN中引入 注意力机制来捕捉兴趣之间的演化趋势。另外，利用卷积神经网络来建模用户行为 序列也是另外一种很好的选择。原因在于CNN进一步放松了RNN在序列中对项目 进行严格排序的假设，提升了模型的鲁棒性，并且CNN具有很强的局部特征学习能 力和区域间的关系学习能力，能够有效地捕捉到集体依赖关系，而其他模型往往忽 略了这种依赖关系口I。因此，一些研究者也开始研究将一组用户的行为序列嵌入 到时间的“图像”中，并使用卷积滤波器通过挖掘“图像”的局部特征来学习到序 列模式口电119］。为了更全面的建模用户兴趣动态性，一些研究开始将长期兴趣和短 期兴趣结合起来。文献［120］设计了一个两层RNN模型来联合建模基于用户的长期 兴趣和基于会话的短期兴趣。文献［104］将基于会话的K近邻(Session-based KNN, SKNN)与基于RNN的方法相结合，以共同捕捉基于长期兴趣的项目共现关系和基 于短期兴趣的时序信息。文献［121］通过设计一个多层的门结构网络来自适应建模用
27
户短期兴趣对长期兴趣的影响，以更精确地捕捉用户的行为偏好。
综上所述，本节梳理了用户兴趣模型构建的具体细节，并且重点介绍了针对单 一类型数据、异质数据、匿名数据和动态数据情况下的用户兴趣建模所用的方法。可 以发现，用户兴趣建模方法能够通过有效融合不同类型的行为数据，考虑更贴近实 际的应用场景中的数据特点，以获得更有价值的用户兴趣描述。现有的方法主要集 中在单域场景，只能利用在单个域中的行为数据进行建模，面临数据稀疏性问题。另 外，由于忽略了其他域中的数据，这些方法也只能获得片面性的用户兴趣表示。本 论文在上述研究基础上，探讨借助用户兴趣模型在挖掘复杂信息间关联方面的优势, 提升跨域数据挖掘方法的性能。与此同时，通过融合跨域数据，获得更全面的用户 兴趣描述，以进一步满足跨域场景下用户的个性化需求。
23社交媒体中基于用户兴趣的跨域数据挖掘研究
2.3.1	社交媒体中基于用户兴趣的跨域数据挖掘研究现状
基于2.1节中对社交媒体中跨域数据挖掘研究的分析可知，社交媒体数据来源于 用户，并最终服务于用户PR,因此本论文主要关注以用户为研究对象的跨域用户身 份识别方法和跨域推荐方法。因而此处将重点介绍基于用户兴趣的跨域身份识别方 法和跨域推荐方法的研究现状。
2.3.1.1	社交媒体中基于用户兴趣的跨域用户身份识别研究现状
目前，社交媒体中基于用户兴趣的跨域用户身份识别研究主要集中于利用单一 类型的跨域数据和联合不同类型的跨域数据的方法。针对利用单一类型的跨域数据 的情况，文献［122］将用户在不同域中的属性数据都映射到相同的潜在用户兴趣空间 中，使得属于同一跨域用户的特征表示彼此接近，从而获得统一的兴趣描述，以方 便最终度量不同域中用户身份之间的相似性。与此同时，社交结构数据中也蕴含丰 富的兴趣信息，许多研究开始关注如何通过挖掘社交偏好来对齐不同的跨域用户身 份。文献［123］提出一个同时捕捉关注/被关注关系的网络嵌入方法，以学习用户在 不同域中的社交兴趣表示，并且使用部分已知的跨域用户作为学习跨域用户兴趣的 约束以更好地完成跨域用户身份识别。文献［124］提出了一种监督框架，该框架通过 嵌入方法分别学习了不同域中用户社交兴趣表示，并通过设计一个稳定的跨域映射 函数将不同域中的用户身份链接起来。不同于以上方法保持网络结构一致性的假设,
28
文献［125］提出一个跨网络嵌入方法来对齐不同的域中的节点，通过设计域间向量和 域内向量来综合描述兴趣特征以提升网络对齐的准确性，采用域间向量来约束学习 不同域节点的共同特征以准确捕获到不同域中用户兴趣中的共同信息，域内向量反 映了该节点在其所在域中的具体结构特征以保护域中的特有信息。文献［126］通过 联合链接预测和跨域用户身份识别两个任务来相互提升彼此的性能，提出了一种基 于随机游走的交叉图嵌入方法根据节点的链接关系能够学习到节点的社交偏好表示, 以提升跨域用户身份识别的准确性。为了能够描述用户之间复杂的非线性结构特性, 文献［127］提出了一个深度多粒度图嵌入方法，通过将深度学习与随机游走相结合 来捕捉到用户的非线性关联，以得到更准确的跨域用户的社交兴趣表示。为了进一 步提升数据挖掘方法的性能，很多方法通过引入多种类型的数据来提升捕捉到的用 户兴趣特征的完整性。文献［128］提出了一种在一对一约束下的支持向量机(Support Vector Machine, SVM)模型，将基于邻居的网络特征和内容特征连接以生成一个完 整的用户兴趣向量，作为SVM模型的兴趣输入信息，通过联合不同类型的信息以提 升跨域用户识别的准确性。文献［14］提出了一个多目标框架，分阶段使用不同类型 的数据，首先建模了用户在不同域中的属性特征、内容特征进行组合，然后利用结 构一致性假设来识别相同的用户身份。文献［129］采用聚合的方法来分阶段利用不同 类型的数据，首先通过建模用户在不同域中的内容数据获取用户基于兴趣的内容特 征，进一步联合基于邻域的网络特征得到更完整的用户兴趣表示，最后对不同域中 的用户兴趣特征进行匹配。文献［130］设计了一个基于隐式矩阵分解的异构节点嵌入 方法，分别提取出用户的结构信息和属性信息以获得更全面的用户间兴趣相似性矩 阵，通过分解得到准确的用户兴趣表示提升方法性能。文献［131］采用bootstrapping 方法，分别从用户名、社交网络关系和内容中分别提取特征并进行聚合，然后利用 期望最大化(ExpectationMaximum, EM)算法学习模型参数，通过联合属性数据、社 交结构数据和内容数据以更完整地描述用户兴趣信息、。随着配备GPS的智能终端的 普及，如何基于不同域中用户的移动兴趣来识别用户身份的任务也亟待解决。文献 ［132］设计了一个端到端的深度学习模型，通过分阶段编码位置信息和轨迹信息来获 得不同域中用户的移动兴趣表示，以实现最终的用户身份识别。
然而，现有的利用多类型数据的方法大都假设不同类型数据是独立的，分别从不 同类型的数据中分别提取特征，然后将它们简单组合在一起以实现异质数据的聚合。 虽然不同类型的行为数据从不同的角度描述了用户的兴趣特征，但实际上用户的不 同兴趣之间存在相关性。因此，将不同类型的数据不加区分直接联合使用并不合适。
29
2.3.1.2	社交媒体中基于用户兴趣的跨域推荐研究现状
当前社交媒体中基于用户兴趣的跨域推荐研究主要关注基于单一类型跨域数据 的方法和联合多关系跨域数据的方法。文献［133］关注于从用户的跨域内容数据中提 取用户兴趣，通过联合用户分布在不同域中的标签内容，利用Wikipedia抽取能够准 确描述用户兴趣的语义信息、，最终生成用户兴趣的语义表示。而大多数社交媒体之 间的内容数据具有不同的形式，针对这种情况，文献［134］提出一个部分连接的多 模态自编码器来联合提取用户隐藏在不同域的不同内容中的偏好表示，同时利用非 线性映射函数来处理不同内容数据的粒度差异。除了内容数据外，用户产生的交互 数据也隐藏着丰富的兴趣信息、。文献［135］提出了一种跨域主题建模方法通过捕捉 隐藏在不同域用户-用户合著者关系中的协作兴趣主题来将不同域中的数据紧密链接 在一起，并通过随机游走计算不同兴趣主题的重要程度，以保证获得的兴趣描述的 准确性，从而提升了跨域合著者推荐的性能。文献［36］假设在源域中兴趣相似的用 户在目标域中的兴趣也相似，提出一种半监督的联合矩阵分解方法，通过共同分解 两个域的用户-项目评分矩阵来融合跨域数据，以此提升跨域推荐准确性。由于张量 分解在推荐系统中的广泛应用，文献［136］也通过构建张量来描述跨域数据，通过 在二维用户-项目评分矩阵中引入一个域维度，构建成用户-项目-域的三阶张量来获 得更为全面用户兴趣信息，通过改进的PARAFAC张量分解方法进行跨域推荐。文 献［137］将不同域中的行为特征连接起来表示为统一的用户特征向量，通过分解机 (Factorization Machines, FM)模型来联合挖掘不同域中的评分行为数据，获得跨域用 户兴趣表示。文献［138］设计了一个多视角的深度学习模型，不同的视角代表了跨域 用户在不同域中的交互特征，以获得跨域用户兴趣表示完成跨域推荐。为了进一步 捕捉到隐藏在不同域用户-项目关系中高阶的用户兴趣转移规律，文献［139］提出了 一个基于偏好传播的图卷积网络模型，设计一个交互图显式地建模用户的跨域交互 信息并充分捕捉图中高阶兴趣信息之间的转换，以提升推荐的性能。由于用户在不 同域中的行为具有差异性，文献［140］提出在源域和目标域之间存在分布偏移的情况 下，利用强化学习实现用户的跨域评分偏好模式的转移和共享。文献［141］通过设 计一个深度的双转移跨域推荐模型捕捉不同域间的双向转移关系，以实现用户跨域 评分偏好信息的共享和更全面地提取用户的跨域兴趣信息，从而获得推荐性能的提 升。以上研究主要关注用户行为数据中单一关系行为，只能获得部分的兴趣偏好信 息、，使得学习到的兴趣表示不够完整。因此，许多研究开始引入更多的关系类型的 行为数据，补充缺失的信息。文献口42］假设不同域间的评论行为和点击行为相似,
30
通过设计了 一个共享潜在特征方法，利用一个共同的用户兴趣和项目的潜在空间在 域之间传递知识，实现跨域信息融合。文献［143］采用两阶段的方法更好地融合不同 类型的跨域数据，首先过滤用户隐式反馈行为中的噪声，然后扩展FM模型将隐式反 馈行为信息转移到显示反馈行为中，更准确地描述用户兴趣。文献［144］为了更全面 地解决单域面临的稀疏性问题，将跨域的内容数据和用户评分数据结合起来，通过 设计一个记忆网络来精准地提取有代表性的内容信息，设计一个转移网络来共享用 户的跨域内容偏好和行为偏好信息。
通过以上分析，可以发现现有的跨域推荐方法更多地关注如何从单一类型的或 多种类型的跨域数据中挖掘跨域兴趣间的关联，但以上研究都假设较为理想的场景, 例如用户的账号信息全部已知或用户行为数据是静态的。但面对更复杂的匿名或动 态场景，现有方法将难以适用。
从上述研究现状中可以看出，目前的基于用户兴趣进行跨域数据挖掘研究大都 集中于通过建模用户兴趣直接挖掘单一类型的跨域数据或简单整合不同类型的跨域 数据的方法，以实现跨域数据的联合挖掘。然而实际的社交媒体跨域场景中，用户 兴趣模型不仅在捕捉异质跨域信息间复杂关联方面有优势，面对匿名的跨域数据和 动态跨域数据的情况也拥有极大地应用潜力。接下来将详细说明基于用户兴趣模型 挖掘跨域数据的优势。
2.3.2	用户兴趣模型提升跨域数据挖掘性能的优势
由于用户兴趣模型其在理解和分析社交媒体用户行为方面的突出表现，为将用 户兴趣模型应用于跨域数据挖掘研究中奠定了坚实的基础。在本小节中将对用户兴 趣模型在应对社交媒体中跨域数据挖掘的若干关键问题方面的突出优势进行阐述。
优势1：有效构建融合不同类型数据的同一兴趣空间
针对跨域数据异质性导致跨域信息间关联交错复杂的问题，用户兴趣模型通过 构建同一兴趣空间的方式能够为挖掘不同类型的跨域信息间关联提供新的可能，以 实现异质数据的全面融合。不同域中的数据类型多种多样，如文本、图片、音频、视 频。用户的行为数据类型也不尽相同，如用户对项目可以进行评论、上传、转发、分 享等操作。由这些异质跨域数据链接起来的跨域信息更加交错复杂。传统的方法为 了快速融合异质数据，往往简化不同类型的跨域信息间的关联，通过只简单基于单 一类型的跨域数据［电以21〕或假设不同的信息是相互独立的，以完成跨域数据的联合 利用［14,128,13］这些方法由于忽略了关联信息，无法准确地实现跨域数据融合。用户
31
兴趣模型通过采用不同类型的行为数据映射到相同的兴趣空间中的方式，将不同类 型数据的表示进行统一。这样做能够让具有相同兴趣语义的行为数据的表示在同一 空间中相互接近，以实现异质数据间的相互度量。因此，利用用户兴趣模型能够更 好地捕捉跨域信息间交错复杂的关联，有效地提取更完整的用户兴趣表示，从而实 现跨域数据挖掘性能的提升。
优势2：有效挖掘行为数据中隐藏的隐式兴趣信息
针对跨域数据匿名化导致跨域信息间关联缺失不足的问题，用户兴趣模型通过 有效挖掘行为数据中隐藏的隐式兴趣信息、，为构建域间潜在的关联关系提供新的机 会。由于许多社交媒体网站中隐私保护、用户未注册或未登录等原因，很多用户在 与网站交互过程中实际处于匿名状态。在用户匿名情况下，只能获得当下时间匿名 用户在不同域产生的少量数据。通过将跨域数据进行整合，能够进一步补充缺失的 信息、。一些研究通过挖掘跨域群体行为模式的一致性125,28］,或者只利用跨域数据的 属性交集［29］、内容中的语义信息、［30.31］来进一步链接不同的域。这些研究虽然能够一 定程度上建立两个域间的关联，但他们都针对的是能够获得足够多的行为数据的情 况。面对用户匿名时无法获得足够历史行为数据的情况，这些方法将难以建立稳定 的跨域关联关系。实际上，不同域之间的用户的兴趣偏好存在很强的关联性［26］。因 此，用户兴趣模型通过深度挖掘用户行为数据中的隐式兴趣信息，可以将看似不相 关的行为信息链接到一起，形成更稳定的关联关系，以弥补跨域信息间缺失的关联。
优势3：有效结合深度学习捕捉兴趣信息间的非线性关联
针对跨域数据动态性导致跨域信息间具有复杂的动态关联问题，用户兴趣模型 通过有效结合深度学习捕捉兴趣信息间的非线性关联，为追踪跨域信息间的复杂动 态关联提供了可能。由于用户在与不同社交媒体进行交互时，用户行为在不同时间 随着交互内容的不同而产生不同的动态变化。现有的一些研究已经提出了利用序列 模式挖掘口川、马尔科夫链“ 0%U。］、词嵌入“。6［071［3］等相关方法来捕捉用户行为中 的时序依赖关系。这些方法虽然能够捕捉到部分用户行为间的动态关联，但是大部 分关注的还是信息间简单地线性关联。由于不同域之间是互相独立且服务类型也具 有显著差异的原因，用户在不同域上的行为也具有不同的动态变化规律，使得跨域 信息间的动态关联非常复杂。深度学习通过构建更深的网络结构和利用非线性的描 述能力，能够捕捉到信息间复杂的关联。而用户兴趣模型能够将行为数据转换为向 量形式，使其更容易与深度学习相结合，从而更易实现对不同域兴趣信息间非线性 关联的全面捕捉。
32
社交媒体中基于用户兴趣的跨域数据挖掘研究
I	)
I关键I I 一：善费数据异质屉导装跨11	京金赢匿名化导致扇11三：面域数养函态性导赢域I
I j可题I I域信息间关联交错复杂问题：I域信息间关联缺失不足问题I;信息间具有复杂动态关联问题]
I	'	'	,
' V- ) , S;	；.	/	>	1	: ■ —	I	1	'	I
I任#.I	i有效构建融合不同类型I	i有效挖掘行为数据中隐I	唇效结合深度学习捕捉兴!
11兀另I	I数据的同一兴趣空间I	I藏的隐式兴趣信息;I趣信息间的非线性关联;
I ) I	I I	I I :	I
!解决)
I方案； I -	J
r------------] f-----------] r-----------]
I第三章 异质跨域数据下I	I第四章匿名跨域数据下I	I第五章 动态跨域数据下1
最于用户兴趣的跨域用户I	I基于用户兴趣的跨域推I	I基于用户兴趣的跨域推;
I身份识别方法研究I I	荐方法研究	I I	荐方法研究
I---.-----「__1	I_________--- t___________I
图2-6 本文研究架构示意图
综上所述，本论文的主要研究内容将分为三个部分。本论文的各个研究内容之 间的关系可以归纳为如图2-6所示的研究架构。本论文针对跨域数据异质性导致跨域 信息间关联交错复杂的问题，提出了一种异质跨域数据下基于用户兴趣的跨域用户 身份识别方法，通过构建融合不同类型数据的同一兴趣空间以捕捉跨域信息间的交 错关联；针对跨域数据匿名化导致跨域信息间关联缺失不足，提出了一种匿名跨域数 据下基于用户兴趣的跨域推荐方法，通过挖掘行为数据中隐藏的隐式兴趣信息，来 弥补缺失的关联信息；针对跨域数据动态性导致的跨域信息间具有复杂动态关联的 问题，提出了一种动态跨域数据下基于用户兴趣的跨域推荐方法，通过结合深度学 习捕捉兴趣信息间的非线性关联，以统一刻画跨域信息间的动态关联。以上三个研 究内容分别针对的是不同的场景。其中第三章针对的是只能获得部分跨域用户身份 对应关系的情况。第四章针对的是已知所有跨域用户的身份对应关系，但用户处于 匿名状态无法获得其历史数据的情况。第五章针对的是已知全部跨域用户身份对应 关系，并能获得用户的全部历史数据的情况。通过以上研究能够为跨域数据挖掘研 究应用于实际的跨域场景奠定基础。
2.4本章小结
本章首先概述了社交媒体中跨域数据挖掘研究的现状，并指出了建模用户兴趣 是挖掘跨域信息间复杂关联关系的关键。然后梳理了用户兴趣模型的研究现状，概
33
述了用户兴趣模型的构建并具体阐述了用户兴趣建模的方法。最后阐述了社交媒体 中基于用户兴趣的跨域数据挖掘的研究现状，以及探讨了用户兴趣模型提升跨域数 据挖掘性能的优势。
参考文献
[1]	Shu K, Wang S, Tang J, et al. User identity linkage across online social networks: a review[J]. ACM SIGKDD Explorations Newsletter, 2017, 18(2): 5-17.
[2]	Li B. Cross-domain collaborative filtering: a brief survey [A]. II 2011 IEEE 23rd International Conference on Tools with Artificial Intelligence[C] . Piscataway,NJ: IEEE Press, 2011: 1085-1086.
[3]	Khan M M, Ibrahim R, Ghani I. Cross domain recommender systems: a systematic literature re-view[J]. ACM Computing Surveys (CSUR), 2017, 50(3): 1-34.
[4]	Cantador I, Femandez-lbbias I, Berkovsky S, et at Cross-domain recommender systems[!]. Recommender systems handbook, 2015: 919-959.
[5]	Zhao L, Pan S J, Xiang E W, et al. Active transfer learning for cross-system recommendation[A]. 〃 Twenty-Seventh AAAI Conference on Artificial Intelligence[C]. Menio Park, CA: AAAI Press, 2013.
[6]	Tang J. Computational models for social network analysis: a Brief Survey [A]. // Proceedings of the 26th International Conference on World Wide Web Companion[C]. Berlin, German: Springer, 2017: 921-925.
[7]	Marketing charts. Majority of Twitter Users Also Use Instagram[EB/OL]. http://www. marketingcharts.com/online/majority-ottwitter-users-also-use-instagrani-389414 2014.
[8]	Cohen W, Ravikumar P, Fienberg S. A comparison of string metrics for matching names 皿d records[A]. // Kdd workshop on data cleaning and object consolidation^]. New York, NY: ACM, 2003: 73-78.
[9]	Shen Y Jin H. Controllable information sharing for user accounts linkage across multiple online social networks[A], // Proceedings of the 23rd ACM International Conference on Conference on Information and Knowledge Management[C]. New York, NY: ACM, 2014: 381-390.
[10]	Bartunov S, Korshunov A, Park S T, et al. Joint link-attribute user identity resolution in online social networks[A]. // Proceedings of the 6th International Conference on Knowledge Discovery and Data Mining, Workshop on Social Network Mining and Analysis. ACM[C]. New York, NY: ACM, 2012.
[11]	Tan S, Guan Z, Cai D, et al. Mapping users across networks by manifold alignment on hyper-graph[A]. // Twenty-Eighth AAAI Conference on Artificial Intelligence[C]. Menio Park, CA: AAAI Press, 2014.
[12]	Bennacer N, Jipmo C N, Penta A, et al. Matching user profiles across social networks[A]. // International Conference dn Advanced Information Systems Engineering[C]. Berlin, German: Springer, 2014: 42138.
[13]	lofciu T, Fankhauser R Abel F, et al. Identiiying users across social tagging systems[A]. // Fifth International AAAI Conference on Weblogs and Social Media[C]. Menio Park, CA: AAAI Press, 2011.
34
[14]	Liu S, Wang S, Zhu F, et al. Hydra: large-scale social identity linkage via heterogeneous behavior modeling[A]. // Proceedings of the 2014 ACM SIGMOD international conference on Management ofdata[C]. New York, NY: ACM, 2014: 51-62.
[15]	Zafarani R, Liu H. Connecting corresponding identities across communities[A]. // Third International AAAI Conference on Weblogs and Social Media[C]. Memo Park, CA: AAAI Press, 2009.
[16]	Malhotra A, Totti L, Meira Jr 也 et al. Studying user footprints in different online social networks [A]. //2012IEEE/ACM International Conference on Advances in Social Networks Analysis and Mining[C]. Piscataway, NJ: IEEE, 2012: 1065-1070.
[17]	Vbsecky J, Hong D, Shen V Y User identification across multiple social networks [A]. // 2009 first international conference on networked digital technologies©. Piscataway, NJ: IEEE, 2009: 360-365.
[18]	Narayanan A, Shmatikov V De-anonymizing social networks[A]. // 2009 30th IEEE symposium on security and privacy[C], Piscataway, NJ: IEEE, 2009: 173-187.
[19]	Korula N, Lattanzi S. An efficient reconciliation algorithm for social networks[A]. // Proceedings of the VLDB Endowment©. Trondheim, Norway: VLDB Endowment, 2014: 377—388.
[20]	Zhang J, Philip S Y Integrated anchor and social link predictions across social networks[A]. // Twenty-Fourth International Joint Conference on Artificial Intelligence[C]. Menio Paric, CA: AAAI Press, 2015.
[21]	Phan M C, Sun A, Tay Y Cross-device user linking: url, session, visiting time, and device-log embedding[A]. // Proceedings of the 40th International ACM SIGIR Conference on Research and Development in Information Retrieval©. New York, NY: ACM, 2017: 933-936.
[22]	Riederer C, Kim Y Chaintreau A, et al. Linking users across domains with location data: theory and validation[A]. // Proceedings of the 25th International Conference on World Wide Web[C], Berlin, German: Springer, 2016: 707-719.
[23]	Li B, Yang Q, Xue X. Transfer learning for collaborative filtering via a rating-matrix generative model[A]. // Proceedings of the 26th annual international conference on machine leaming[C]. New York, NY: ACM, 2009: 617-624.
[24]	Winoto R Tang T. If you like the devil wears prada the book, will you also enjoy the devil wears prada the movie? a study of cross-domain recommendations] J]. New Generation Computing, 2008, 26(3): 209-225.
[25]	Gao S, Luo H, Chen D, et al. Cross-domain recommendation via cluster-level latent factor model[A]. // Joint European conference on machine learning and knowledge discovery in databases[C]. Berlin, German: Springer, 2013: 161-176.
[26]陈雷慧，匡俊，陈辉，etal.跨领域推荐技术综述[J].华东师范大学学报(自然科学版)， 2017(2017 年 05): 101—116.
[27]	Li B, Yang Q, Xue X. Can movies and books collaborate? cross-domain collaborative filtering for sparsity reduction[A]. // International Joint Conference on Artificial Intelligence[C]. San Francisco, CA: Morgan Kaufinann Publishers Inc, 2009.
[28]	Ren S, Gao S, Liao J, et al. Improving cross-domain recommendation through probabilistic clusterlevel latent factor model [A]. // Twenty-Ninth AAAI Conference on Artificial Intelligence [C]. Menio Park, CA: AAAI Press, 2015.
35
[29]	Chung R, Sundaram D, Srinivasan A. Integrated personal recommender systems]A]. // Proceedings of the Ninth International Conference on Electronic Commerce[C]. New York, NY: ACM, 2007: 65-74.
[30]	Loizou A. How to recommend music to film bufife: enabling the provision of recommendations from multiple domains[D]. Southampton, England: University of Southampton, 2009.
[31]	Fernandez-Tobias I, Cantador I, Kaminskas M, et al. A generic semantic-based framework for cross-domain recommendation[A]. H Proceedings of the 2nd International Workshop on Information Heterogeneity and Fusion in Recommender Systems[C]. New York, NY: ACM, 2011: 25-32.
[32]	Kaminskas M, Femandez-Ibbfas I, Cantador I, et al. Ontology-based identification of music for places[A]. // Information and Communication Technologies in Tourism 2013[C]. Berlin, German: Springer, 2013: 436-447.
[33]	Berkovsky S, Kuflik T, Ricci F. Mediation of user models for enhanced personalization in recommender systems[J]. User Modeling and User-Adapted Interaction, 2008, 18(3): 245-286.
[34]	Singh A H Gordon G J. Relational learning via collective matrix factorization[A]. // Proceedings of the 14th ACM SIGKDD international conference on Knowledge discovery and data mining[C]. New York, NY: ACM, 2008: 650-658.
[35]	Pan Yang Q. Transfer learning in heterogeneous collaborative filtering domains [J]. Artificial intelligence, 2013, 197: 39-55.
[36]	Jiang M, Cui R Yuan N J, et al. Little is much: bridging cross-platform behaviors through overlapped crowds [A]. // Thirtieth AAAI Conference on Artificial IntelIigence[C]. Menio Park, CA: AAAI Press, 2016.
[37]	Berkovsky S, Kuflik 工 Ricci F. Cross-domain mediation in collaborative filtering[A]. // International Conference on User Modeling[C]. Berlin, German: Springer, 2007: 355-359.
[38]	Shapira B, Rokach L, Freilikhman S. Facebook single and cross domain data for recommendation systems[J]. User Modeling and User-Adapted Interaction, 2013,23(2-3): 211-247.
[39]	Tiroshi A, Kuflik T. Domain ranking for cross domain collaborative filtering[A]. // International Conference on User Modeling, Adaptation, and Personalization[C]. Berlin, German: Springer, 2012: 328-333.
[40]	Jiang M, Cui P, Chen X, et al. Social recommendation with cross-domain transferable knowledge^. IEEE transactions on knowledge and data engineering, 2015, 27(11): 3084-3097.
[41]	Ying G, Xi C. Cross-domain scientific collaborations prediction with citation infbrmation[A], // 2014 IEEE 38th International Computer Software and Applications Conference Wbrkshops[C]. Piscataway, NJ: IEEE, 2014: 229-233.
[42]	Jin S, Zhang J, Philip S Y, et al. Synergistic partitioning in multiple large scale social networks[A]. // 2014 IEEE International Conference on Big Data (Big Data)[C]. Piscataway, NJ: IEEE, 2014: 281-290.
[43]	Zhang J, Yu P S. Community detection for emerging networksfA]. // Proceedings of the 2015 SIAM International Conference on Data Mining[C]. Philadelphia, PA: SIAM, 2015: 127-135.
[44]	Philip S Y Zhang J. MCD: mutual clustering across multiple social networks[A]. // 2015 IEEE International Congress on Big Data[C]. Piscataway, NJ: IEEE, 2015: 762-771.
[45]	Wang Z, Zhou X, Zhang D, et al. Cross-domain community detection in heterogeneous social net-works[J]. Personal and ubiquitous computing, 2014, 18(2): 369-383.
36
[46]	Zhan Q, Zhang J, Yu P, et al. Community detection for emerging social networks]J]. World Wide Web, 2017, 20(6): 1409-1441.
[47]	Zhang H, Nguyen D T, Zhang H, et al. Least cost influence maximization across multiple social networks[J]. IEEE/ACM Transactions on Networking, 2015, 24(2): 929-939.
[48]	Zhan Q, Zhang J, Wang S, et al. Influence maximization across partially aligned heterogenous social networks [A]. // Pacific-Asia Conference on Knowledge Discovery and Data Mining[C]. Berlin, German: Springer, 2015: 58-69.
[49]	Rao A, Spasojevic Li Z, et al. Klout score: measuring influence across multiple social networks [A]. // 2015 IEEE International Conference on Big Data (Big Data)[C]. Piscataway, NJ: IEEE, 2015: 2282-2289.
[50]	Zhang T, Xu C. Cross-domain multi-event tracking via CO-PMHT[J]. ACM Transactions on Multimedia Computing, Communications, and Applications (TOMM), 2014, 10(4): 1-19.
[51]	Zaharieva M, Del Fabro M, Zeppelzauer M. Cross-platform social event detection[J]. IEEE MultiMedia, 2015.
[52]桑基韬,路冬媛,徐常胜.基于共同用户的跨网络分析：社交媒体大数据中的多源问题[J].科 学通报,2014, 59: 3554-3560.
[53]	Zhang J. Social network fusion and mining: a survey [J]. arXiv: Social and Information Networks, 2018.
[54]	Abdel-Hafez A, Xu Y A survey of user modelling in social media websites [J]. Computer and Information Science, 2013, 6(4): 59-71.
[55]	Piao G, Breslin J G. Inferring user interests in microblogging social networks: a survey[J]. User Modeling and User-Adapted Interaction, 2018, 28(3): 277-329.
[56]	Rich E. Building and exploiting user models[A]. // Proceedings of the 6th international joint conference on Artificial intelligencefC]. Berlin, German: Springe^ 1979: 720-722.
[57]	Rich E. User modeling via stereotypes[J]. Cognitive science, 1979,3(4): 329-354.
[58]	Rich E. User models in dialog systems[M]. Berlin4 German: Springer, 1989: 35-51.
[59]	Cooper A, 丁全钢.北京，中国：电子工业出版社,2006.
[60]	Cooper A, others. Sams Indianapolis, 2004.
[61]	Chin D N. User models in dialog systemsfM]. Berlin, German: Springer, 1989: 74-107.
[62]	Gao M, Liu K, Wu Z. Personalisation in web computing and informatics: theories, techniques, applications, and fiiture researchfJ]. Information Systems Frontiers, 2010, 12(5): 607-629.
[63]	Bobadilla J, Ortega E Hernando A, et al. Recommender systems survey]J]. Knowledge-based systems, 2013,46: 109-132.
[64]	Frias-Martinez E, Magoulas G, Chen S, et al. Automated user modeling for personalized digital libraries[J]. International booktitle of Information Management, 2006, 26(3): 234-248.
[65]	Jeevan V, Padhi R A selective review of research in content personalization]J]. Library Review, 2006.
[66]	Benyon D, Murray D. Applying user modeling to human-computer interaction design[J]. Artificial Intelligence Review, 1993, 7(3-4): 199-225.
37
[67]	Kim H N, Ha I, Lee K S, et al. Collaborative user modeling for enhanced content filtering in recommender systems[J]. Decision Support Systems, 2011, 51(4): 772-781.
[68]	Hannon J, McCarthy K5 Of Mahony M P> et al. A multi-faceted user model for twitter[A]. // International Conference on User Modeling, Adaptation, and Personalization[C]. Berlin, German: Springer, 2012: 303-309.
[69]	Michlmayr E, Cayzer S. Learning user profiles from tagging data and leveraging them for personal (ized) information accessfA]. // Proceedings of the Workshop on Tagging and Metadata for Social Information Organization, 16th International World Wide Web Conference (WWW2007)[C]. Berlin, German: Springer, 2007: 1-7.
[70]	Hung C C, Huang Y C, Hsu J Y j, et al. Tag-based user profiling for social media recommenda-tion[A]. // Workshop on Intelligent Techniques for Web Personalization & Recommender Systems at AAAI[C]. Menio Park, CA: AAAI Press, 2008: 49-55.
[71]	Uschold M, Gruninger M. Ontologies: principles, methods and applications[1]. The knowledge engineering review, 1996,11(2): 93-136.
[72]徐振宁，张维明，陈文伟.基于Ontology的智能信息检索[J].计算机科学，2001, 028(6): 21-26,44.
[73]李勇.智能检索中基于本体的个性化用户建模技术及应用[D],湖南，中国：国防科技大学, 2002.
[74]	Salton G, Buckley C. Term-weighting approaches in automatic text retrieval [J]. Information processing & management, 1988, 24(5): 513-523.
[75]	Cai H, Zheng V W, Chang K C C. A comprehensive survey of graph embedding: problems, techniques, and applications[}]. IEEE Transactions on Knowledge and Data Engineering, 2018, 30(9): 1616~1637.
[76]	Goyal R Ferrara E. Graph embedding techniques, applications, and performance: a survey[J]. Knowledge-Based Systems, 2018, 151: 78-94,
[77]	Mikolov T, Chen K, Conado G, et al. Efficient estimation of word representations in vector space[J]. arXiv preprint arXiv: 13013781, 2013.
[78]	Kumar H, Lee S, Kim H G. Exploiting social bookmarking services to build clustered user interest profile for personalized search[J]. Information Sciences, 2014,281: 399-417.
[79]	Biswas R Robinson P. A brief survey on user modelling in HCI[A]. // International Conference on Intelligent Human Computer Interaction (IHCI)[C]. 2010.
[80]	Fischer G. User modeling in human-computer interaction]J]. User modeling and user-adapted interaction, 2001, 11(1-2): 65-86.
[81]	McAuley J, Leskovec J. Hidden factors and hidden topics: understanding rating dimensions with review text[A]. // Proceedings of the 7th ACM conference on Recommender systems[C]. New York, NY: ACM, 2013: 165-172.
[82]	Mikolov T, Sutskever I, Chen K, et at Distributed representations of words and phrases and their compositionality [A]. //Advances in neural information processing systems[C]. Neural information processing systems foundation, 2013: 3111—3119.
[83]	Paterek A. Improving regularized singular value decomposition for collaborative filtering[A], // Proceedings ofKDD cup and workshop©. New York, NY: ACM, 2007: 5-8.
38
[84]	Koren Y Bell 氏 Vblinsky C. Matrix factorization techniques for recommender systems[J]. Computer, 2009,42(8): 30-37.
[85]	Mnih A, Salakhutdinov R R. Probabilistic matrix factorization[A]. // Advances in neural information processing systems[C]. Massachusetts, US: MIT press, 2008: 1257-1264.
[86]	Koren Y Factorization meets the neighborhood: a multifaceted collaborative filtering modelfA]. // Proceedings of the 14th ACM SIGKDD international conference on Knowledge discovery and data mining[C]. New York, NY: ACM, 2008: 426-434.
[87]	De Pessemier 工 Deryckere T, Martens L. Context aware recommendations for user-generated content on a social network site[A]. // Proceedings of the 7 th European Conference on Interactive TV and VideofC]. New York, NY: ACM, 2009: 133-136.
[88]	Shi C, Li Y Zhang J, et aL A survey of heterogeneous information network analysis [J]. IEEE Transactions on Knowledge and Data Engineering, 2016, 29(1): 17-37.
[89]	Jacob Y, Denoyer L, Gallinari P. Learning latent representations of nodes for classifying in heterogeneous social networks[AJ. // Proceedings of the 7th ACM international conference on Web search and data mining[C]« New York, NY: ACM, 2014: 373-382.
[90]	Jamali M, Lakshinanan L. Heteromf: recommendation in heterogeneous information networks using context dependent factor models[A]. // Proceedings of the 22nd international conferenee on World Wide Web[C]. Berlin, German: Springer, 2013: 643-654.
[91]	Perozzi B, Al-Rjfbu R, Skiena S. Deepwalk: online learning of social representations]A]. // Proceedings of the 20th ACM SIGKDD international conference on Knowledge discovery and data mining[C]. New York, NY: ACM, 2014: 701-710.
[92]	Tang J, Qu M, Wang M, et al. Line: large-scale information network embedding[A]. // Proceedings of the 24 th international conference on world wide web[C],2015: 1067~1077.
[93]	Tang J, Qu M, Mei Q. Pte: predictive text embedding through large-scale heterogeneous text networks [A]. // Proceedings of the 21th ACM SIGKDD International Conference on Knowledge Discovery and Data Mining[C]. New York, NY: ACM, 2015: 1165-1174.
[94]	Shi C, Hu B, Zhao W X, et al. Heterogeneous information network embedding for recommenda-tion[J], IEEE Transactions on Knowledge and Data Engineering, 2018, 31(2): 357-370.
[95]	Zhao H, Yao Q, Li J, et al. Meta-graph based recommendation fusion over heterogeneous information networks[A]. // Proceedings of the 23rd ACM SIGKDD International Conference on Knowledge Discovery and Data Mining©. New York, NY: ACM, 2017: 635-644.
[96]	Loepp B, Donkers T, Kleemann T, et al. Interactive recommending with tag-enhanced matrix factorization (TagMF)[J]. International booktitle of Human-Computer Studies, 2019, 121: 21T L
[97]	Sun G, Zhang X. Graph embedding with rich information through heterogeneous network[J]. arXiv preprint arXiv: 1710.06879, 2017.
[98]	Yang C, Sun J, Ma J, et al. Scientific collaborator recommendation in heterogeneous bibliographic networks [A]. // 2015 48th Hawaii International Conference on System SciencesfC]. Piscataway, NJ: IEEE, 2015: 552-561.
[99]	Cheng H [ Koc L, Harmsen J, et al. Wide & deep learning for recommender systems[A]. // Proceedings of the 1st workshop on deep learning for recommender systems[C]. New York, NY: ACM, 2016: 7-10.
39
[100]	Kim D, Park C, Oh J, et al. Convolutional matrix factorization for document context-aware recom-mendation[A]. // Proceedings of the 10th ACM Conference on Recommender Systems[C]. New York, NY: ACM, 2016: 233-240.
[101]	Linden G, Smith B, York J. Amazon.com recommendations: item-to-item collaborative filtermg[J]. IEEE Internet computing, 2003, 7(1): 76-80,
[102]	Sarwar B, Karypis G, Konstan J, et al. Item-based collaborative filtering recommendation algo-rithms[A]. // Proceedings of the 10th International Conference on World Wide Web[C]. Berlin, German: Springer, 2001: 285-295.
[103]	Hidasi B, Karatzoglou A, Baltrunas L, et al. Session-based recommendations with recurrent neural networks [J]. arXiv preprint arXiv: 1511.06939, 2015.
[104]	Jannach D, Ludewig M. When recurrent neural networks meet the neighborhood for session-based recommendation[A]. // Proceedings of the Eleventh ACM Conference on Recommender Sys-tems[C]. New York, NY: ACM, 2017: 306-310.
[105]	Tan Y K, Xu X, Liu Y Improved recurrent neural networks for session-based recommendations[A]. // Proceedings of the 1st Workshop on Deep Learning for Recommender Systems[C]. New York, NY: ACM, 2016: 17-22.
[106]	Barkan O, Koenigstein N. Item2vec: neural item embedding for collaborative filtering]A]. //2016 IEEE 26th International Workshop on Machine Learning for Signal Processing (MLSP)[C]. Piscataway, NJ: IEEE, 2016: 1-6.
[107]	Greenstein-Messica A, Rokach L, Friedman M. Session-based recommendations using item em-bedding[A]. U Proceedings of the 22nd International Conference on Intelligent User Interfaces[C]. New York, NY: ACM, 2017: 629-633.
[108]	Zhao W, Wang B, Ye J, et al. PLASTIC: prioritize long and short-term information in top-n recommendation using adversarial training,[A]. // International Joint Conference on Artificial Intel-ligence[C]. Menio Park, CA: AAAI Press, 2018: 3676-3682.
[109]	Rendle S, Freudenthaler C, Schmidt-Thieme L. Factorizing personalized markov chains for nextbasket recommendation[A]. // Proceedings of the 19th international conference on World wide web[C]. Berlin, Gennan: Springer, 2010: 811-820.
[110]	He R, McAuley J. Fusing similarity models with markov chains for sparse sequential recommen-dation[A]. // 2016 IEEE 16th International Conference on Data Mining (ICDM)[C]. Piscataway, NJ: IEEE, 2016: 191-200.
[Ill]	Hariri N, Mobasher B, Burke R. Context-aware music recommendation based on latenttopic sequential pattems[A]. // Proceedings of the sixth ACM conference on Recommender systems[C]. New York, NY: ACM, 2012: 131-138.
[112]	Quadrana M, Cremonesi P, Jannach D. Sequence-aware recommender systems]J]. ACM Computing Surveys (CSUR), 2018, 51(4): 1-36.
[113]	Vasile F, Smirnova E, Conneau A. Meta-prod2vec: product embeddings using side-information for recommendation[A]. // Proceedings of the 10th ACM Conference on Recommender SystemsfC]. New York, NY: ACM, 2016: 225-232.
[114]	Hidasi B, Karatzoglou A. Recurrent neural networks with top-k gains for session-based recom-mendations[A]. // Proceedings of the 27th ACM International Conference on Information and Knowledge ManagementfC]. New York, NY: ACM, 2018: 843-852.
40
[115]	Bogina V, Kuflik T. Incorporating dwell time in session-based recommendations with recurrent neural networks[A]. // The ACM Conference on Recommender System[C]. New York, NY: ACM, 2017: 57-59.
[116]	Zhou G, Mou N, Fan Y et al. Deep interest evolution network for elick-through rate prediction[A]. // Proceedings of the AAAI Conference on Artificial Intelligence[C]. Menio Park, CA: AAAI Press, 2019： 5941-5948.
[117]	Wang S, Cao L, Wang Y A survey on session-based recommender systems[J]. arXiv preprint arXiv: 1902.04864, 2019.
[118]	Tang J, Wang K・ Personalized top-n sequential recommendation via convolutional sequence em-bedding[A]. // Proceedings of the Eleventh ACM International Conference on Web Search and DataMining[C], 2018: 565-573.
[119]	Tuan T X, Phuong T M. 3D convolutional networks for session-based recommendation with content features[A]. // Proceedings of the Eleventh ACM Conference on Recommender Systems [C]. New York, NY: ACM, 2017: 138-146.
[120]	Quadrana M, Karatzoglou A, Hidasi B, et al. Personalizing session-based recommendations with hierarchical recurrent neural networks[A]. // Proceedings of the Eleventh ACM Conference on Recomrnender Systems[C]. New York, NY: ACM, 2017: 130-137.
[121]	Ma C, Kang H Liu X. Hierarchical gating networks for sequential recommendation]A]. // Proceedings of the 25th ACM SIGKDD International Conference on Knowledge Discovery & Data Mining[C], New York, NY: ACM, 2019: 825-833.
[122]	Mu X, Zhu F, Lim E P, et al. User identity linkage by latent user space modelling[A]. // Proceedings of the 22nd ACM SIGKDD International Conference on Knowledge Discovery and Data Mining[C]. New York, NY: ACM, 2016: 1775-1784.
[123]	Liu L, Cheung W K, Li X, et al. Aligning Users across Social Networks Using Network Embed-ding[A]. // Proceedings of the Twenty-Fifth International Joint Conference on Artificial Intelli-gence[C]. Menio Park, CA: AAAI Press, 2016: 1774-1780.
[124]	Man T, Shen H, Liu S? et al. Predict Anchor Links across Social Networks via an Embedding Approach[A]. // Proceedings of the Twenty-Fifth International Joint Conference on Artificial In-telligence[C]. Menio Park, CA: AAAI Press, 2016: 1823-1829.
[125]	Chu X, Fan X, Yao D, et al. Cross-network embedding for multi-network aIignment[A]. // The World Wide Web Conference[C]. New York, NY； USA: Association for Computing Machinery, 2019: 273-284.
[126]	Du X, Yan J, Zha H. Joint link prediction and network alignment via cross-graph embedding[A]. // Proceedings of the 28th International Joint Conference on Artificial Intelligence[C]. Menio Park, CA: AAAI Press, 2019: 2251-2257.
[127]	Fu S, \^ng G, Xia S, et al. Deep multi-granularity graph embedding for user identity linkage across social networks [J]. Knowledge-Based Systems, 2020, 193: 105301.
[128]	Kong X, Zhang J, Yii P S. Inferring anchor links across multiple heterogeneous social networks[A]. // Proceedings of the 22nd ACM international conference on Information & Knowledge Manage-ment[C]. New York. NY: ACM, 2013: 179-188.
[129]	Nie Y Jia Y Li S, et al. Identifying users across social networks based on dynamic core interests [J]. Neurocomputing, 2016, 210: 107-115.
41
[130]	Heimann M, Shen H, Safavi T, et al. Regal: Representation learning-based graph alignment [A]. // Proceedings of the 27th ACM International Conference on Information and Knowledge Manage-ment[C]. New York, NY: ACM, 2018: 117-126.
[131]	Cao X? Yu Y. BASS: a bootstrapping approach for aligning heterogenous social net\vorks[A]. // Joint European Conference on Machine Learning and Knowledge Discovery in DatabasesfC]. Berlin, German: Springer, 2016: 459-475.
[132]	Feng J, Zhang M, Wang H, et al. DPLink: User Identity Linkage via Deep Neural Network From Heterogeneous Mobility Data[A]. // The International World Wide Web Conference[C]. Berlin, German: Springer, 2019: 459-469.
[133]	Szomszor M, Alani H, Cantador I, et al. Semantic modelling of user interests based on crossfolksonomy analysis[A]. // The Semantic Web - ISWC 2008[C]. Berlin, German: Springer, 2008: 632-648.
[134]	Yu S, Wang X, Zhu W, et al. Disparity-preserved deep cross-platform association for cross-platform video recommendation[A]. // Proceedings of the Twenty-Eighth International Joint Conference on Artificial Intelligence[C], Menio Park, CA: AAAI Press, 2019: 4635-4641.
[135]	Tang J, Wu S, Sun J, et al. Cross-domain collaboration recommendation[A]. // Proceedings of the 18th ACM SIGKDD International Conference on Knowledge Discoveiy and Data Mining[C]. New York, NY: ACM, 2012: 1285-1293.
[136]	Hu L, Cao J, Xu G, et al. Personalized recommendation via cross-domain triadic factorization [A]. // Proceedings of the 22nd international conference on World Wide Web[C]. Berlin, German: Springer, 2013: 595-606.
[137]	Loni B5 Shi 丫 Larson M, et al. Cross-domain collaborative filtering with factorization machines[A]. // Proceedings of the European Conference on Information Retrieval [C]. Berlin, German: Springer, 2014: 656-661.
[138]	Elkahky A M, Song Y, He X. A multi-view deep learning approach for cross domain user modeling in recommendation systems[A]. // Proceedings of the 24th International Conference on World Wide Web[C]. Berlin, German: Springer, 2015: 278-288.
[139]	Zhao C, Li C, Fu C. Cross-domain recommendation via preference propagation graphNet[A]. // Proceedings of the 28th ACM International Conference on Information and Knowledge Man-agement[C]. New York, NY: ACM, 2019: 2165-2168.
[140]	Yuan F, Yao L, Benatallah B. DA Rec: deep domain adaptation for cross-domain recommendation via transferring rating pattems[A]. // Proceedings of the Twenty-Eighth International Joint Conference on Artificial Intelligence[C]. Menio Park, CA: AAAI Press, 2019: 4227-4233.
[141]	Li P, Tuzhilin A. DDTCDR: deep dual transfer cross domain recommendation]A]. // Proceedings of the 13th International Conference on Web Search and Data Mining[C]. New York, NY: ACM, 2020: 331-339.	一
[142]	Pan W, Xiang E W, Liu N N, et al. Transfer learning in collaborative filtering for sparsity re-duction[A]. // Proceedings of the Twenty-Fourth AAAI Conference on Artificial Intelligence[C]. Menio Park, CA: AAAI Press, 2010: 230-235.
[143]	Pan W, Liu Z, Ming Z, et al. Compressed knowledge transfer via factorization machine for heterogeneous collaborative recommendation[J]. Knowledge-Based Systems, 2015, 85(C): 234-244.
[144]	Hu G, Zhang Y, Yang Q. Transfer meets hybrid: a synthetic approach for cross-domain collaborative filtering with text [A]. // The World Wide Web ConferencefC]. Berlin, German: Springer, 2019: 2822-2829.
42
第三章异质跨域数据下基于用户兴趣的跨域用户身份识别方 法研究
3.1	引言
链接不同域中的用户身份对于许多跨域数据挖掘方法具有重要意义川。例如，通 过跨域用户身份识别链接不同域的用户身份，跨域信息能够在对齐的不同域之间传 输，可以缓解推荐PT和链接预测中的稀疏性问题。然而，由于不同社交媒体之 间的独立性和大多数社交媒体的隐私保护机制，用户不同账号身份之间的联系无法 直接获得。因此，如何识别用户在不同的域中的用户身份是亟待解决的问题。
现有的研究812］大部分假设不同类型的数据之间是独立的。例如，分别从用户 产生的内容数据（如用户发布的博客或微博）和社交结构数据（如用户之间的关注 关系）中提取用户行为特征，然后直接组合成长向量以综合表示用户兴趣。尽管社 交结构和内容数据都是从不同的角度描述了用户行为特点，实际上这两种数据之间 依然存在相关性。例如，如果一个Twitter用户关注了某个名人，他就很有可能发布 关于该名人的博文。因此，当基于社交偏好和基于内容偏好的用户兴趣表示相似时, 实际上社交结构和内容数据可以共享一个公共空间。因此，本章通过将社交结构和 内容数据融合到同一空间中的方式，捕捉了不同类型数据间的关联，实现对用户兴 趣的完整描述，以提升用户身份识别的准确性。
然而，融合社交结构和内容数据来学习用户的有效表示依然是一项具有挑战性 的任务，主要原因如下。一方面，由于数据的粒度和存储结构等的不同，不同类型 的信息来自异质的特征空间，这使得它们难以直接融合。另一方面，跨域数据的类 型彼此存在差异且含有噪声。例如，用户在Flickr网站上传图片形式的内容，同时在 Twitter中发布文本形式的内容。差异性问题增加同时利用不同类型的数据来准确识 别用户身份的难度。此外，用户发布的内容有很多都是与自身特征无关的广告等噪 声数据。同样，用户社交结构中也有很多的噪声，例如并不是所有的用户之间的链 接都代表真实的“朋友”关系臼。
最近，将多种类型的网络信息嵌入到同一个低维空间的方法口3］在文本挖掘和推 荐等研究中引起了广泛关注。原因在于将一个网络表示为低维向量可以有效解决计 算量大和存储成本高的问题。例如，文献［14］提出了一种基于异质文本网络的文本 嵌入方法，该方法对文档分类是非常有效的。文献［15］提出了一种通用的基于图的
43
嵌入模型，该模型在推荐任务中统一地捕捉了序列化影响、地理位置影响、时间影 响和语义影响。但是，这些方法要么应用于单个域，要么不是为跨域用户身份识别 而设计的。也有一些研究口6,17］利用网络嵌入链接跨域用户身份，但只利用了社交结 构信息。因此，为了实现更高效的跨域用户身份识别，本章将社交结构和内容数据 共同嵌入到两个链接到一起的异质网络中。
针对跨域数据异质性导致跨域信息间关联交错复杂的问题，本章提出了一个基 于链接异质网络嵌入的跨域用户身份识别方法。通过设计基于链接异质网络的兴趣 嵌入模型(Linked-Heterogeneous-Network-based Interest Embedding, LHNE),在统一 的框架中将不同域中的内容和社交结构数据投影到共同的兴趣空间中进行融合，以 学习到跨域用户兴趣的综合描述。首先，对不同域中的异质的内容数据进行主题建 模，以相同的粒度表示不同的内容，并过滤掉噪声。其次，使用了四种不同类型的子 网络(即，用户-用户的单/跨网络、用户-主题的单/跨网络)捕捉了链接异质网络中 基于朋友的跨域用户共现性和基于主题的跨域用户共现性，以联合描述用户隐藏在 社交结构数据中的的社交偏好和内容数据中的内容偏好。然后，通过将所有子网络 嵌入到同一兴趣空间中来学习统一的用户兴趣表示。与此同时，为了弥合域间差异, 使用一组潜在跨域用户实现基于用户的和基于主题的跨域信息转移。最后，通过计 算不同域中用户兴趣表示的相似度来链接不同域中的用户身份。
本章的主要贡献总结如下：
•	联合利用了用户的社交结构和内容数据学习用户跨域兴趣的完整表示，通过在 链接异质网络中捕捉基于朋友的和基于主题的跨域用户共现性以实现不同域中 社交结构和内容数据的融合。
•	提出了一种新的兴趣嵌入模型LHNE,该模型从网络内和网络间两个角度将链 接的异质网络嵌入到一个统一的低维空间中。同时，利用一组种子用户作为先 验信息，学习基于用户和基于主题的跨域转移来解决域间差异性问题。
•	展示了 LHNE在社交媒体数据集和合成数据集上的性能。实验结果表明，LHNE 的性能优于现有的方法，即使在社交结构数据很少或没有的情况下LHNE的性 能也能够优于现有方法。
本章内容安排如下：3.2节定义了本章使用的概念和术语，并正式定义了跨域用 户身份识别问题。3.3节详细介绍了本章提出的基于链接异质网络嵌入的跨域用户身
44
份识别方法。其次，3.4节分别给出了在社交媒体数据集和合成数据集的实验结果。 最后，3.5节总结了本章工作。
3.2	问题定义
本节定义了本章使用到的符号和跨域用户身份识别问题。在不失一般性的前提 下，专注于两个社交媒体中的用户身份识别，因为基于两个域的任务可以扩展到多 个域中。
首先，用G=｛U,E｝来表示社交媒体网络，其中U为用户集合，E = UxU为 边的集合，边代表了 G中用户间的社交链接。每个用户“CU都关联着一系列的词 向量匕=｛匕#2,…,〜｝。匕代表了用户"在G中生成的内容。用户/和号之间的 边€灯”,都使用权重9y来度量两个用户之间链接的重要程度。例如，如果G是 一个合著者网络，Wij为用户Ui和勺之间的合著次数。
跨域用户身份识别问题定义为：给出两个社交媒体网络Gx = ｛UX,EX｝和 Gy = ｛uy,Ey｝,目标是预测不同网络中一对的用户身份片e。和q e。是否为同 一个自然人。
3.3	基于链接异质网络嵌入的跨域用户身份识别方法
本章所提方法的框架描述如图3-1所示。首先，为了统一描述跨域异质内容信息 利用主题模型对不同域的内容进行建模。其次，为了完整全面地捕捉链接的异质网 络中的丰富关系，通过设计针对单网络的网络内用户兴趣嵌入和跨网络的网络间用 户兴趣嵌入来联合捕捉基于社交关系和基于主题关系的用户邻近度。然后，设计了 高效地联合训练算法来实现模型的优化和训练，并将不同网络中的用户和主题统一 映射到低维空间中。最后，基于学习到的用户兴趣表示对不同网络的用户进行对齐。
3.3.1	基于链接异质网络的兴趣嵌入模型
3.3.1.1	基于内容的主题模型
用户的跨域内容数据不仅存在差异性，而且有很多噪声。为了有效提取用户内 容数据中的有效信息，本节通过建模内容主题来统一表示异质的跨域内容数据。
给出一个社交媒体网络G,采用潜在狄利克雷分布(Latent Dirichlet Allocation, LDA)模型来建模用户的词集合V = \yu\u G U｝中的主题。利用LDA从V获取主题
45
1）基于内容	链接异质网络	1）基于内容
的主题模型	、	的主题模型
ir跨域用户身份识别算法
2）异质网络内兴 趣嵌入模型
3）异质网络间兴 趣嵌入模型
同一兴趣空间
用户-用户的链接	用户-用户的跨网络链接	——	产生数据
用户-主题的链接	会	主题-主题的跨网络链接	——	提取主题
图3-1	基于链接异质网络嵌入的跨域用户身份识别方法框架描述
分布后，通过度量用户的内容主题来获取不同用户间的邻近度。LDA模型的具体细 节如下：
Oi	如〜”出（仇）,叫了 〜MultiS%）	（3-1）
其中a和。为超参数。。斤3代表狄利克雷分布，代表多项分布。对于每一 个用户u,从参数为以（d~D"（a））的狄利克雷分布中抽取其主题分布耳。对每个词, 首先从用户的主题分布（叼〜Multi®））中抽取主题Zip然后根据主题••词字典生）选
46
择出词Wir主题-词字典据服从参数为P(%〜。斤(£))的狄利克雷分布。
本节通过吉布斯采样的方法对LDA模型的参数进行估计。吉布斯更新规则如下:
九;? + a左	叫? + P7
?(叼=川Zrij,吗弧•)8	-+	---- (3-2)
卬噂 + ap) Z (喘+甸
P=1	q=l
其中〃话是主题k分配给用户i (次数5= k)的次数，nkJ是词j分配给主题k的次 数。经过足够的采样迭代后，主题分布可以通过如下公式进行估计：
ei,k ;「+ %一	(3-3)
£ (〃i,p + a「)
P=1
在实验中注意到由于一些主题与用户内容的匹配度较低，保留所有的主题将引 入噪声。因此，模型只保留了有价值的主题= ｛川4# ＞外来表示用户的内容偏好, 其中力为主题阈值。通过设定合适的阈值几不仅可以在减少主题数量的情况下提高 计算效率，还可以通过过滤无关的主题来提高鲁棒性。另外，主题模型针对不同的社 交媒体网络中的内容进行建模，而不是联合两个社交媒体网络中共同提取主题。原 因在于不同的社交媒体网络的内容信息之间具有差异性，分别建模单个社交媒体网 络的内容主题比从两个社交媒体网络中联合提取的主题质量更高。不仅如此，这样 的设置还允许更灵活的参数选择。例如，可以为不同的社交媒体网络设置不同的主 题数量，使主题在语义上更有意义。
3.3.1.2	异质网络内兴趣嵌入模型
对于给定的社交媒体网络G,通过捕捉基于朋友和基于主题的用户相似度来将 两个网络内的异质信息嵌入到一个低维空间中。具体地，可以总结为以下两个任务：
任务1.(用户-用户的网络内嵌入)通过捕捉两个用户-用户子网络中的基于朋友的用
户相似度，让拥有相同邻居的用户兴趣表示尽可能的接近。
任务2.(用户-主题的网络内嵌入)通过捕捉两个用户-主题子网络中的基于主题的用 户邻近度，让对相同的主题同时感兴趣的两个用户兴趣表示趋于相似的。
47
不同于传统网络嵌入方法［㈣中直接使用已构造好的网络，本节任务2中对应的 子网络需要提前构建。第一个任务可以在给定的社交媒体网络G= （U,E）上直接完 成。针对第二个任务，本节构建了一个用户-主题的二部网络，定义为G“r = （U,E”）。 其中U为用户集合，T为从用户生成的内容信息中提取到的主题集合，/r为用户-主 题关系组成的边集合。每个用户-主题关系都有一个度量用户ut对主题0感兴趣程度 的权重W"。的值可以通过LDA模型的输出获得，即公式（3-3）。
针对任务1和任务2,首先定义量给节点片和v；形成边的条件概率为：
P（VjW）=
exp（牙 &）
exp②•禹）
（3-4）
其中，任务1中两个节点为片,Vj e u ,而任务2中的两个节点为匕e U和Vj e T=任 务1中无定义为VB = {vke U,vk*Vi},任务2中的Vg = T。Zi和Zj分别节点匕和Vj 的嵌入向量。为了保持边（为町）的权重为叼本节使条件概率p（・M）和它的实验概 率穴・|匕）一致。定义实验概率为户M|匕）=叱/4。然后最小化目标函数，如下所示:
°’ = £六以 3（*1 片川 P9M））	（3-5）
其中，。《|卜）为两个分布之间的KL-散度。4代表节点匕•在网络中的重要性，用 4 =	进行表示。通过省略一些常量，目标函数（3-5）化简为：
i
0' = _£（3j）eEvWijlogP（VjM）	（3-6）
其中，及为%和力之间的边的集合。
最后，基于目标函数（3-6）,通过最小化下面的目标函数以完成基于网络G的任 务1和基于二部网络Gut的任务2：
01 = - £ 吗 logp（垮峭- £ 喝 logp（q4） （3-7）
（碎 g）CEx	（吟哈 CEP
。2 = - £ 吗 logp（阴片）一 £ %logp（弓峭	（3-8）
（可用幅	（用珍北方
48
3.3.1.3	异质网络间兴趣嵌入模型
本节在假设有一组可用的跨域用户的基础上，在两个网络6工和8上通过以下 任务来完成网络间异质信息的嵌入：
任务3.（用户-用户网络间嵌入）目标是利用基于用户的跨域转移，使两个网络中的潜 在跨域用户对在同一空间中有一致的兴趣表示。
任务4.（用户-主题网络间嵌入）目标是借助基于主题的跨域转移，使有共同兴趣主题 的潜在的跨域用户对的兴趣表示在同一空间中尽可能接近。
首先介绍设计的基于用户和基于主题的转移。通过捕捉网络Gx和GP之间的用 户-用户关系，学习基于用户的转移。利用一组已知的跨域用户。。的特征来预先训 练一个SVM模型，进行跨域链接预测口°］,然后将SVM模型的结果作为跨域用户之 间的转移概率。已有文献［16］证明了跨域用户之间的转移概率等价于跨域用户之间的 相似度。因此，定义的基于用户的跨域转移概率p“（片|碱），代表了网络6日中的用户 片和网络。中的用户磋为同一个人的概率。基于以上转移概率，能够得到一组潜 在的跨域用户us = ｛改|p“（咽磁）〉公，其中q为转移阈值。
通过捕捉两个二部网络G%和G。之间基于主题的链接来学习到基于主题的跨 域转移。此处与文献⑶中的假设一致，即如果许多潜在跨域用户同时对不同网络中 的主题片和主题弓感兴趣，那么这两个主题往往是相关的或相似的。因此，基于潜 在跨域用户Vs,可以定义主题片和主题g之间的转移概率为：
Pr（弓片）=E P（卵。P。片）
=E P （加）吗泮 ukeus	P ⑺
=L %*<*嘤
u冬J, ' p⑹
（3-9）
其中，可#和年后是利用LDA模型获得的主题概率，p（%）是用户的先验概率, 记作「（%）=%（碗%）。p（/f）是主题的先验概率，记作pW）= £ p（4l以）p（以：）=
E 除 p（“Q。
接下来，利用得到的基于用户的跨域转移概率，基于网络G*和3可以构建用 户-用户的跨网络，定义为G/ = ｛U"U。,破｝,成为用户-用户的社交链接万和户
49
和用户-用户的跨域链接E?”组成的集合。G也能够在不同网络间传递用户的社交结 构信息。相似地，基于两个用户-主题二部网络和和公式（3-9）中获得的基于 主题的跨域转移概率，利用能够建立用户-主题的跨网络G*然后将两个跨网络Gg 和Gg嵌入到一个同一空间中。针对任务3,虽然在潜在的跨域用户对之间没有真实 的跨域链接，但是炉和炉的信息可以通过基于用户的转移概率pZ进行相互传递。 因此，可以得到如下经验概率：
户（q*）= £/（瞅1片）”的13 ukeux
诏	（3-10）
ukEUx ai
然后，最小化”（尾M）和百（引切的KL-散度，得到对应的目标函数：
。；=- E E 嘘（片 |%）logp（《M）	（3-in
对于任务4中网络Gx中的用户环和网络Gy中的主题弓之间没有真实的链接, 但通过基于主题的跨域转移心（引党也可以完成片和乡的跨网络信息交换。从而可 以得到经验概率和对应的目标函数：
以学说）=E户侬|吟”（弓防）
=E察*a（悯
（片,后€瓯％
& = 一 E £ 唬Pt（引4）logp（引片）	（3-13）
（片间/鸿b，
另外，通过交换公式（3-9）-（3-13）里的上标x和y,能够计算当B为源网络和 为目标网络时的网络间异质信息的嵌入。
最后，基于目标函数（3-11）和（3-13）,通过最小化以下两个目标函数可以完成任 务3和任务4：
。3 = - £ E 磕。“（片M）iogp（%片）
（环加诲承s	（3/4）
-E E腺—%健。（垮M）
50
04 = - E £ 磕Pr（引4）logp（引力）
（彳,E）€E务法门
（3-15）
-EE噱0	（锹飒。（加） （脸由
3.3.2	模型优化及训练
链接异质网络由四个部分组成：用户-用户/用户■■主题的单网络和用户-用户/用 户-主题的跨网络，用户在这四个部分是相互共享的。为了学习到精确的用户兴趣表 示，一个直观的想法是将这四个部分联合嵌入，可以通过最小化以下目标函数来实 现:
O =。［ +。2 +。3 + 04	（3-16）
基于以上函数，能够学习到链接异质网络中各个节点的表示，｛（格加｝阴、 ｛（/）%,...,阳、｛（脸吸）｝f .他，|和｛（峭｝内,...何，定义所有的表示的维度为小 其中向量方、/、必和弓分别:弋装节点片、弓、》和耳的嵌入表示，而和肉为 用户作为邻居节点时的上下文表示。
本节使用异步随机梯度下降算法［阅来优化目标函数（3-16）。实际上，由于目标 函数（3-16）需要对整个节点集进行求和，即计算条件概率p（.|%）,因此计算量很大。 为了解决以上问题，此处采用负采样方法进行优化I1生以源节点为片的边为例，可 以得到负采样情况下对应的条件概率，表示为：
logp崎片）8 logo（%" •帝）+ £ %”.（“）log（T（-^ .常） （3-17）
m=l
log。（引*） 8 log b（蕾T •常）+ £ E""~p式"）log b（—.帑） （3-18） m=l
K
logp（期片）8 logo（浮.叶）+ £ j（“）logb（W 常）	（3-19）
m=l
logp印说）8 log。（干尸,密）+ E Eun~p〃（u"ogo（-楸■茄	（3-20）
m=l
51
其中，or（x） = 1/（1+exp（x））为sigmoid函数，K为负采样的个数。参考文献[19],设 置K=5和pn（u） = ft du为节点u的出度。
为了最小化目标函数（3-16）, 一个直接的方式是将集合尸、和或中所 有类型的边融合在一起，同一训练。但由于网络是异质的，不同类型的边的权值实 际上不能相互比较。因此，根据边的类型不同，交替采样将更加合理a。J，即联合训 练。目标函数（3-16）可根据不同类型的边采样策略分为。““和0妙。。““ =。1 +。3和 0m=。2 + Q分别是对E和E1a进行边采样时的目标函数。
为了更新网络S中的节点向量，即件。通过分别对E和与f进行边采样可以得 到相应的梯度。梯度计算如下：
豪=吗* ｛[1 - 0（%" ./摩-b（烂.茄普｝+
E 喊*Pu/唬）｛[1 -。（浮•而]券-	（3-2D
ujcuy
。（烂•常）谭｝
繁=吗* ｛口 —。（醇/・ WJ-。（碍' •密网｝十
E啖*0（引域）短-。（褶・常）增-	（3-22）
tjeTy
b（资•密）祝｝
同理可得其他各节点的偏导数:
整=吗*[1-仪/.茄愕+
£4* P”崎翩1-6（摩。%）怯 ujeux
繇=吗*[1-b（研・常）]尹
E 唬*0（用力）[1 —。L%）]% tjeTx
(3-23)
(3-24)
52
翁^ =吗* 。0r •常）侨+
£嘘*。“（垮%）* ［一。（菅7•我）］梨
UjEUx
AC
熊=吗*［-。（资喏）廨+
£嘘*Pr（引K）* ［-。（够1・为悌 t产尸
(3-25)
(3-26)
根据公式（3-21）-。-26）,通过交换上标x和y,同样可以得到网络切的更新规 则。联合训练算法如算法3.1所示：
3.3.3	跨域用户身份识别算法
在学习到两个网络中的各自的用户兴趣表示之后，基于余弦相似度计算不同网 络中的跨域用户对应关系，如下所示：
⑹（吟吟=/卢一；［	2	327）
从网络6*和b中取出两个待测试的用户集合。网=｛冷够…，说｝和= ｛力修，…,比卜 然后计算这两个列表中每一对测试用户的余弦相似度。接下来，根 据给出相似度阈值w,筛选出一系列潜在跨域用户对，放在列表r = ｛<片,q> I"/（时,q） > W,说e u：% e u'y｝中，作为最终匹配的跨域用户对。
算法3.2中展示了本章的跨域用户身份识别整体算法流程，主要包含四个部分。 首先，步骤1到步骤4分别对GX和5中的内容数据的进行主题建模，并从中过滤 掉无关的主题。然后，在已知部分跨域用户对应关系的基础上学习基于用户的跨域 转移和基于主题的跨域转移（步骤5和步骤6）。这部分的细节在331.3节中进行了 细节阐述。接下来，利用步骤7的联合训练算法来学习到两个网络中的用户和主题 节点的表示。联合训练算法的细节在算法3.1中进行了具体介绍。最后，利用步骤8 至步骤15能够得到最终匹配好的跨域用户对。
53
算法 3 1 联合训练算法
，入：网络看网络一组已知的跨域用户U。，负采样的个数K,采样数S,学 习率不
输出：节点表示｛体泻）｝,…附、｛的）｝0,..它［、｛区和 ｛⑷）｝尸1,…棺0
1：初始化节点表示；
2： while iter <= S do
3： for m in ｛x,y｝ do
4： 从网络Gm的边集合E中采样一条边（孙勾）；
5：	基于公式（3-21）和（3-23）更新网络GX和小中的加和％;
6： for h = O;h < K;h — h+l do
7:	采样一个负节点4；
8：	基于公式（3-21）和（3-25）更新网络Gx和小中的加和隹；
9：	end for
10：	从网络Gm的边集合E1a中采样一条边（如功；
11：	基于公式（3-22）和（3-24）更新网络G*和G7中的加和我；
12：	for h = 0;h<K;h = h+ldo
13：	采样一个负节点友；
14：	基于公式（3-22）和（3-26）更新网络和炉中的宠和麻
15：	end for
16： end for
17： end while
3.4实验与分析
本节在两种跨域数据集上将LHNE与先进的跨域身份识别方法进行比较。第一 个数据集由Twitter网络和Flickr网络组成的社交媒体数据集。第二个数据集是一个 合成数据集，包含了来自数据挖掘域和万维网域的合著者数据集。
3.4.1	实验环境与设置
（-）数据集选取
为了更好地验证本章所提方法联合利用社交结构数据和内容数据实现跨域用户
54
算法3.2跨域用户身份识别整体算法_________________________
输入：网络6日和网络。，一组已知的跨域用户U。，两个网络中的测试用户集合
和。％ 主题阈值儿 相似度阈值w。
输出：结果列表R。
1： for 机 in {x,y} do
2：基于公式(3-2)和(3-3)对网络Gm中用户的内容信息进行主题建模；
3：	根据力={k\Qhk > h}过滤不重要的主题；
4： end for
5：利用用户U0的特征训练SVM；
6：基于分类器和公式(3-9)计算基于用户的跨域转移概率pu和基于主题的跨域转移 概率科；
7：通过算法3.1的联合训练算法学习两个网络的节点表示；
8： for每个测试用户说in U'x do
9：	for每个测试用户叼in U'y do
10： 根据公式(3-27)计算不同网络中测试用户间的相似度re/(片,吊)；
11：	if rel (uf, Uj) > w then
12： 将 </回> 加入到R；
13：	end if
14： end for
15： end for
身份识别的优势，选取了同时包含社交结构和内容数据的两个跨域数据集以综合评 估各个方法的性能。
社交媒体数据集〔21】。第一个数据集包含两个真实的社交媒体网络Twitter和 Flickro包含7118个跨域用户与他们的关注者或朋友关系(即社交结构数据)。利用 Twitter API收集了 Twitter网站中每个用户的发布的博文(每个用户平均2361.07条)， 利用Flickr API在Flickr收集了网站中用户打的标签(每个用户平均559.80条)。以 上两种都作为用户的内容数据。数据集中还提供了跨域用户的对应关系。数据集的 基本统计数据如表3-1所示。
合成数据集。第二个数据集通过抽取DBLP数据集PR中的部分信息构成合成 数据集。合成数据集包含了来自数据挖掘(DataMining, DM)领域和万维网(Wide World Web, WWW)领域的论文标题(即内容数据)和合著者关系(即社交结构数
55
据）。每个作者平均在DM网络中有2.07个标题、在WWW网络中有1.81个标题。由 于本章中定义的边是有方向的，所以将合著者关系视为两个方向相反且权重相等的 有向边。数据集中一共提供了 5353个跨域用户对。数据集的统计信息如表3-2所示。
表3-1	Twitter-Flickr跨域数据集的统计信息表
网络	用户数	边数	跨域用户数
Twitter	7118	83391	7118
Flickr	7118	23997
表3-2 DBLP跨域数据集的统计信息表
网络	用户数	边数	跨域用户数
DM	30795	168558	5353
WWW	28273	147932
（二）对比方法选取
为了评估LHNE在跨域用户身份识别方面的性能，本节选择了以下先进的方法 作为对比方法：
1.	LHNE：本章提出的模型。LHNE通过将用户的社交结构数据和内容数据联合 嵌入到同一空间学习同一兴趣表示，进行跨域身份识别。它包含基于用户-用 户/用户-主题关系的网络内兴趣嵌入和用户-用户/用户-主题关系的网络间兴趣 嵌入四部分。
2.	LHNE-U：通过忽略用户-主题关系的网络间嵌入的LHNE模型的变体。
3.	LHNE-S：只利用社交结构数据的LHNE模型的变体。它包含了用户-用户关系 的网络内嵌入和用户-用户关系的网络间嵌入。
4.	LHNE-C：只利用内容数据的LHNE模型的变体。它包含了用户-主题关系的网 络内嵌入和用户-主题关系的网络间嵌入。
5.	IONES"6】：是一种针对跨域用户身份识别任务设计的同构网络嵌入模型，该模 型可以同时学习每个用户的关注和被关注关系。IONES模型只利用了用户的社 交结构数据。
56
6.	IONES-C：通过简单有效的方式将内容数据引入IONES进行扩展。具体地，将 用户的主题分布向量和用户兴趣的嵌入向量连接成一个长向量，作为用户兴趣 的表示。IONES-C同时考虑了社交结构数据和内容数据。
7.	K近邻(K-Nearest Neighbor, KNN)t23,24h 一种基于最近邻搜索的对比方法。本 节在实验中联合使用主题分布和共同邻居一起作为用户的特征来计算上个最近 的邻居。
(三)评价指标设置
本节中采用召回率(Recall)、精确率(Precision)和Fl作为指标来评估各个方 法的性能。Recall指的是通过模型计算得到的跨域用户对占真实的跨域用户对总数 的比例，Precision是真实的跨域用户在总的结果列表中所占的比例，而F1为Recall 和Precision的调和平均数，它同时考虑了 Recall和Precision,让两者同时达到最高, 取得平衡。它们的定义如下：
Recall.__—r \RealCrossU serPairs\ 卜	\CorrPairs]
Precision	r-—— ----
\ResultPairs\
“	2* Recall * Precision
Fl =---------------
Recall+Precision
(3-28)
(3-29)
(3-30)
其中，为真实的跨域用户对的个数。尸为利用用户身份 识别方法获得的结果列表R中真正的跨域用户对的个数。\ResultPairs\代表列表火中 的总对数。
(四)结构特征指标设置
本节采用互通度(Interoperability, Interop)和稀疏度(sparsity level)两个指标 来度量跨域用户身份识别方法在不同的网络结构下的可靠性。Interop可以测量两个 网络的重叠率对方法的影响，定义如下：
r ,	、 \Correlations\ * 2
interopix.y)=—；--------；——r- -------：
[Relation^ + \Relationsy\
(3-31)
其中，Relations^ 为 0cly 中的有向边集合。Correlations 为 Relations^ 和 Relation^ 两个集合的交集，且0工/加1。当两个网络完全重叠(或完全不重叠)时, Interop(x,y) = 1 (或	=0)。
同时，为了验证各个方法在应对单域中的数据稀疏性问题时的表现，本章利用 稀疏度来研究不同稀疏性条件下各个方法的性能。为了减少其他因素的影响，在
57
保证"temp不变的情况下，通过删除两个网络的重叠的边和非重叠的边来构建数据 集在不同稀疏度（es = [10%,20%,…,90%]）下的变体。除此之外，实验中还评估了 在不同w和训练率下各个方法的有效性以及在不同采样数和维度下方法的敏感性。
3.4.2社交媒体数据集的实验结果与分析
本节展示了各个方法在社交媒体数据集上的性能。LDA模型用来提取内容中的 主题。通过测试所提方法在不同主题数下的性能表现，选取出最优性能时的主题数 作为最终设置。主题K的个数设为60, LDA模型中的所有超参数都设为1/K。为了 获得更好的嵌入性能，设置分类器的不平衡率为崎^ = 1。原因在于训练集更加 均衡时，分类器的性能会更好⑹助。
（一）主题阈值影响分析
要解决跨域间的噪声问题，关键是要找到能够代表内容信息的合适主题。由于人 能够有效滤除内容中的噪声信息，因此本实验首先研究主题阈值九对模型性能的影 响。表3-3展示了设定不同h时本章提出的方法LHNE与LHNE-U的Recall、Precision 和Fl值。从结果中可以看出，这两种方法的性能是对力敏感的。这两种方法的性能 都随着儿的增大而升高，在入=0.3时性能最好。主要原因在于内容数据中包含了噪 声信息，当设定一个较小的人时可以有效过滤噪声。而随着力的继续增大，LHNE与 LHNE-U的性能反而下降。这是由于当力设定过大后，反而会将有用的信息过滤掉, 影响了性能。因此，为了取得较好的性能，实验中将设定九=0.3。
表3-3 不同主题阈值下社交媒体数据集中各个方法的性能对比表
指标	对比方法
0J	03	0.5	0.7
Recall	LHNE-U	0.545	0.596	0.548	0.495
LHNE	0.619	0.687	0.629	0.563
Precision	LHNE-U	0.422	0.498	0.434	0.353
LHNE	0.474	0.566	0.488	0.397
Fl	LHNE-U	0.476	0.538	0.484	0.412
LHNE	0.537	0.621	0.549	0.466
（二）相似度阈值和训练率影响分析
图3-2和图3-3展示了在不同的相似度阈值和训练率下的方法性能。可以看出所有 方法对相似度阈值和训练率都比较敏感。随着w的增大，所有方法的Recall值都不 断下降。原因在于，当设置一个较大的w值时会将许多的跨域用户对过滤掉。由于
58
真正的跨域用户对通常比其他候选用户对具有更大的相似度［25］，而这些被过滤掉的 用户对中的相似度较高的候选对更有可能是真实的结果。与此同时，当设定较大的 攻时，候选列表的长度会变得很小，真实的跨域用户数在候选列表中所占的比例会 增大，因此Precision值随着w的增加而增加。为了平衡Recall和Precision,剩余实 验设置w = 0.9o
从图3-2可以看出，本章提出的LHNE方法明显优于其他对比方法。具体地，当 w = 0.9时，LHNE方法的Recall值比IONES-C方法提升了 47.93%,比IONES方法 提升了 64.34%,比KNN方法提升了 182.99%。通过深度分析数据集，可以发现在 Flickr网络中有40.94%的用户与其他用户没有任何链接关系，在Twitter网络中有 18.45%的用户与其他用户没有任何链接关系。这些丢失的社交结构信息会造成方 法性能的下降。而LHNE在可以利用主题节点作为用户节点的上下文进行补充来缓 解信息缺失的问题。与之相对，IONES-C和KNN分别考虑内容和结构数据的做法 和IONES只考虑社交结构信息的做法，都无法将没有社交链接的用户们进行相互关 联。不仅如此，LHNE还进一步利用基于用户和基于主题的跨网络信息转移来补充 信息的缺失，使得用户兴趣的表示更加全面有效。此外，由于LHNE-S的性能优于 LHNE-C,可以得知，对于跨域用户身份识别任务，社交结构信息比内容信息更具区 分度。LHNE的性能优于LHNE-S （只有结构信息）和LHNE-C （只有内容信息），显 示了联合利用社交结构和内容数据对于提升跨域用户身份识别的准确性是十分有效。
此外，图3-3显示了，在不同训练率下，LHNE的性能都优于其他方法。即使在 只给定比例为10%-20%的训练数据时，LHNE也优于其他方法。这说明了 LHNE联 合利用社交结构和内容数据，能够捕捉更多的用户偏好信息，得到更全面的用户兴 趣表示。这对于没有大量训练数据的真实社交媒体来说非常重要。为了平衡其他对 比方法的性能，实验中将训练率设置为0.9o
£.7.66.43 2 — O.O.O.O.O.O.O.O.O.
三
0.75	0.80	0.85	0.90
w
0.9
0.8
0.7
0.90	0.95
w	w


(a) Recall	(b) Precision	(c) F1
图3-2	社交媒体数据集中不同相似度阈值下的各个方法的性能对比图
59
9 8
0.0.
6 5 4 3
O.O.S 也
0.2
0.1
°1°10 20 30 40 50 60 70 80 90 训练率（蛤
9 8 7 6 5 4 3
S 6 S。。S S
UOWOOJd
0.2
0.1
00
■ 10 20 30 40 50 60 70 80 90
训练率隔）’
训练率魏)
9 8 7 6 5 4 3 o.s。。C5O.O.
X
(a) Recall	(b) Precision	(c) F1
图3-3 社交媒体数据集中不同训练率下的各个方法的性能对比图
3.4.3合成数据集的实验结果与分析
本实验中重点研究了 LHNE在不同互通性和稀疏度下的可靠性和不同采样数和 维度设置下的敏感度。实验中的K值、超参数和不平衡率的设置与基于社交媒体数 据集的实验中的设置相同。
(一)相似度阈值和训练率影响分析
图3-4和图3-5展示了各个对比方法在合成数据集上的性能。本实验的结果与 图3-2和图3-3展示的结果相似。LHNE方法的性能在不同的相似度阈值攻和训练率下 都优于其他对比方法。例如，当训练率为90%时，LHNE的Recall值相比于IONES-C 方法提升了 19.27%。原因在于，IONES-C方法假设不同类型的跨域信息相互独立, 损失了不同类型信息间的关联关系。而LHNE通过引入用户-主题关系能够将不同类 型的用户社交信息和内容信息进行链接。虽然LHNE与其他方法相比加入了更多的 用户-主题关系数据，但由于引入的主题信息能够进一步帮助模型快速收敛，因此并 没有影响计算效率，具体细节将在后续的维度影响分析(图3-9)中具体介绍。除此 之外，在图3-4、图3-5和图3-2、图3-3之间仍然有两个不同之处。一方面，所有方法在 合成数据集上的性能都比在社交媒体数据集上的要好。这是因为合成数据集比社交 媒体数据集的社交结构信息更丰富。从表3-1提供的信息可以说明原因，合成数据集 同时包含了跨域用户和非跨域用户，并且合成数据集的DM网络和WWW网络的边 的比例也比社交媒体数据集中的两个不同网络边的比例更加平衡。另一方面，LHNE 在社交媒体数据集上与IONES-C和IONES性能的差距比在合成数据集上更明显。由 于社交媒体的性质，社交媒体数据集实际上比合成数据集拥有更多的噪声。通过选 择合适的主题阈值方对内容中的噪声进行过滤后，LHNE具有更强的鲁棒性。除此之
60
外，联合嵌入社交结构信息和内容信息也使得LHNE的性能更加稳定。在参数设定 方面，与对社交媒体数据集的考虑类似，将卬设置为0.95,将训练率设置为0.9。
(a) Recall
(b) Precision
(c)Fl
图3・4	合成数据集中不同相似度阈值下的各个方法的性能对比图
-Q 4 3 so.so.o.so.
三一
30 40 50 60 70 80 90
训练率(阶
(a) Recall
9 8 7 6 5 4 3
S SO.O.O.S S
uo-suUJd
0.2
0.1
0010 20 30 40 50 60 70 80 90 训练率(%)
(b) Precision
0.2
0.1
0.0,
9 8 7 6 5 4 3
S。6O.6O.O.
二
10 20 30 40 50 60 70 80 90 训练率㈤
(c)Fl
图3-5	合成数据集中不同训练率下的各个方法的性能对比图
（二）互通度和稀疏度影响分析
由于所有的对比方法都是基于网络进行设计的，所以它们都面临网络不重叠、 数据稀疏性等问题的困扰。因此本实验旨在研究在不同网络的互通度和稀疏度情况 下各个方法的性能。图3-6和图3-7展示了实验结果。通过计算，原始的合成数据集中 的网络的互通度为0.0889。在实验中，通过随机删除两个网络中重叠的边来使互通 度的值在10%至60%间变化。图3-6的结果说明了所有的方法都依赖于互通度，并 且随着互通度的值的增加，这些方法都获得了更好的性能。另外，即使在互通度的值 很小的情况下，LHNE的性能也要优于其他对比方法。图3-7显示了即使在稀疏度高 于50%的情况下，LHNE的性能依然优于其他方法，例如，与IONE-C相比Recall值 提升了 34.24%。换言之，LHNE即使在只有较少的社交结构数据情况下也能获得较 好的性能。这是因为将主题和用户关联起来的设计可以使LHNE方法更加可靠。为
61
(a) Recall	(b) Precision
(c)Fl
图3・6	合成数据集中不同互通度下的各个方法的性能对比图
9
9 8 7 6 5 4 3 2 J
SO.SSSO.SO.S
LHNE IONES-C KNN
LHNE-U .IONES
00-------------------------^^-1
10 20 30 40 50 60 70 80 90
稀疏度(%)
7 6 5-4 3 2 1 O.O.SO.O.QO.
u.ssopkl
00
10 20 30 40 50 60 70 80 90
稀疏度(%)
9 8 7 6 5 432 J SO.SO.SS。。。
一U.
°°10 20 30 40 50 60 70 80 90 稀疏度(%)
(a) Recall	(b) Precision	(c) F1
图3-7	合成数据集中不同稀疏度下的各个方法的性能对比图
了维持数据集的原始网络结构，实验中将互通度设置为0.0889,稀疏度设置为0%。
(三)采样数和维度影响分析
对于基于嵌入的方法来说，采样数和维度对计算速度和存储有很大的影响。因 此，本实验通过改变采样数和维度d来分析各个方法的收敛性能。图3-8显示LHNE 的收敛速度比IONES-C和IONES更快。原因在于引进了内容数据，能够提供更多的 有效信息帮助模型快速收敛。收敛速度的提升对与跨域用户身份识别实现实时性是 非常关键的。因此，考虑到实时性要求和对比方法的收敛性，实验中将所有方法的 采样数设为1000万。另外，从图3-9中可以发现，即使在d值较低的情况下，LHNE 的性能也远远优于其他方法。通过更低维度的嵌入可以实现更高效的计算性能。为 了使所有方法都处于稳定且获得较好的性能，实验设置d= 100。
62
7 6 5 4 3 2 1 o.o.o.o.o.s s
二§)一
♦ LHNE ^.IONES-C LHNE-U 4-IONES
7 6 5 4 3 2 1 o.o.o.so.o.d
uo-siojd
0.7
0.6
0.5
T 0.4
03
0.2
0.1
♦ LHNE .IONES-C LHNE-U 4- IONES
0	20	40	60	80	100
采样数(百万)
0	20	40	60	80	100	, 0	20	40	60	80	100
采样数(百万)	采样数(百万)
(a) Recall
(b) Precision
(c)Fl
图3-8	合成数据集中不同采样数下的各个方法的性能对比图
0.8
♦ LHNE .IONES-C LHNE-U .IONES
0.8
0.7
0.8
50 5
2 o
6S.43 2 1 o o.o.s s so.0.
75 100 125 150 175 200
维度
c 0.5
0.4
上03
0.2
0.6
25 50
75
100 125 150 175 200
维度
♦ LHNE . IONES-C LHNE-U . IONES
0.5
E 0.4
0.3
0.2
0.6
0.7
25 50 75 100 125 150 175 200
(a) Recall	(b) Precision	(c) Fl
图3-9 合成数据集中不同维度下的各个方法的性能对比图
3.5本章小结
针对跨域数据异质性导致跨域信息间关联交错复杂的问题，本章旨在构建一个 同一兴趣空间融合用户的社交结构和内容数据，以学习到用户兴趣的统一表示。并 提出一个基于链接异质网络的兴趣嵌入模型，以解决跨域信息异质性、差异性和噪 音干扰等挑战。首先，构建了一个链接异质网络来表示不同域中用户的社交结构和 内容之间的复杂关系，然后对内容信息进行主题建模，以过滤掉其中的噪声信息。 然后通过分别捕获网络内和网络间基于朋友和基于主题的用户共现性，将不同网络 的社交结构和内容信息嵌入到共同的兴趣空间中。同时，通过学习基于用户的跨域 转移和基于主题的跨域转移以增强不同网络间的信息交换。最后在真实的社交媒体 数据集和合成数据集上进行了大量的实验来评估本章提出的方法的性能。结果表明, 本章所提方法的性能与假设不同类型的跨域信息相互独立的方法相比性能至少提升 19%。即使由于隐私保护原因导致社交结构数据难以获取的情况下，本章提出的方法 也可以很好地工作。通过充分挖掘不同类型的跨域信息之间的复杂关联，为模型提
63
供互补信息，大大提升了跨域用户身份识别的准确性。
参考文献
[1]	Shu K, Wang S, Tang J, et al. User identity linkage across online social networks: a review[J]. ACM SIGKDD Explorations Newsletter, 2017, 18(2): 5-17.
[2]	Man 工,Shen H, Huang J, et al. Context-adaptive matrix factorization for multi-context recommen-dation[A]. // Proceedings of the 24th ACM International on Conference on Information and Knowledge Management[C]. New York, NY: ACM, 2015: 901-910.
[3]	Yan M, Sang J5 Xu C, et al. Ybutube video promotion by cross-network association: @britney to advertise gangnam style [J]. IEEE Transactions on Multimedia, 2015, 17(8): 1248-1261.
[4]	Yan M, Sang J, Xu C, et al. A unified video recommendation by cross-network user modeling[J]. ACM Trans. Multimedia Comput. Commun. AppL, 2016, 12(4).
[5]	Dong Y Tang J, Wu S, et al. Link prediction and recommendation across heterogeneous social net-works[A]. // 2012 IEEE 12th International conference on data mining[C], Piscataway, NJ: IEEE, 2012: 181-190.
[6]	Zhang J, Kong X, Philip S Y Predicting social links for new users across aligned heterogeneous social networks[A]. // 2013 IEEE 13th International Conference on Data Mining[C]. Piscataway, NJ: IEEE, 2013: 1289-1294.
[7]	Zhang J, Kong X, Yu P S. Transferring heterogeneous links across location-based social networks [A]. // Proceedings of the 7th ACM international conference on Web search and data min-ing[C]. 2014: 303-312.
[8]	Zhang J, Yu P S, Zhou Z H. Meta-path based multi-network collective link prediction[A]. // Proceedings of the 20th ACM SIGKDD international conference on Knowledge discovery and data mining[C]. New York, NY: ACM, 2014: 1286-1295.
[9]	Cao X, YiiY BASS: a bootstrapping approach for aligning heterogenous social networks[A]. //Joint European Conference on Machine Learning and Knowledge Discovery in Databases[C]. Berlin, German: Springer, 2016: 459-475.
[10]	Kong X, Zhang J, Yu P S. Inferring anchor links across multiple heterogeneous social networks [A]. II Proceedings of the 22nd ACM international conference on Information & Knowledge Manage-ment[C]. New York, NY: ACM, 2013: 179-188.
[11]	Liu S, Wang S, Zhu F, et al. Hydra: large-scale social identity linkage via heterogeneous behavior modeling[A]. // Proceedings of the 2014 ACM SIGMOD international conference on Management ofdata[C]. New York, NY: ACM, 2014: 51-62.
[12]	Zhang J, Philip S Y Integrated anchor and social link predictions across social networks]A]. // Twenty-Fourth International Joint Conference on Artificial Intelligence[C]. Memo Park, CA: AAAI Press, 2015.
[13]	Cai H, Zheng V W, Chang K C C. A comprehensive survey of graph embedding: problems, techniques, and applications[1]. IEEE Transactions on Knowledge and Data Engineering, 2018, 30(9): 1616-1637.
[14]	Tang J, Qu M, Mei Q. Pte: predictive text embedding through large-scale heterogeneous text net-works[A]. // Proceedings of the 21th ACM SIGKDD International Conference on Knowledge Dis* coveiy and Data Mining[C]. New York, NY: ACM, 2015: 1165-1174.
64
[15]	Xie M, Yin H, Wang H, et al. Learning graph-based poi embedding for location-based recommenda" tion[A]. // Proceedings of the 25th ACM International on Conference on Information and Knowledge Management[C]. New York, NY: ACM, 2016: 15-24.
[16]	Liu L, Cheung W K, Li X, et al. Aligning Users across Social Networks Using Network Embed-ding[A]. // Proceedings of the Twenty-Fifth International Joint Conference on Artificial Intelli-gence[C]. Menio Park, CA: AAAI Press, 2016: 1774-1780.
[17]	Man T, Shen H, Liu S, et al. Predict Anchor Links across Social Networks via an Embedding Ap-proach[A]. II Proceedings of the Twenty-Fifth International Joint Conference on Artificial Intelli-gence[C]. Menio Park, CA: AAAI Press, 2016: 1823T 829.
[18]	Recht B, Re C? Wright S, et al. Hogwild: a lock-free approach to parallelizing stochastic gradient descent[A]. // Advances in neural information processing systems[C]. Massachusetts, US: MIT press, 2011: 693-701.
[19]	Mikolov T, Sutskever I, Chen K, et al. Distributed representations of words and phrases and their compositionality [A]. // Advances in neural information processing systems[C]. Neural information processing systems foundation, 2013: 3111-3119.
[20]	lang J, Qu M, V^ng M, et aL Line: large-scale infomiation network embeddingfA]. // Proceedings of the 24th international conference on world wide web[C]. 2015: 1067—1077.
[21]	Yan M, Sang J, Mei T, et al. Friend transfer: cold-start friend recommendation with cross-platform transfer learning of social knowledge[A]. //2013 IEEE International Conference on Multimedia and Expo (ICME)[C]. Berlin, German: Springer, 2013: 1-6.
[22]	Yang D, Xiao Y Tong H, et al. Towards topic following in heterogeneous information networks[A]. //2015 IEEE/ACM International Conference on Advances in Social Networks Analysis and Mining (ASONAM)[C]. Piscataway, NJ: IEEE, 2015: 363—366.
[23]	Nie Y Jia Y Li S, et al. Identifying users across social networks based on dynamic core interests [J]. Neurocomputing, 2016,210: 107-115.
[24]	Tan S, Guan Z, Cai D, et al. Mapping users across networks by manifold alignment on hyper-graph[A]. I I Twenty-Eighth AAAI Conference on Artificial InteIligence[C]. Menio Park, CA: AAAI Press, 2014.
[25]	Chen W, Yin H, Wang W, et al. Exploiting spatio-temporal user behaviors for user linkage [A], // Proceedings of the 2017 ACM on Conference on Information and Knowledge Management[C]. New York, NY: ACM, 2017: 517-526.
65
(0)1994-2022 China Academic Journal Electronic Publishing House. All rights reserved, http://www.cnki.net
第四章匿名跨域数据下基于用户兴趣的跨域推荐方法研究
4.1	引言
大多数推荐系统都基于用户的历史行为数据来构建模型，通过识别可能与用户 的兴趣相匹配的特定项目，来帮助用户在巨量的信息面前做出选择臼。然而，当用 户由于技术或隐私原因未注册、未登录或未被跟踪时，这种基于用户的推荐模型通 常是不可用的。因此，近年来，许多研究者开始关注面向匿名用户的推荐系统田里 这些推荐系统不需要详细的用户信息，通常只考虑用户的当前行为。现有的面向匿 名用户的推荐系统主要集中利用匿名用户丰富的会话数据，采用相对简单的方法挖 掘用户的行为习惯。例如，基于项目到项目的相似性电刀，或者利用整个行为序列的 信息（即单域会话）比5,8］。虽然这些方法能够一定程度上解决用户匿名的问题，但它 们通常假设匿名用户与每个项目都有丰富的交互信息，很少关注历史记录缺乏或不 可用的推荐系统。实际上，匿名用户的推荐系统中的稀疏性问题非常常见，因为即 使是非常受欢迎的项目也会与只出现过寥寥数次的项目共存在同一个系统中。因此, 面对稀疏性问题时，这类方法的性能将大打折扣。随着社交媒体服务类型的增加，用 户的跨域行为越来越多。因此，可以从相关的其他域中获得有效信息来补充系统中 缺失的部分阴。例如，用户在电影域观看了电影后或者在音乐域收听了电影主题曲 后，会在购物网站购买电影相关的产品，反之亦然。在这个例子中，不同域的电影和 与其相关的歌曲/产品及时间信息共同构成了跨域会话。因此，如何通过融合多个域 的会话信息来解决稀疏性问题成为亟待解决的问题。
跨域推荐系统［⑼近年来受到了越来越多的研究者的关注，它通过融合不同域的 相关信息来提高推荐的性能。但由于隐私保护和域间差异性，跨域用户的信息和项 目信息几乎不重叠。因此，一些研究在没有用户或项目重叠的情况下，通过使用外 部辅助信息（如DBpedia知识库）来链接多个域［比⑵。但这些方法的性能将很大程 度上取决于辅助信息的质量。此外，一些研究者采用协同过滤方法来处理跨域推荐 任务，旨在通过共享跨域相似的用户行为模式来转移跨域知识［13-15］。但由于会话型 跨域推荐缺乏用户信息，这些方法很难应用到其中。因此，本章旨在通过融合来自 不同域的会话（即，单域/跨域会话）学习跨域的匿名用户兴趣的综合描述，以解决单 域中的稀疏性问题。
67
然而，融合跨域信息是一项具有挑战性的任务，主要原因如下。首先，跨域信息 中有很多噪声。例如，由于一些商品非常热销或是必需品的原因，经常会与其他商 品出现在同一会话中。然而，这些商品之间实际上并没有关联关系。由于这样的噪 声的存在，加重了捕捉项目之间真正关联性的难度。其次，单域会话和跨域会话的 信息之间存在差异性。具体来说，单域会话由单个域向中的项目构成的同构关系组 成的图。而跨域会话包含的都是不同域中不同类型的项目（如电影和歌曲）。这些不 同类型的项目构成的是异质关系。同构关系、异质关系和序列信息都来自不同的特 征空间，彼此难以融合统一。
针对跨域数据匿名化导致跨域信息间关联缺失不足的问题，本章提出了一个基 于跨域异质关系嵌入的跨域推荐方法，通过设计基于双聚类的跨域兴趣嵌入模型 （Cross-domain Interest Embedding Base on Co-clustering, CDIE-C）,在统一的框架中联 合挖掘单域会话和跨域会话中的关联信息，弥补缺失的跨域关联，以学习到匿名跨 域用户兴趣的综合表示。首先，基于双聚类算法挖掘项目的跨域共现关系来提取基 于类别的关联并滤除噪声。其次，通过使用三种不同类型的关系（即，项目-项目上 下文关系、项目-跨域类别上下文关系、跨域类别-项目上下文关系）来捕捉存在于单 域会话中的项目级的序列化信息和存在于跨域会话中的类别级关联信息。然后，通 过将这三种关系融合到一个统一的低维空间中来学习有效的项目表示和用户兴趣表 示。最后，设计了高效的联合训练算法以提升模型性能。
本章的主要贡献概括如下：
•	设计了统一的嵌入框架来联合利用单域会话和跨域会话学习项目和用户兴趣的 跨域综合表示，并通过融合不同领域的互补信息来缓解稀疏性问题。
•	提出了一种新的嵌入模型CDIE-C,将来自不同域的项目级序列化信息和类别 级关联信息联合嵌入到一个统一的低维空间中。此外，该模型通过设计联合训 练算法来实现对模型的高效训练。
•	在三个跨域数据集上分别验证了 CDIE-C的性能。实验结果展示了本章提出的 CDIE-C模型能够获得比现有模型更好的性能，并且能够很好地处理稀疏的项 目信息。
论文的其余部分组织如下。4.2节首先定义了本章涉及到的术语和问题。4.3节详 细介绍了提出方法的技术细节。在4.4节中展示了在三个跨域数据集上的实验结果。 最后，4.5节总结了本章的工作。
68
4.2	问题定义
本节将介绍本章中用到的概念符号和定义的针对匿名用户的跨域推荐问题，本 章主要针对两个域的场景。给出两个域分别为源域S和目标域A =｛^^2,...,^｝ 为跨域匿名用户集合，其中L为跨域匿名用户的总数，这些匿名用户往往与多个域 都进行过交互。尸=｛鹏｝&和尸=｛用｝&分别为S域和f域的项目集合，其中/S 和1t分别为源域S和目标域f的项目总数。库为匿名用户。在域"€ ｛5,0中的行 为序列集合，包含了一系列的会话｛盟｝第1，其中初1为域九e｛s,4中的会话总数, 用=｛唳｝3为其中第冽个会话，专为会话M中的项目总数。
基于以上符号和描述，给出本章的针对匿名用户的跨域推荐问题：给出匿名用 户在所有域中的会话数据Ua,M，设计一个能为每个匿名用户预测在每一个域中未 来行为的跨域推荐模型。
4.3	基于跨域异质关系嵌入的跨域推荐方法
提出的基于跨域异质关系嵌入的跨域推荐方法，通过联合使用单域会话序列和 跨域会话序列的信息来学习项目和用户兴趣的跨域综合表示。框架描述如图4-1所示。 首先，为了建立跨域链接，利用双聚类算法挖掘了跨域会话信息中的跨域相关性，并 过滤掉噪声。然后，为了联合不同域中的碎片化信息来学习到统一的用户兴趣表示, 提出了一个CDIE-C模型，通过联合利用项目-项目关系嵌入模型和项目-跨域类别关 系嵌入模型来一起捕捉项目级序列化信息和类别级跨域关联信息。接下来，介绍了 联合训练算法，能够高效地在统一的低维空间中学习不同域中的项目表示和跨域类 别表示，并进一步得到匿名用户的兴趣表示。最后，基于已学习到的匿名用户兴趣 表示信息，对匿名用户进行跨域推荐。
4.3.1	基于双聚类的跨域兴趣嵌入模型
4.3.1.1	基于双聚类的跨域关联挖掘模型
正如引言中所讨论的，在相似的场景中用户的行为是相对一致的。也就是说，用 户在不同域中会关注语义相似的项目，比如电影和电影主题相关的歌曲。实际上，这 些相似的项目构成了类别级的跨域相关关系。此外，由于跨域信息是有噪声的，利 用这些相关性是一项具有挑战性的任务。本节采用双聚类方法口句通过挖掘不同域的 项目共现性，来探索不同域间的相关性和滤除噪声信息。
69
,跨域行为序歹:V 忖 I 2 3 | 二 憎 5 6 7|
单颦彳亍为序列
S3 □ZZJ
EJ
R-l
源域中的项目
目标域中的项目
跨域类别
源域中第，个项目
目标域中第，个项目
项目对应的跨域类别标签
目标域
1)基于双聚类的跨域关联挖掘模型
4)用户兴趣联合嵌入模型
图4-1	基于跨域异质关系嵌入的跨域推荐方法框架描述
6)跨域推荐算法

首先本节引入一个二部图模型来表示跨域项目之间的共现关系。一个无向 二部图可以用一个三元组G= {S,T,E}来表示，其中S =	和T =
{%的,分别是源域s和目标域f的项目集合，P和r分别为源域s和目标域 t的项目总数。E = SxT为图G的边集合，且表示与。在所有会话中的共 现次数。然后，根据二部图G建立关于跨域项目的邻接矩阵3€%小尸，其中矩阵中 的每个元素8〃.都代表源域s中的项目i和目标域，中的项目j的共现次数。
为了提高计算效率，基于SVD计算邻接矩阵8的规范化矩阵(the normalized matrix)：
Bn = t/EVT =	町 I/?	(4-1)
其中，5和D2为对角矩阵，且5(i,i) = £ Bij, D2(jJ) = £ %。
前2= Ro幽个奇异向量(将奇异值点从小到大进行排骨，从第2个到第/ + 1 的奇异向量组成的对应向量)包含了所需的分割信息。因此可以利用这2个奇异向
70
量形成一个维度为2的矩阵Z：
Z =
D~l/2U
O” 2V
(4-2)
其中，。的列向量分别是2个奇异向量”2,…,々+1，v的列向量分别是2个奇异向量 V2,…#2+1。最后通过利用K-means聚类方法对矩阵Z的行进行聚类，获得最终的跨 域类别集合。。=｛白述2,…q｝。实验中，可以发现一些跨域类别对于捕获跨域相关 性来说是噪声信息。比如，有些项目因为非常流行或属于必需品的原因而频繁出现, 但它们实际上与其他项目没有相关性。由于这些项目的存在，会使一些跨域类别体 积过大。因此，在实验中没有保留全部的跨域类别，通过设置一个相关阈值p,来选 取部分有效的类别｛用。|/(/$ + /) < p,ck e C。｝,其中\ck\为类别ck包含的项目 数量。通过设置合适的阈值p,不仅可以在减少类别数目的情况下提高计算效率，而 且可以过滤其中的噪声，提高模型鲁棒性。
4.3.1.2项目-项目关系嵌入模型
现实生活中，用户在进行网上浏览或购物时，总会产生一系列的由项目组成的 会话序列。这些会话序列与单词序列十分类似“7，国，因此可以借鉴词嵌入模型来学 习项目表示219］。与传统词嵌入模型使用的单域数据不同，本文中面向的是来自不 同域中的大量跨域数据。基于计数聚合在并行计算方面的优势，本文将项目-项目关 系嵌入模型等价变换为以计数聚合计算为主的矩阵分解模型以提升模型的训练效率。
给定一个单域会话序列，首先应用项目嵌入来捕捉序列内项目级的依赖关系。 具体地，基于项目集合方=｛叼｝3,给出会话序列印=｛既｝E1，通过最大化基于 skip-gram的目标函数可以得到如下的公式：
1 K
Litem-S = 7 L E 10gP(Wi+jM)	(4-3)
其中，%代表上下文窗口的大小。显然，目标函数的形式与skip-gram word2vec模型 是一致的。
Levy和Goldberg［2。］证明了带有负采样机制的skip-gram word2vec模型实际上等 价于对一个点相关的互信息(Point-wise Mutual Information, PMI)矩阵进行分解。一 个单词i和它的其他单词上下文j之间的PMI被定义为：
""黑瓷	I
71
其中，#(i) =	#(j) = 以及 O =	Levy 和 Goldberg网进一步
j	i	ij
提出通过对平移正定PMI (ShiftedPositive PMI, SPPMD矩阵进行维数约简(如SVD) 来进行词嵌入：
SPPMI(j,j) =	- log/i,0}	(4-5)
其中，力为控制SPPMI矩阵稀疏度的超参数。由于该模型能够很容易训练计数聚合数 据(如三元组)，所以它比skip-gram word2vec模型更适用于应用到大型 数据集中。因此，在提出的新方法中也将遵循相似的思路。
用XW况必表示会话序列的SPPMI矩阵，其中/为序列中项目的个数，J为项目 上下文的个数。根据上下文窗口大小L将会话分成更短的段。Xf/CX可以通过公式 (4-4)和公式(4-5)进行计算。由于贝叶斯个性化排序(Bayesian Personalized Ranking, BPR)模型DU在会话型推荐任务中的出色表现"7,22],本节也将基于BPR模型构建目 标函数。BPR模型是一种基于成对排序损失的矩阵分解方法，成对排序比较了作为 正例的项目和一个抽样的负例项目的得分。然后，通过构造一个最大后验估计来推 导出项目-项目关系嵌入的目标函数：
L'irem = ^。(叫 >i)
= lnp(>i |6)p(e)
=ln n b(如t)p(e)
(ij㈤ e 组	(4-6)
=£ lno(ilA) +lnp(0)
=£ Inb(得%)-%| 网 F
其中，>i是针对项目”设计的潜在偏好结构。名为训练集。矩阵分解的模型参 数为8 =仍,。)，P e员和Q e况"d代表维度为d的项目和上下文的嵌入向量。 xijk = Xij—xik, Xij = pfqj以及xik = pfqk- p. C P和句G Q代表维度为d的项目i和 上下文j的嵌入向量。b = l/(l+er)为sigmoid函数。4为模型的正则化参数。
最后，定义基于源域s和目标域，的会话序列的SPPMI矩阵为xse%，改尸和 基于公式(4-6)中的目标函数，通过最大化如下目标函数以完成对源域s
72
和目标域/的项目-项目关系嵌入：
L"em = E 1nb（专升）+ E Ino•（纵）—41 网 |2	（4-7）
其中，绥和”为针对源域s和目标域t的训练语料，即为针对e =（尸，尸,e,。） 的正则化参数。
4.3.1.3项目-跨域类别关系嵌入模型
本节首先提出一种新的针对异质关系的嵌入模型，即项目-类别关系嵌入模型。 项目-项目关系嵌入能够基于当前项目来预测一定距离内的周围的项目（即，项目的 上下文）。与该模型思想类似，项目-类别关系嵌入的目的是根据给出的当前项目预 测对应项目的类别标签（即，项目-类别上下文关系）和给出当前项目的对应类别 标签预测周围项目上下文（即，类别-项目上下文关系）。项目-类别上下文关系和类 另八项目上下文关系都描述了类别级的相关性。区别在于前者编码了项目到类别标 签的依赖关系，而后者通过描述当前项目和项目上下文到类别标签的关系来扩展跨 域相关性的影响。该方法是项目-项目关系嵌入的一种扩展，可以应用于异质的情 况。具体地，给出一个项目集合尸=｛卬4=1和由这些项目组成的序列w,以及项 目对应的类别标签集合a =（cy3,其中每个项目可以同时有多个类别标签（即， 凡,=｛或”1，%2-｝）。但在本:中，为了简化模型每个项目只属于一个类别。目标 函蔡旨在看大足如下的公式：
1 I
L&s-S =7 E£iogp（4,4Wi）
f	（4-8）
+西£ E	iogp（%+jc 短）
Ml i,k -tc<j<tc,jjto
其中，ia是针对项目集合厂的类别标签数。目标函数的第1项和第2项分别代表根 据项目-类别上下文关系和类别-项目上下文关系进行的项目-类别关系嵌入。
基于431.1节得到的跨域类别，此处可以对来自不同域的项目-跨域类别进行嵌 入。定义源域s和目标域t的两个项目集合为产=｛犷｝产=｛"｝3以及项目对 应的跨域类别标签为Cs = （%）&和。与单个域中的项目-类别关系嵌 入相比，项目-跨域类别关系展入仅仅扩展了我目的集合。因此，将针对项目和跨域
73
类别的目标函数最大化得到如下公式：
1 Ir
Lco-S ~ E 斤、£iogp（4#M）
rW{sj} ，=1 k	（419）
+ £ 含■£	L	iogp（唯/%.*）
re{s,r} M I i,k -tc<j<tc,JjtQ
其中，r代表不同的域，即目标域s或源域八
由于项目-跨域类别关系嵌入模型是项目-项目关系嵌入模型的扩展，因此项 目-项目关系嵌入模型的等价矩阵分解可以自然地扩展到项目-跨域类别关系嵌入模 型中。因此，定义目标域S和源域「的项目-跨域类别上下文SPPMI矩阵为He灾尸XL、 X e况跨域类别-项目上下文SPPMI矩阵为/ €女〃尸、N G %八尸，其中js/t和 尸〃分别是目标域S和源域r中的项目总数和项目上下文总数，L为两个域共享的跨 域类别总数。X、产、ZS和/中的元素可以通过公式（4-4）和公式（4-5）进行计算。 图4-2展示了两个域的SPPMI矩阵X$〃、F〃和zs〃之间的关系，其中〃为单位矩阵。 最后，通过最大化下列目标函数实现了项目-跨域类别关系的嵌入：
lCo= E E 1nb 瞅）
Ws,伙以修	⑷⑼
+ E E	独网『
一{另7} —）6•
其中，药为针对项目-跨域类别上下文关系用的训练语料，绥为针对跨域类别-项目 关系药的训练语料。6代表了模型的参数（尸,尸,。,0,凡。），Re况和。 分别为跨域类别和跨域类别上下文的嵌入向量。
4.3.1.4用户兴趣联合嵌入模型
项目-项目关系嵌入模型和项目-跨域类别关系嵌入模型都可以推断潜在的项目 表示，基于丰富的项目表示能够生成相应的匿名跨域用户的兴趣表示。不同之处在 于项目-项目关系嵌入模型推断出的项目表示关注单个域中的序列信息，而从项目-跨 域类别关系嵌入模型中推断出的项目表示则专注于对不同域中项目之间基于类别的
74
图4-2 CDIE-C等价于分解由项目和跨域类别组成的扩展矩阵示意图
相关性进行编码。因此，通过联合这些嵌入模型可能共同学习到更综合的表示：
L= £ lnb（《jQ+工加。（学"）
+ 4 E 1nb（%%） + 乙 £ In b优天）
然	多	（4-11）
+ 4 £ 1nb（纵）+ 1 £ Ino■隔） 亿j次）6经	（i,讷C线
一及1网『
其中，集合。表示模型中所有的待学习的参数（尸，尸,。,。,瓦。）。及为模型的正则 化参数。1平衡了来自项目-项目关系嵌入模型和项目-跨域类别关系嵌入模型的贡 献。将乙设置得越小，将会注入更多的项目-项目关系嵌入的正则化信息，反之亦 然。在后续试验中，将根据验证集上的推荐性能来选择这些超参数。
CDIE-C对不同类型关系下的项目和类别的共现性进行编码，因此通过嵌入跨域 异质关系学习的项目表示更加鲁棒。一旦学习到项目的向量表示，就可以通过简单 地对匿名跨域用户的历史交互项目记录中的项目向量求平均值来得到任意匿名跨域 用户的兴趣表示。针对给出的匿名跨域用户a在两个域中的行为序列W5 = ｛脏｝髭1 和仞=｛唳｝区1，可以计算其兴趣表示为：
1 Ks Kr
g = ks + K/Ep；+EpD	（4/2）
八十八i=l f=l
其中，P；和麻分别为项目%和％的嵌入表示。
75
4.3.2模型优化及训练
本节将使用随机梯度下降(Stochastic Gradient Descent, SGD)算法优化公式(4-11) 中的目标函数。传统的针对BPR模型的学习方法郎/?2vsmMl］只为单一类型的关 系进行设计，无法应用到本章基于异质关系的模型中。CDIE-C模型同时包含了项 目-项目上下文关系、项目-跨域类别关系和跨域类别-项目上下文关系。因此，为 了最大化目标函数(4-11),需要将两个域中的异质关系融合到一起。然而，不同 类型关系的权重实际上是无法相互比较的。因此，一个更合理的训练方式是根据 不同类型的关系构造不同的训练集进行不同的采样。具体地，针对项目-项目上下 文关系构造的训练集为见=｛变,零｝、针对项目-跨域类别关系构造的训练集为 为=｛零，然｝和跨域类别-项目上下文关系构造的训练集为见=｛零,终｝。针对不 同的训练集，目标函数(4-11)可以分割成三个不同的子目标函数％,么和区进行训 练，即4=〃;％)+女％^,£2=〃%。+ 〃％。和区=〃萄t)+L(药。。相应地，目 标函数(4-11)的导数可以表示为：
%—eF% /粽,一 e，叫"
(4-13)
苑=4(
3%氏 一屋承办嬴
F 77^词)°
(4-14)
证3 _ 1 / —e一萄% -%%	—e—苟流
鬻-
(4-15)
其中，对于源域抬，为t和融的导数为：
a-能 if6=P* a&jk _	< p?	if e =哈
d0	\-PSif	if 6 =禽
0	else
(4-16)
°jf~°kf	if6=p*
源jk , 	-=< de	p'f	if 6 = o万	(4-17)
-p'f	if 6 = okf
0	else

方一禽	if"十
a歙_	rif	if e = %	(4-18)
~rif	if6 =禽
0	else
其中，代表对应嵌入向量中的第7个嵌入特征。通过将公式（416）-（4-18）中的上标 s与t交换，能够进一步得到目标域，的导数。
目标函数（4-11）可以根据跨域关联数据（项目-跨域类别上下文关系、跨域类 别-项目上下文关系）的利用方式不同，采用不同的优化策略。一种解决方案是同时 利用来自单个域的会话数据（项目-项目上下文关系）和跨域关联数据训练模型，称 为联合训练算法。算法4.1中详细阐述了联合训练的具体过程。
算法41联合训练算法
初始化仇
repeat
从｛再留｝中采样（p;,《碱或出,药㈤；
簪+昌r鬻+24⑹；
从｛的，%｝市采样或（p：,Oj,oQ；
"e+m吕T鬻+烹T鬻+2%⑹；
从｛卷复｝中采样（。,分城）或（。,办或）；
”6+川昌・簪+晟•鬻+2版6）；
until算法收敛或到达最大迭代次数
return Q
4.3.3跨域推荐算法
匿名跨域用户对待推荐项目的感兴趣得分可以用余弦相似度进行度量：
score (a,Wj) — —/ “1 标 :巧”	(4-19)
及£=⑸2 x Je£=iPj%2
逐个输入已经学习得到的匿名跨域用户的兴趣表示，计算得到每一个用户与待 推荐项目的余弦相似度。将每个用户的待推荐项目按得分值从大到小进行排列形成 最终的推荐列表。
4.4实验与分析
本节通过在三个跨域数据集上进行实验通过回答以下三个问题来评估CDIE-C 模型的性能：
问题1：与其他先进的对比方法相比，本章提出的CDIE-C模型性能如何？
问题2:本章提出的CDIE-C模型面对稀疏性问题时表现如何？
问题3: CDIE-C模型在不同的跨域关联阈值下的推荐性能如何？
4.4.1实验环境与设置
(一)数据集选取
为了验证本章所提方法在处理跨域用户匿名情况时的优势，选取了三个跨域用 户在不同域中都有交互数据的跨域数据集，通过隐藏其中的跨域用户的ID信息以综 合评估各个方法的性能。
本节利用公开的Amazon数据集评估各个方法的性能。基于Amazon数据集，构 建了三对不同的跨域数据集进行实验：Movies & TV - CDs & Vinyl (Movie-Music) 数据集、Health & Personal Care -Beauty (Health-Beauty)数据集和 Clothing, Shoes & Jewelry - Sports & Outdoors (Clothing-Sports)» 利用 Ih 为间隔，将用户在不同域中的 历史交互数据划分为会话。然后，隐藏用户-项目交互的用户ID信息。为了更好地验 证各方法的性能，只保留大于等于3的评分值和保留评分总数超过20的项目。除此 之外，还过滤掉了项目数低于2的会话。三个跨域数据集的统计数据如表4-1所示。
实验中采用两种策略来生成训练集、验证集和测试集。
78
表4-1	三个跨域数据集的统计数据表
数据集	Movie-Music		Health-Beauty		Clothing-Sports
域	Movie	Music	Health	Beauty	Clothing	Sports
事件数	626537	200923	165502	101909	173277	186119
项目数	10685	6580	4838	3560	8164	5805
会话数	232727	78700	71063	42803	77510	76419
1）在评估CDIE-C模型的整体性能时，将各个域中最后2个月的会话作为测试集, 剩余的作为训练集。并过滤掉在测试集中出现但没有在训练集中出现的项目和 项目数低于2的会话。另外，将训练集中最后一个月的会话作为验证集。为了 构建跨域会话，针对每对训练集，使用lh的间隔来将相同用户的不同域的会 话链接到一起作为跨域会话。
2）为了验证各个方法在应对单域中数据稀疏性问题时的表现，通过随机地删除原 始训练集不同比例的行为记录来构建不同稀疏度（出 = ［10%,30%,50%］）下的 训练集的变体，以评估不同方法的性能。测试集和验证集与1）中相同，构建跨 域会话的方法也与1）相同。
（二）对比方法选取
为了验证CDIE-C模型的有效性，实验中将其分别与单域和跨域的先进的推荐 方法进行比较：
单域推荐方法
1.	基于流行预测（Popularity Predictor, POP）的方法：一个基于流行度的推荐方法, 它旨在为用户推荐训练集中最流行的项目。
2.	ITEM2VEC^： 一种基于skip-gram word2vec模型的项目嵌入方法。
3.	BPR121］：常用的矩阵分解方法之一。它通过随机梯度下降法优化一个基于成对 排序的目标函数。
4.	GRU4RECP2］： 一种基于RNN的方法。通过引入一个排序损失函数，使其更适 用于会话型推荐任务。
跨域推荐方法
79
1	.基于类别级的潜在因子模型(Cluster-Level based Latent Factor Model, CLFM)["]： 一种基于聚类的协同过滤方法，适用于不同域间没有用户及项目重叠信息的情 况。它可以联合学习跨域共有的评分模式信息和域特定的评分模式信息。
2	. CDIE-C：本章提出的方法。通过联合利用单域会话和跨域会话信息来学习匿名 跨域用户兴趣表示和项目表示。CDIE-C(item)代表只利用项目和它的上下文关 系的版本，即项目-项目上下文关系、项目-跨域类别上下文关系。
单域推荐方法分别训练源域和目标域后再分别进行推荐。跨域推荐方法一起训 练两个域。此外，BPR和CLFM由于是基于用户-项目评分矩阵进行设计的方法，不 能直接应用于会话型推荐中。但可以通过利用来源于两个域的两个项目-项目共现矩 阵替代用户-项目评分矩阵，然后使用会话中出现的项目表示的平均值作为用户兴趣 表示解决以上问题。
所有实验中的维度d设置为100,迭代次数设为20。针对BPR、CLFM和CDIE-C 方法，利用Recall@30在验证集上监控各个方法的收敛性。双聚类的数量L设置为 60o所有的超参数和学习率在验证集上通过网络搜索进行调优。本文将每个实验都 重复5次，并取平均值作为最终结果。
(三)评价指标设置
实验中采用RecaU@30和平均倒数排名(Mean Reciprocal Rank, MRR) @30来度 量方法性能。Recall®30认为结果排序中的前30个候选项目组成的集合中的所有项 目的重要性程度都是相同的，而MRR@30使用在前30个候选项目中出现的第一个 正确结果的排名的倒数来强调排名靠前的项目比排名落后的项目更重要。它将一组 项目序列看作是一组单词序列。
4.4.2实验结果与分析
(-)推荐性能分析
为了证明本章提出的CDIE-C方法的有效性，本节将CDIE-C与先进的单域和跨 域推荐方法进行了比较。实验结果如表4-2、4-3和4-4所示。首先比较了单域推荐的方 法：基于流行度的POP方法、基于项目-项目共现性的BPR方法和基于序列化信息的 ITEM2VEC和GRU4REC方法。从结果中可以看出，BPR的性能不如ITEM2VEC和 GRU4RECo因为BPR只考虑共现关系，而忽略了会话中的项目之间的序列化信息。 利用序列化信息的GRU4REC方法在所有单域推荐方法中表现最好。然而，本章提
80
出的CDIE-C方法的性能明显优于所有单域推荐方法。以Movie-Music数据集为例, 在 Movie 域中 CDIE-C 方法的 Recall@30 的值比 GRU4REC 提升 12.77%；在 Music 域中CDIE-C方法的Recall@30的值比GRU4REC提升10.49%。原因在于CDIE-C 方法可以融合源域和目标域的关联数据，并联合利用三种异质关系（即，项目-项目 上下文、项目-跨域类别上下文和跨域类别-项目上下文关系）来增强跨域信息交换, 而GRU4REC只能利用单域数据和项目-项目的单一关系。
接下来比较了跨域推荐方法的性能，包含了CLFM方法和CDIE-C方法的不同变 体。CDIE-C的性能始终优于CDIE-C（item）,这验证了通过整合跨域类别-项目上下 文关系可以增强跨域间的关联，并提高推荐性能。此外，由于忽略了项目之间的序 列化信息，CLFM的性能劣于CDIE-C的所有变体的性能。
表4-2 Movie-Music数据集中各方法性能对比表
数据集	Movie-Music
域	Movie		Music
指标	Recall@30	MRR@30	Recall@30	MRR@30
POP	0.0426	0.0065	0.0272	0.0051
单域推荐	BPR	0.0664	0.0231	0.079	0.0276
方法	ITEM2VEC	0.0763	0.0336	0.0921	0.0432
GRU4REC	0.1261	0.0642	0.1745	0.0825
CLFM	0.0756	0.0331	0.0874	0.0365
跨域推荐	CDIE-C(item)	0.1353	0.0652	0.1813	0.0841
方法	CDIE-C	0.1422	0.0688	0.1928	0.0882
表4-3 Health-Beauty数据集中各方法性能对比表
数据集	Health-Beauty
域	Health		Music
指标	RecalI@30	MRR@30	Recall@30	MRR@30
POP	0.0598	0.0098	0.0728	0.0129
单域推荐	BPR	0.0778	0.0269	0.0658	0.0245
方法	ITEM2VEC	0.0894	0.0418	0.0867	0.0369
GRU4REC	0.1677	0.0869	0.1609	0.0711
CLFM	0.0845	0.0375	0,0815	0.0352
跨域推荐	CDIE-C(item)	0.1801	0.0893	0.1683	0.0747
方法	CDIE-C	0.1864	0.0924	0.1775	0.0755
（二）稀疏度影响分析
81
表4-4 Clothing-Sports数据集中各方法性能对比表
数据集	Clothing-Sports
域	Clothing		Music
指标	Recall@30	MRR@30	Recall@30	MRR@30
POP	0.0325	0.0045	0.0477	0.0098
单域推荐	BPR	0.0231	0.0084	0.0435	0.0154
方法	ITEM2VEC	0.0344	0.0202	0.0559	0.0287
GRU4REC	0.0964	0.0346	0.1241	0.0505
CLFM	0.0303	0.0198	0.0498	0.0231
跨域推荐	CDIE-C(item)	0.0983	0.0349	0.1316	0.0512
方法	CDIE-C	0.1029	0.0357	0.1373	0.0532
0.00
4 2 0 8 6 4 011 11 11 o cu cuO
S S S 60.Q Q
0E®一 W3X
10
30 稀疏度(%)
50
00°10
876 5 4321 00009。 0.0
8sss QO.SO.
0E©爰工
30
稀疏度(％)
50
(a) Movie	(b) Movie
图4-3 Movie-Music数据集的Movie域中不同稀疏度下的各个方法性能对比图
由于所有的对比方法都基于用户与项目的交互记录进行设计，因此它们都面临 各个域中的数据稀疏性问题的困扰。因此，本节探讨了不同稀疏度下的各个方法性 能。图4-3至图4-8显示的实验结果说明了，CDIE-C方法在处理数据稀疏性问题方面 的有效性。以Movie-Music数据集为例，当稀疏性度为50%时，CDIE-C方法在Movie 域和Music域中的Recall@30值分别为0.1123和0.1262,其相对于GRU4REC方法 分别提升了 13.43%和11.88%。通过仔细观察稀疏训练集可以发现，在Movie域和 Music域分别有63.32%和64.66%的会话只包含一个项目。GRU4REC和CLFM无法 应对这些只包含一个项目的会话，这些短会话会降低这些方法的性能。CDIE-C方法 能够通过将短会话与其他域中的会话进行链接以补充短会话中的缺失信息。CDIE-C 方法由于联合利用了跨域数据，使得训练数据增多。但本文所提方法只需要训练一个 模型就可以对两个域的用户同时进行推荐，而单域推荐方法想要对两个域同时进行
82
08642086-4-2-0?1 2 1111100800 QQO.O.68O.SGSO.
0顿«。。已
- O 987654321 O1 .O99.O.O.O9OOO QO.SSO.O.O.O.O.S
50
50
稀疏度(%)
(a) Music
稀疏度(％)
(b) Music
图
4-4 Movie-Music数据集的Music域中不同稀疏度下的各个方法性能对比图
0864 2 0864 2 2 1* 11 11 J J o o O QO.QO.O.O.QSSO.
02 0.
0 8 6 4 1 o o o
O.Q S 。
10	30	50	' 10	30	50
稀疏度(%)	稀疏度(%)
(a) Health	(b) Health
图4-5 Health-Beauty数据集的Health域中不同稀疏度下的各个方法性能对比图
推荐，却需要针对两个域分别训练两个不同的模型。因此，只训练一个模型的本文所 提方法与需要训练不同模型的单域推荐方法相比，并没有增加额外的训练时间。除 此之外，CDIE-C的性能也优于CDIE-C(item),因为后者无法利用跨域类别-项目上下 文关系。这些关系可以通过跨域类别-项目上下文的关系链接到更多的项目，这对于 扩大类别级的关联信息的影响是非常有效的。CLFM方法的性能依然劣于GRU4REC 方法。这是由于CLFM方法的性能依赖于项目-项目共现信息，而从稀疏数据中无法 学习到有效的跨域类别级的模式信息。
(三)关联阈值影响分析
通过设置合适的阈值p,不仅可以在减少跨域类别数量的情况下提高计算效率, 还可以过滤掉跨域信息中的噪声来提高方法的鲁棒性。在跨域推荐中，找到合适的能
83
。吗。
864208 6 4 2 11 -11 1J u n ns curj cu o.o.o.sso.o.o.o.
0岛君臣
30
稀疏度⑼
鸣。
8 7 654 3 0-1 OOO99.O9.O O.O.SO.SO.SS
OWHS
30
稀疏度(%)
50
(a) Beauty	(b) Beauty
图4-6 Health-Beauty数据集的Beauty域中不同稀疏度下的各个方法性能对比图
10
30
稀疏度(％)
10
30
稀疏度(％)
50
50
(a) Clothing
(b) Clothing
图4-7 Clothing-Sports数据集的Clothing域中不同稀疏度下的各个方法性能对比图
够链接两个不同域的跨域类别，对于有效地融合不同域中的互补信息是至关重要的。 因此，需要通过实验来研究参数p的影响。表4-5展示了，在Movie-Music数据集中 CDIE-C(item)和CDIE-C在不同阈值p下Recall@30和MRR@30的性能。其他数据 集的结果与Movie-Music数据集结果相似。从实验结果中可以观测到各个方法都对p 的变化是敏感的。首先，这两个方法的性能都随着p的增大而提升，直到p = 0.2时 获得最佳性能。原因在于使用较小的阈值可以找到更有效的跨域类别。然后，p值的 继续增大也会导致性能的下降，因为较高的阈值下会进一步地引入噪声信息。为了 获得最佳性能，本实验中设置p = 0.2。
84
0.00
4 2 0 o.lo.lo.ls Q S >
0E® 一
8 6 o O
30 稀疏度(%)
10
00010
6 5 4 3 2 1 .0.00.00 9 QO.SO.O.O.
30 稀疏度(%)
50
(a) Sports	(b) Sports
图4-8 Clothing-Sports数据集的Sports域中不同稀疏度下的各个方法性能对比图
表4-5 Movie-Music数据集中不同关联阈值下的性能统计表
域	指标	方法	关联阈值
0.1	0.15	0.2	0.25
Recall@30	CDIE-C(item)	0.1291	0.1332	0.1353	0.1316
Movie		CDIE-C	0.1361	0.1398	0.1422	0.1387
MRR@30	CDIE-C(item)	0.0512	0.0634	0.0652	0.0628
CDIE-C	0.0456	0.0475	0.0688	0.0637
Recall@30	CDIE-C(item)	0.1736	0.1782	0.1813	0.1761
Music		CDIE-C	0.1943	0.1989	0.1928	0.1876
MRR@30	CDIE-C(item)	0.0792	0.0814	0.0841	0.0796
CDIE-C	0.0824	0.0858	0.0882	0.0847
4.5本章小结
针对跨域数据匿名化导致跨域信息间关联缺失不足的问题，本章联合通过挖掘 匿名跨域用户的单域会话数据和跨域会话数据中的链接关系来增强跨域关联，提出 CDIE-C模型来学习用户兴趣的统一表示。首先使用双聚类方法提取类别级的跨域相 关性，并过滤噪声。然后通过联合捕捉用户行为数据中的项目级的序列信息和类别 级关联信息，将跨域项目和跨域类别统一嵌入到低维空间中。此外，模型联合利用 三种类型的关系(即项目-项目上下文关系、项目-类别上下文关系和类别-项目上下 文关系)增强了跨域的信息交换。其次通过设计有效的联合训练算法来训练本文提 出的模型。最后在三个跨域数据集中进行实验，以评估CDIE-C模型的性能。结果表 明，当数据集的稀疏度高达50%时(即信息缺失50%时)，所提方法CDIE-C的推 荐性能相比于传统的针对匿名用户的单域推荐和跨域推荐方法至少提升11%,证明
85
了通过全面挖掘隐藏的跨域关联，可以很好地弥补缺失的跨域信息以提升推荐性能。
参考文献
[1]	Bobadilla J, Ortega F, Hernando A, et al. Recommender systems survey [J]. Knowledge-based systems, 2013,46： 109-132.
[2]	Barkan O, Koenigstein N. Item2vec: neural item embedding for collaborative filtering[A]. //2016 IEEE 26th International Workshop on Machine Learning for Signal Processing (MLSP)[C]. Piscataway, NJ: EEE, 2016: 1-6.
[3]	Greenstein-Messica A, Rokach L, Friedman M. Session-based recommendations using item embed-ding[A]. // Proceedings of the 22nd International Conference on Intelligent User Interfaces[C]. New York, NY: ACM, 2017: 62^-633.
[4]	Bogina Y Kuflik T. Incorporating dwell time in session-based recommendations with recurrent neural networks[A]. // The ACM Conference on Recommender System[C], New York, NY: ACM, 2017: 57-59.
[5]	Jannach D, Ludewig M. When recurrent neural networks meet the neighborhood for session-based recommendation[A]. II Proceedings of the Eleventh ACM Conference on Recommender Sys-tems[C]. New York, NY: ACM, 2017: 306-310.
[6]	Linden G, Smith B, York J. Amazon.com recommendations: item-to-item collaborative filtering[J]. IEEE Internet computing, 2003, 7(1): 76-80.
[7]	Sarwar B, Kaiypis G, Konstan J, et al. Item-based collaborative filtering recommendation algorithms [A]. // Proceedings of the 10th International Conference on World Wide Web[C]. Berlin, German: Springer, 2001: 285-295.
[8]	Tan Y K, Xu X, Liu Y Improved recurrent neural networks for session-based recomniendations[A]. // Proceedings of the 1st Workshop on Deep Learning for Recommender Systems©. New York, NY: ACM, 2016: 17-22.
[9]	Zhuang F, Zhou Y Zhang F, et at Sequential transfer learning: cross-domain novelty seeking trait mining for recommendation[A]. // Proceedings of the 26th international conference on world wide web companion[C]. Berlin, German: Springer, 2017: 881-882.
[10]	Cantador I, Fernandez-Tobias I, Berkovsky S, et al. Cross-domain recommender systems[J]. Recommender systems handbook, 2015: 919-959.
[11]	Femandez-Tobias I, Cantador I, Kaminskas M, et al. A generic semantic-based framework for crossdomain recommendation[A]. // Proceedings of the 2nd International Workshop on Information Heterogeneity and Fusion in Recommender Systems[C]. New York, NY: ACM, 2011: 25-32.
[12]	Kaminskas M, Femandez-Tobias I, Cantador I, et al. Ontology-based identification of music for places[A]. // Information and Communication Technologies in Tourism 2013[C]. Berlin, German: Springer, 2013: 436-447.
[13]	Gao S, Luo H, Chen D, et al. Cross-domain recommendation via cluster-level latent factor model[A]. // Joint European conference on machine learning and knowledge discovery in databases©. Berlin, German: Springer, 2013: 161-176.
[14]	Iwata T, Koh T. Cross-domain recommendation without shared users or items by sharing latent vector distributions [A]. //Artificial Intelligence and Statistics[C]. Microtome Publishing, 2015: 379-387.
86
[15]	Li B, Yang Q, Xue X. Can movies and books collaborate? cross-domain collaborative filtering for sparsity reduction[A], // International Joint Conference on Artificial IntelligencefC]. San Francisco, CA: Morgan Kaufmann Publishers Inc, 2009.
[16]	Dhillon I S. Co-clustering documents and words using bipartite spectral graph partitioning[A]. U Proceedings of the seventh ACM SIGKDD international conference on Knowledge discovery and data mining[C]. New York, NY: ACM, 2001: 269-274.
[17]	Cao D, Nie L, He X, et al. Embedding factorization models forjointly recommending items and user generated lists[A]. // Proceedings of the 40th International ACM SIGIR Conference on Research and Development in Information Retrieval[CJ. New York, NY: ACM, 2017: 585—594.
[18]	Liang D, Altosaar J, Charlin L. et al. Factorization meets the item embedding: regularizing matrix factorization with item. co-occurrence[A], // Proceedings of the 10th ACM conference on recommender systems[C]. New York, NY: ACM, 2016: 59-66.
[19]	Grbovic M, Radosavljevic Y Djuric N, et at E-commerce in your inbox: product recommendations at scale[A]. // Proceedings of the 21th ACM SIGKDD international conference on knowledge discovery and data mining[C]. New York, NY: ACM, 2015: 1809-1818.
[20]	Levy O, Goldberg Y Neural word embedding as implicit matrix factorizationfA]. // Advances in neural information processing systems[C]. Massachusetts, US: MIT press, 2014: 2177-2185.
[21]	Rendle S, Freudenthaler C, Gantner Z, et al. Bpr: bayesian personalized ranking from implicit feed-back[J]. arXiv preprint arXiv: 1205.2618, 2012.
[22]	Hidasi B, Karatzoglou A, Baltrunas L, et al. Session-based recommendations with recurrent neural networks[J]. arXiv preprint arXiv: 1511.06939,2015.
87
(0)1994-2022 China Academic Journal Electronic Publishing House. All rights reserved, http://www.cnki.net
第五章动态跨域数据下基于用户兴趣的跨域推荐方法研究
5.1引言
在许多推荐系统中，用户的行为记录都是带有时间属性的序列化数据口⑵，并且 用户兴趣也是动态变化的。例如，在音乐网站中用户工作时喜欢收听安静的轻音乐, 而平常时间更喜欢听一些当下的流行歌曲。不同时间段的序列化行为常常被组织成 不同的会话。关注用户兴趣中的动态变化信息能够更好地帮助模型挖掘用户的真实 行为意图9-5]。另外，用户行为具有跨域分布的特点，通过同时与不同域进行交互以 共享各种信息，如购物、音乐、视频和评论等。例如，如图5-1所示，用户在电影域X 中观看某一系列的电影（项目1和项目2）后，往往会在音乐域y收听一些电影相关 主题的歌曲（项目3、项目4和项目5）, 一段时间后可能在电影域x继续观看与项目 1和2主题相似的其他电影（项目6）。从以上例子中可以很容易发现，用户在不同 域中的行为之间存在着复杂的动态相关性。因此，在挖掘用户兴趣动态变化的同时, 需要进一步考虑跨域动态行为特点，才能全面完整地描述用户兴趣的变化。
然而，现有的基于用户动态兴趣的方法大多数关注单域场景，如图5-2所示。它们 将跨域数据分为不同的独立域分别对待，针对不同的域相应地训练不同的模型然后 进行对应的推荐。图5-3为针对实际的跨域数据集和单域数据集的研究。统计豆瓣网 站的Music-Movie跨域数据集中与该网站交互次数少于20次的用户比例为30.35%, 而在Music单域数据集中，由于信息缺失的问题这个比例数升高到54.65%,进一步 加重了数据稀疏性的问题。由此可以得出结论，只用部分的单域动态信息来预测用 户的未来行为是远远不够的，由于忽略了跨域关联，信息不完整甚至是错误的，导 致单域的推荐方法的性能变差。因此，本章旨在通过有效融合用户跨域时序行为来 捕捉用户的跨域动态兴趣，以提高推荐性能。另外，现有的跨域推荐方法大部分忽 略了用户行为中的时间属性信息如响，因此难以将它们直接应用于动态跨域场景中。 尽管一些基于时序信息的跨域方法考虑了不同行为之间的先后顺序关系，但大多数 方法要么使用固定的上下文窗口来简化对于时序信息的处理W[2],要么在没有用户 信息的情况下对时序信息进行动态建模难以全面捕捉到用户的跨域动态变化 规律。
综上所述，挖掘跨域用户的动态信息间的复杂关联，实际上是一项具有挑战性
89
图5-1 用户的跨域序列化行为示意图
音乐域y的模型
_________7
音乐
^=>
图5-2 单域推荐场景示意图
的任务，主要原因有两方面。一方面，用户在不同域中的动态行为不一致，使得跨域 信息的全局动态变化和域内动态变化存在差异性。尽管不同域之间有一些重叠信息, 例如相同的用户或项目信息。然而，由于服务的多样性，即使面对相同的项目，相 同的用户在不同的域中也会产生不同的动作。例如，一个想买电脑的用户在eBay网 站上会浏览不同的电脑信息，而他/她在亚马逊网站上可能会同时浏览电脑和键盘相 关的信息，因为这两者是捆绑促销的。只是简单地将跨域信息进行简单组合可能会 由于引入噪声而使性能下降。另外，在不同域中的行为信息也是时间异步性的。即 使是同一用户的相似行为也常常表现出显著的时间差异性。例如，一个用户在IMDb 网站上对刚刚观看的电影进行了评分，但往往在其他时间才会在豆瓣网站上对同一 部电影进行评分。如果将来自不同域的数据只是按时间顺序简单地划分为片段进行 单独处理，将会丢失跨域相关性。因此，如何在捕捉跨域信息的动态变化规律的同 时保护各个域中信息动态变化的独立性是一个挑战。另一方面，用户跨域切换行为 的存在使得部分单域行为间链接与跨域行为间链接难以共存。当用户只是与同一个 域进行交互时，不同的行为之间由单域行为间的链接关联到一起。当用户从一个域 切换到另一个域时，不同域的行为之间会形成跨域行为间链接，但在实际上捕捉跨 域行为间链接时会造成部分单域行为之间链接的损失。例如，图5-4中由于用户的行 为从电影域的项目2切换到音乐域的项目3,使得电影域的项目2和项目5之间的链 接丢失。如何在捕捉跨域信息的全局动态变化的同时避免单域行为间链接的损失也 是一个亟待解决的挑战。
本章针对跨域数据动态性导致跨域信息间具有复杂动态关联的问题，分别提出
90
gm 不
评分数（条）
©jo.m gksr巨
IW 150 OT ^>0
评分数（条）
（a） Music-Movie跨域数据集	（b） Music域数据集
图5-3 豆瓣上跨域和单域数据集的稀疏性比较。（a）和（b）分别统计的是Music-Movie数据集 和Music数据集中不同数量交互行为的用户的比例。
/电影班额f巨 ―单域行为早三 间箧接° ?
I音乐域y
.里.咏的矍域互为回链接.分 'W->,：*W I
跨域行为间链接
O
跨域行为间锥接
[0\
图5-4	用户的单域行为间链接和跨域行为间链接示意图
急一急.仗-
I O O
了基于多层循环神经网络的跨域推荐方法和基于循环-门控神经网络的跨域推荐方 法来有效融合不同域的动态信息。针对跨域信息的全局动态变化和域内动态变化存 在差异性特点，设计了一个跨域多层循环神经兴趣模型（Cross-DomainHierarchical Recurrent Neural Interest Model, CDHRM）,联合建模用户兴趣的用户级全局动态变 化和在单域中的会话级局部动态变化，以全面捕捉跨域信息间的复杂动态关联。 CDHRM设计了跨域用户级循环神经兴趣模型来建模隐藏在跨域会话间的兴趣动态 演化模式，利用针对不同域设计的域感知会话级循环神经兴趣模型来分别建模隐藏 在不同域会话内的兴趣动态变化模式。同时通过引入融合机制来进一步捕捉不同信 息的跨域差异性。最后联合用户级和会话级兴趣信息来对用户进行个性化推荐。其 次，为了解决CDHRM在捕捉用户级和会话级动态变化时引起部分单域行为间链接 损失的问题，设计了一个跨域循环-门控神经兴趣模型（Cross-DomainRecurrent-Gated Neural Interest Model, CDRGM）,通过建模跨域用户的长期和短期兴趣，能够在捕捉 用户兴趣的用户级演化模式和会话级动态模式的同时，有效重建断开的单域行为间 的链接。CDRGM设计基于循环神经网络的跨域短期兴趣模型来建模会话内的短期 兴趣动态模式，并通过增加一个融合层来有效恢复损失的域内行为间链接。然后利
91
用基于门控神经网络的跨域长期兴趣模型通过自适应地选择短期兴趣中的重要信息 来建模会话间的长期兴趣演化模式，并通过引入跨域兴趣正则化函数进一步恢复损 失的单域行为间链接。最后联合用户的短期兴趣信息和长期兴趣信息完成跨域推荐。
本章共分为4个小节。5.2节首先定义了本章用到的符号和问题，并介绍了相关 知识。5.3提出了基于多层循环神经网络的跨域推荐方法，并验证了所提方法的性能 优势。5.4节设计了基于循环-门控神经网络的跨域推荐方法，并通过实验验证了本方 法的有效性。最后，在5.5节总结了本章的研究内容。
5.2	问题定义及相关知识
5.2.1	问题定义
本文重点研究了由两个域组成的跨域推荐场景，假设给出的两个域为x和y, 。=｛的,以2L-，6｝为跨域用户集合，其中乙为跨域用户的总数。〃 =｛冷当…,%｝ 为域de｛x,y｝中的项目集合，片为域d中项目的总数。假设不同域中的项目集合可 以有交集，即|041工。，为n/"中的重叠项目数。对于每一个用户“在域 d中的序列化行为集合为C“，d,包含了一系列按时间排列的会话｛S；4sy,…, 其中为用户〃在域d中的会话总数，且S窝J ｛41凰2,备及,｝代表了用户« 在域d中的第加个会话。
基于以上符号和描述，本章要解决问题是：给出用户在所有域中的历史序列化 行为数据U“,dC”应 设计一个为用户在每一个域中推荐感兴趣的下一个项目的跨域推 荐模型。
5.2.2	循环神经网络
RNN在捕获序列化数据的动态变化方面表现优异口句。与标准的前馈神经 网络不同，RNN能够利用隐藏状态来表示可变长的动态信息。对于每个会话 Sm = S…,imQ RNN通过以下公式来更新其隐藏状态时,
am,n =
(5-1)
其中，4,0 =。，/为非线性转换函数，如sigmoid函数。%"将输入兀”与已经计算过 的隐藏状态结合到一起。由于在会话型推荐中门控循环单元(Gated Recurrent Unit, GRU)模型的表现优于长短期记忆(Long Short-Term Memory, LSTM)1”】模型,
92
本章使用GRUD6］来替代公式(5-1)中的非线性转换函数「 以克服RNN中的梯度消 失问题。/中的具体参数设置如下：
rn ~。(阴1£〃 + ^ram,n~l )
"=。(吗 4m/ + &〃加霜-1)
&m,n = tanh(%“ +	。))
^m,n ― tanh((l —• z”) 0。巾*—1 + z”。4*,")
其中，er为sigmoid函数，。为hadamard乘积，明,网和W代表权重矩阵，Hr, Hz 和H为循环权重矩阵。在后续章节，函数/表示为GRU(6“,",”一1)。
5.3	基于多层循环神经网络的跨域推荐方法
图5-5展示了基于跨域多层循环神经网络的跨域推荐方法方法的框架图，包含了 由三个RNN组成的多层结构，即一个跨域用户级循环神经兴趣模型和两个域感知会 话级循环神经兴趣模型。跨域用户级循环神经兴趣模型通过捕捉不同域中会话之间 的动态变化来建模用户级的跨域兴趣演化模式，同时为会话级循环神经兴趣模型提 供个性化指导。每个域感知的会话级循环神经兴趣模型建模了每个域中的会话内的 兴趣信息的序列化依赖模式。同时，通过引入一个基于乘积神经网络的融合机制来 进一步捕捉用户在不同域中的行为差异性。最后，基于用户级-会话级动态兴趣的跨 域推荐模型联合利用跨域的用户级信息和会话级信息来为每个域产生个性化推荐。
O 预测层
0	融合机制
力跨域用户争兴趣 表示
4会话级兴趣表示
图5-5 基于多层循环神经网络的跨域推荐方法框架描述
93
5.3.1	跨域多层循环神经兴趣模型
5.3.1.1	跨域用户级循环神经兴趣模型
针对跨域差异性，借鉴乘积神经网络口刀在融合异质特征的优势，本节设计了一 个融合机制综3r来建模用户在不同域中的行为交互，然后设计了一个跨域用户级循 环神经网络（使用GRQ18r进行表示）来追踪用户兴趣的全局动态变化，并同步完成 跨域之间的信息交换。对于每个用户〃的会话{腐"恤=1,…,M"，d,de{x,y}},定义 在域d中的会话级的兴趣表示为{点;"|小=1,…,其中，^^=4九T 为会话级循环神经网络（使用GRU念进行表示）中每个会话舐」的最后一个隐或状 态，并用来更新GR4sr的状态。相似地，对于每个用户〃定义其在两个域x和y中 的用户级的兴趣表示为{%|/ = 1,…% 为GRUg中会话片”结 束时的状态。为了区分用户〃在两个域中相同的会话ID,使用力表示域d当前的 会话机在两个域中的会话集合中的顺序，使用行- 1代表会话m在所有域中的前一 个会话。为了方便起见省略所有符号中用户"的上标。
首先介绍GRUusr中的融合机制。会话级的兴趣表示4和用户级的兴趣表示bmC 可以分别从GRUMs和GRU^中获得。为了探索这两种不同的动态表示的有效结合, 设计了 4种不同的融合公式：
1-基于连接的方式：/sr（碌=
2.基于乘积的方式：加式*_14-1）=燃_1
3-基于连接和乘积的方式1： %r（项1；碌一1。%-1]
4.基于连接和乘积的方式2： %式4-1，配=1） =	一]
其中，H表示向量的连接。基于连接的方式假设会话级的兴趣表示和用户级的 兴趣表示彼此独立，因此将不同层次的信息直接进行连接。而基于乘积的方式假设 信息之间存在紧密的关联，因此通过乘积的方式来进一步捕捉不同层次信息的复杂 交互模式。而基于连接和乘积的方式能够中和以上两种假设，更合理地融合不同的 信息。通过设计两种基于连接和乘积的方式来更合理地整合这两种融合方式。基于 以上融合方式，构建融合层为：
居	1） = ReLU （Wfu Qv&t（c^n_ i,	i）+bfu）	（5-3）
94
其中，使用He”/作为激活函数捕获非线性特征，％和”为稣制的权重和偏 置。	""
最后，基于融合层瑞斯中的先验信息，跨域用户级的兴趣表示匕/可以通过循环 神经网络GR/r进行更新：
bmp =	(碌-1, %。-1), bfijc—i)	(5-4)
其中，瓦=0, JG{x,y}» GRUg通过同步不同域异步信息的传播，能够跟踪所有域 中会话之间动态演化，从而获得跨域用户级的动态兴趣表示。
5.3.1.2域感知会话级循环神经兴趣模型
本节设计了两个不同的会话级循环神经网络GR% 和GR% 来分别捕捉域x和 y的会话内的特定独立的动态变化模式。李生LSTMH8］虽然也是一种建模域感知序 列化模式的有效方案。但由于李生LSTM主要是挖掘不同序列间的相关性，所以很 难用户捕捉序列间的差异性。因此，本节采用了一种更合适的方法，使用两个会话 级循环神经网络GRU&和GRU&来建模不同域的动态规律。为了进一步补充个性 化信息，利用跨域用户级的兴趣表示信息来初始化GRU电和GRUZ的隐藏状态的同 时，还设计了针对会话级的融合机制将个性化信息整合到会话级循环神经网络中。
根据文献［3,19］,使用独热编码对项目ID进行编码的性能优于通过增加嵌入层 进行编码的性能，因此本节使用独热编码进行编码。由于用户级的兴趣表示与项目 的独热编码的维度不同，因此此处使用基于连接的整合方式来结合：
Res(或/，2彼一1)=惮M；仇淤一1］，" = 1,…，泗一 1	(5-5)
其中，裔,“为域d的当前项目ID的独热编码。&es能够将用户信息传递到GRU叁的 输入中。与公式(5-3)相似，GRU鼠(de{x,»)中的融合层构建为：
腰的,"，*-1) =&叫(厩&(心也~)+%	(5-6)
另外，为了进一步增强G&U念中个性化的影响，GRUB中的初始化设置为：
©0 = 31万(附%_1+/)	(5-7)
其中，陶和阳为域d中的初始化权重和偏置。通过初始化设置，用户的先验信息 可以注入到会话级状态中去。然后，在域d中的会话级的兴趣表示可以利用会话级
95
循环神经网络GRU^S进行更新:
4,n = GRUgs(8s 篇 w,%—1)，嫉1)
(5-8)
其中，为用户”在域d中第m个会话的循环隐藏状态。
5.3.2	基于用户级-会话级动态兴趣的跨域推荐模型
虽然用户级循环神经网络GRUusr和会话级循环神经网络GRU&、GRU玄都建模 了用户的序列化行为，但GRUusr主要关注追踪用户级的兴趣在所有域中会话间的演 化规律，而GR/s和GR喝s关注每个域中会话内不同行为之间的局部动态性。因 此，本节将两种互补的循环神经网络结合起来，联合建模用户的跨域序列化行为。另 外，用户级和会话级的兴趣表示信息都将传递到模型最后的预测层中辅助输出。因 此，预测代表域d会话中出现的下一个项目的可能性的模型输出值以,“为：
称“ = f(a3，%)	(5-9)
其中，/(•)为指数线性单元(Exponential Linear Unit, ELU)函数。
由于TOPl-max函数磔】能够解决会话型推荐研究中随着采样数增大而产生梯度 消失的问题，因此本文基于TOPl-max函数来构建目标函数。本章提出的模型也可 以采用其他几个基于最大化排序的损失函数进行训练，比如贝叶斯个性化最大排序 (Bayesian Personalized Ranking-max, BPR-max)f201,但是通过实验发现基于 TOPl-max 函数的性能总是比其他的损失函数的性能更好。TOPl-max的优化准则旨使将真正的 目标地得分高于最相关的负样本得分(负样本中得分最高的值)。然后，通过最小化 以下函数可以得到目标函数：
。=I{maxrsj > rsi}	(5-10)
其中，项目i为目标项目，项目j为从域x和y中随机选择的负样本，力了和为针 对项目i和负样本项目j的推荐得分。并将目标项目的分数与所有领域中最相关的负 样本项目的分数进行比较。由于最大化选择。=/{m弊&/〉&/},是不可微的，因此 通过对每个成对损失函数乘以相应的softmax函数o-(rsJ)作为权重，然后进行求和 以不断地逼近目标。利用sigmoid函数近似/{•}<,最终的目标函数如下：
*
^cross ~	X	— %/) + b(「s,j ))
j=l
(5-11)
96
其中，Oj（Gj）	为经过加权处理的成对损失函数，。仁/）为正则化
项，它的作用是使负采样项目的分数趋近于零。
5.3.3	跨域最小批训练机制
基于文献［3］中提出的用户并行最小批训练机制，本节设计了一个能够满足跨域 场景的有效机制，如图5-6所示，图中以最小批为2举例，斜线填充的框表示域x中 的会话，纯色填充的框表示域y中的会话。首先，针对每个域按用户对会话进行分 组，然后根据会话的时间戳对每个用户所有域内的会话进行排序。接下来，按照时 间戳对每个会话中的项目进行排序。在训练过程中，用户对的第一个会话中的第一 个项目邛」和用户”2的第一个会话中的第一个项目£1组成了模型输入的第一个最 小批。同时，会话中的第二个项目或2和总2组成了对应输出的第一个最小批。然后 将输出用作下一个输入的最小批，以此类推。从图5-4中可以看出，每个最小批中可 能包含了来自两个域的项目，这与只包含同一个域的单域最小批机制不同。在跨域 最小批训练机制中，只有在最小批中出现对应的域d的项目时，才会更新最小批中 相应位置的GRUf的状态。而且，用户的每次点击动作实际上都是用户针对所有域 中的项目做出的选择。因此，该机制从所有域的项目统一选择负样本的方式，保证 了不同域中项目作为候选集的公平性。

5.3.4	实验与分析
本节通过在三个跨域数据集上进行实验通过回答以下4个问题来评估CDHRM 方法的性能：
97
问题1：不同的融合策略对CDHRM方法的影响如何？
问题2:本章提出的CDHRM方法与其他先进的对比方法相比的性能如何，在有项目 重叠的跨域数据集和无项目重叠的跨域数据集上各自的表现如何？
问题3: CDHRM方法面对数据稀疏性问题时表现如何？
问题4: CDHRM方法能否满足在线推荐的要求？
5.3.4.1实验环境与设置
(一)数据集选取
为了验证本节所提方法在处理动态跨域数据情况下的优势，构造了三个包含 用户行为时间信息的跨域数据集来评估模型的性能。三个跨域数据集分别为基于 Movielens-20M数据集构建的Comedy-Romance数据集、Thriller-Action数据集和基 于 DoubanEvent 构建的 Movie-Music 数据集。
Movielens-20M①由Grouplens组织进行收集。包含了用户在MovieLens网站上 对于不同种类电影的点评序列。包含了用户ID、项目ID、时间戳和评分。数据集中 提供了电影的类别，常被用来构建不同的跨域数据集［21-23］。本实验选择了有相似主 题且评论信息较多的两对类别作为两个跨域数据集，即Comedy-Romance (CR)数 据集和Thriller-Action (TA)数据集。由于每个电影都有多个标签，因此CR数据集 和TA数据集都包含跨域重叠项目。
DoubanEvent124］包含了用户在Douban网站上对于电影、音乐和书籍域的评分 行为序列。包含了用户ID、项目ID、时间戳和评分。本实验提取了电影和音乐相关 的评论信息，构建了 Movie-Music(MM)跨域数据集。由于DoubanEvent中的每个项 目都只属于一个域，因此MM数据集中没有跨域重叠项目。
使用带有跨域重叠项目和没有跨域重叠项目的数据集的实验可以有效验证 CDHRM方法对于各种跨域场景的通用性，例如具有相似功能的跨域场景(如 Youtube和Netflix都是电影类的域)，具有不同功能的跨域场景(例如Pandora和 Youtube分别是音乐域和电影域)。
图5-7展示了实验部分的具体步骤。对于每一对跨域数据集，将两个不同域的序 列化数据输入，并按步骤1进行预处理。具体地，我们首先利用为间隔，将每个序
① https://grouplens.org/datasets/movielens/20m/.
98
列都划分为不同的会话。为了更好地验证各方法的性能，只保留域中评分总数超过 10的项目。除此之外，还过滤掉包含项目数低于3的会话和包含会话数低于5的用 户。接下来，将两个处理过的序列合并成跨域序列。三个跨域数据集的统计数据如 表5-1所示。然后，步骤2使用两种不同的策略来生成训练集、验证集和测试集。通 过迭代测试用户、会话和其中的项目进行评估。该模型为测试会话预测其中每个项 目的下一个可能的项目。
表5-1	三个跨域数据集的统计数据表
数据集	Comedy-Romance (CR)		Thriller-Action (TA)		Movie-Music (MM)
域	Comedy	Romance	Thriller	Action	Movie	Music
事件数	2726412	1052982	1675208	1756233	2610110	1031952
用户数	15196	10422	12985	12804	8371	4866
项目数	5220	2522	2714	2281	32320	37116
会话数	167110	93289	127149	124432	265607	127328
重叠项目数		1230	789		0
重叠用户数		10176	11329		3958
步爨2：构建实验数据集
步骤3：实验
步骤1
预处理
策略1
针对问题1、问题2 ,和问题4的训练一
输入
策略2
训练集
测试集
验证集
什对问题1、问题2、问跑3— 和问题4的测试
■针对问题3的训练■
针对问题1、问题2、 问题3和问题4的 参数谖优
跨域推荐	)
图5・7	实验流程图
构造训练集、验证集和测试集的两种策略如下：
1	.针对融合性能、整体性能和时间性能分析，目标是为每个用户预测在每个域中 的下一个顺序行为。针对CR数据集和TA数据集，将各个域中最后6个月的 会话作为测试集，针对MM数据集，各个域中最后3个月的会话作为测试集。 剩余的会话数作为各个数据集的训练集，并过滤掉在测试集中出现但没有在训 练集中出现的项目和项目数低于3的会话。另外，将CR数据集和TA数据集 的训练集中最后6个月的会话作为验证集，将MM数据集的训练集中最后3个 月的会话作为验证集。
99
2	.为了验证各个方法在应对单域中数据稀疏性问题时的表现，通过随机地删除原 始训练集不同比例的行为记录来构建不同稀疏度(& = ［10%,30%,50%,70%］) 下的训练集的变体。测试集和验证集与1)中相同。
最后，步骤3利用策略1产生用于问题1、2和4的实验集，使用策略2产生用 于评估问题3的实验集。
(二)对比方法选取
为了证明本节提出的CDHRM的有效性，将其与先进的单域推荐方法和跨域推 荐方法进行比较：
单域推荐方法
1.	BPRP5］： 一种未考虑时间信息的矩阵分解方法。该方法通过随机梯度下降法优 化一个成对排序的目标函数。
2.	Item2vec［26］： 一种基于word2vec模型的项目嵌入方法。将项目序列看作是单 词序列。
3.	序列化过滤的基于会话的最近邻(Sequential Filter Session-based KNN, SF-SKNN)W：基于会话的最近邻方法。它设计了一个评分函数，在计算相似度时 考虑会话中项目的顺序。
4.	GRU4RECU9］： 一个基于RNN的方法，通过引入基于排序的损失函数使其更适 用于会话型推荐任务。
5.	分层循环神经网络(Hierarchical Recurrent Neural Networks, HRNN)［3］：一种个 性化的基于多层RNN的方法，分别建模了单域中的会话间和会话内的兴趣演 化模式。
6.	GRU4REC+。。］： GRU4REC的扩展版本。通过引入新的排序损失函数以克服梯 度随样本数量增加而消失的问题。
跨域推荐方法
1.	基于典型相关分析的跨域推荐(Cross Domain Recommendation using Canonical Correlation Analysis,CCA-CDR)tnl ： 一种基于典型相关分析(Canonical Correlation Analysis, CCA)的跨域推荐方法。该方法分别独立学习每个域中的用户和项目
100
的向量化表示，然后将每个域的向量空间投影到基于跨域重叠用户对的公共向 量空间中。
2.	CDIE-C：第4章提出的基于双聚类的跨域稀疏兴趣嵌入模型的跨域推荐方法。 通过使用双聚类来提取跨域的基于类别的关联，然后联合利用单域会话和跨域 会话来学习项目的跨域综合表示。由于它适用于匿名环境，为了更公平地进行 比较，通过引入用户信息来扩展CDIE-C,使用用户交互过的项目的表示的平 均值作为用户的表示。
3.	CDHRM：本节提出的方法。通过联合利用用户的跨域序列化行为来学习到用 户的跨域动态兴趣表示，以提升推荐的性能。此外，基于用户级RNN的不同融 合方案设置了 CDHRM方法的不同变体。CDHRM-n为不使用融合机制的版本; CDHRM-c使用基于连接的融合方式来描述用户行为；CDHRM-p采用了基于 乘积的方式捕捉交互模式；CDHRM-cpl和CDHRM-cp2为分别使用基于连接 和基于乘积的方式1和方式2来探索基于连接和基于产品的融合性能。此文中, 将 CDHRM-cp2 也称为 CDHRM□
针对单域推荐方案，根据每个域单独训练模型并分别为每个域推荐相应的项目-针对跨域推荐方案，联合训练两个域的数据，然后基于互补的信息联合为两个域来 推荐相应的预测项目。SF-SKNN方法中的邻居会话数在三个跨域数据集中都设置 为100。对比方法中的嵌入维度设置为100。实验中每一层RNN的隐藏单元数设置 为100。使用具有动量的AdaGrad^］来优化基于rnn的对比方法，迭代次数设为 10o由于使用多层RNN并没有显著提高模型的性能网，因此本文提出的方法使用单 层RNN。本文利用MRR在验证集上来监控CDHRM方法的收敛性。上述方法的所 有超参数和学习率都是基于网格搜索在验证集上进行调优的。为了保证实验的可重 建性，基于CR和TA数据集上实验的超参数如表5-2所示。由于CR和TA数据集的 性质相似，两个数据集使用相同的超参数。根据用户级GRU、会话级GRU和初始化 的顺序选择HRNN方法中的Dropout概率。根据跨域6应九八域感知的6位/念、跨 域GRU四和域感知的GRU腹中的融合层以及GR% 的初始化的顺序选择，分层次 地选择CDHRM的Dropout概率。为了平衡训练时间和实验性能皿】，选择128个负 样本。此外，由于增加少量负样本后，GRU4REC和HRNN方法的性能也会略有提 高（这与文献［2。］的结果一致），所以在对比实验中也为这两种方法增加了采样部分。
（三）评价指标设置
101
表5-2 CR和TA数据集中的超参数设置表
方法	CR and TA datasets
最小批	Dropout 值	学习率/ Momentum 值	额外采样数
GRU4REC	100	0.2	0.1/0.5	128
GRU4REC+	100	0.2	0.2/0.1	128
HRNN	100	0.1/0.2/0.2	0.1/0.1	128
CDHRM-n	100	0.1/0.2/0.0/0.1/0.2	(M/0.0	128
CDHRM-c	100	0.0/0.2/0.1/0.1/0.1	0.1/0A	128
CDHRM-p	100	0.0/0.2/0.1/0.1/0.2	0.1/0.0	128
CDHRM-cpl	100	0.1/0.1/0.0/0.1/0,2	0.1/02	128
CDHRM	100	0.0/0.1/0.0/0.1/0J	0.1/0.2	128
许多在推荐任务中使用的指标（如召回率、精确度、F1和MRR）［3J9,20,28］也可 以用在会话型推荐任务中。在某些实际的应用场景中，不强调推荐项目的顺序区别。 因此首先采用了一种广泛使用的度量指标Recall@K。Recall@K认为只要正确结果 在前K个候选结果中即可，不强调正确结果的排名。同时，也有一些推荐场景中更 强调排名靠前的结果的重要性（例如，排名较低的结果只有在滚动之后才能看到）。 因此，本实验才用的第二个指标为MRR,它认为正确结果在候选列表中的不同顺序 代表了不同的重要性。具体来说：
•	RecaIl@K度量候选列表中正确结果位于前K个结果中的比例,Ke {10,30,50}。
•	MRR中使用正确结果的倒数排名来强调在所有结果中排名较高的结果比排名 较低的结果更重要。
5.3.4.2实验结果与分析
（-）融合机制影响分析
本节将探讨不同融合策略对CDHRM方法的影响，如表5-3所示。通过数据可以 看出，CDHRM-c的性能在CR和TA数据集中略好于CDHRM-n,在MM数据集的 Movie域中则不如CDHRM-no这说明了基于连接的融合方式能够捕捉部分跨域行为 模式，但性能不稳定。另外,CDHRM-p的性能比CDHRM-c的要差，说明基于连接的 融合方式比基于乘积的融合方式更能有效地建模不同级的用户兴趣的交互模式。同 时，CDHRM-cpl和CDHRM-cp2的性能都一致的优于CDHRM-p和CDHRM-co这 说明了基于乘积的方式和基于连接的方式实际捕捉地是用户兴趣不同的交互特征,
102
因此两者的结合可以进一步提高方法的性能。值得注意的是CDHRM-cp2在CR和 TA数据集上的表现优于CDHRM-cpU证明了引入更多域感知的会话级信息和跨域 用户级信息能够通过捕捉跨域行为差异和相关知识来更有效地捕获不同层次用户兴 趣的交互模式。因此，为了获得更好的性能，我们在本文的其余部分采用CDHRM (CDHRM-cp2)o
表5-3 三个跨域数据集中针对不同融合机制的Recall@30性能统计表
数据集	域	CDHRM-p	CDHRM-n	CDHRM-c	CDHRM-cpl	CDHRM
CR	Comedy	0.1803	0.1824	0.1846	0.1857	0.1898
Romance	0.1592	0.1648	0.1668	0.1679	0.1685
ta	Thriller	0.1946	0.2035	0.2039	0.2043	0.2047
Action	0.2568	0.2575	0.2587	0.2594	0.2642
MM	Movie	0.1887	0.1931	0.1925	0.1942	0.1935
Music	0.2352	0.2369	0.2371	0.2388	0.2407
(二)推荐性能分析
表5-4、5-11和5-6总结了各个方法在基于Movielens-20M构建的CR和1A跨域 数据集和基于DoubanEvent构建的MM跨域数据集中的实验结果。CR和TA数据集 有跨域重叠项目，而数据集没有跨域重叠项目。因此，针对这两种情况分为两 部分进行讨论。
表5-4 CR数据集中各个方法的整体性能统计表
数据集	Comedy-Romance (CR)
域	Comedy				Romance
指标	Recall@10	Recall@30	RecaIl@50	MRR	Recall@10	Recall@30	Recall@50	MRR
BPR	0.0118	0.0337	0.0494	0.0063	0.0091	0.0229	0.0356	0.0056
单域 推荐 方法	item2vec	0.0376	0.0911	0.1369	0.0175	0.0285	0.0842	0.1194	0.0168
SF-SKNN	0.0405	0.1039	0.1519	0.0193	0.0317	0.0851	0.1283	0.0176
GRU4REC	0.0534	0.1267	0.1728	0.0273	0.0398	0.0971	0.1431	0.0258
HRNN	0.0671	0.1416	0.1964	0.0322	0.0529	0.1141	0.1797	0.0281
GRU4REC+	0.0895	0.1786	0.2352	0.0515	0.0708	0.1578	0.2101	0.0438
跨域	CCA-CDR	0.0559	0.1312	0.1839	0.0277	0.0427	0.1045	0.1482	0.0262
推荐	CDIE-C	0.0583	0.1345	0.1871	0.0281	0.0449	0.1077	0.1535	0.0268
方法	CDHRM	0.0997	0.1898	0.2434	0.0548	0.0813	0.1685	0.2194	0.0471
CR和TA跨域数据集中的性能分析。首先比较了在单域场景中各个方法的性 能，包含基于用户评分模式的BPR方法、基于上下文的顺序信息的item2vec方法、 基于会话的最近邻关系的SF-SKNN方法、基于会话的序列化模式的GRU4REC和 GRU4REC+方法和基于个性化的序列化模式的HRNN方法。BPR的方法明显不如其
103
表5-5	TA.数据集中各个方法的整体性能统计表
数据集	Thriller-Action (TA)
域	Thriller				Action
指标	Recall@10	Recall @30	Recall@50	MRR	Recall@10	Recall@30	Recall@50	MRR
BPR	0.0094	0.0323	0.0453	0.0061	0.0104	0.0431	0.0675	0.0076
单域 推荐 方法	item2vec	0.0385	0.1125	0.1795	0.0209	0.0703	0.1641	0.2298	0.0403
SF-SKNN	0.0419	0.1302	0.1822	0.0214	0.0737	0.1862	0.2319	0.0415
GRU4REC	0.0584	0.1489	0.1932	0.0297	0.0915	0.2015	0.2475	0.0508
HRNN	0.0727	0.1629	0.2156	0.0353	0.1189	0.2184	0.2636	0.0585
GRU4REC+	0.0946	0.1911	0.2545	0.0546	0.1285	0.2486	0.3053	0.0713
跨域	CCA-CDR	0.0613	0.1502	0.1965	0.0303	0.0941	0.2034	0.2508	0.0524
推荐	CDIE-C	0.0643	0.1537	0.2021	0.0314	0.0975	07068	0.2574	0.0539
方法	CDHRM	0.1081	0.2047	0J708	0.0573	0.1416	0.2642	03217	0.0767
表5-6	MM数据集中各个方法的整体性能统计表
数据集	Movie-Music (MM)
域	Movie				Music
指标	Recall@10	Recall@30	Recall@50	MRR	Recall@10	Recall@30	Recall@50	MRR
BPR	0.0323	0.0701	0.0949	0.0134	0.0392	0.0833	0.1091	0.0142
单域 推荐 方法	item2vec	0.0719	0.1174	0.1446	0.0397	0.1407	0.1712	0.1793	0.0544
SF-SKNN	0.0774	0.1417	0.1757	0.0484	0.1549	0.1908	0.1981	0.0687
GRU4REC	0.0814	0.1484	0.1873	0.0492	0.1088	0.1734	0.2216	0.0538
HRNN	0.1073	0.1681	0.2042	0.0541	0.1342	0.2053	0.2329	0.0587
GRU4REC+	0.1225	0.1886	0.2243	0.0779	0.1546	0.2289	0.2592	0.0807
跨域	CCA-CDR	0.0811	0.1481	0.1881	0.0488	0.1082	0.1733	0.2226	0.0534
推荐	CDIE-C	0.0821	0.1492	0.1882	0.0496	0.1101	0.1752	0.2242	0.0545
方法	CDHRM	0.1271	0.1935	0.2291	0.0799	0.1639	0.2407	0.2669	0.0837
他基于序列化信息的方法(item2vec, SF-SKNN, GRU4REC, GRU4REC+,和 HRNN), 说明了充分理解序列化信息对于会话型推荐是非常重要的。SF-SKNN优于item2vec, 这与文献口］中的结果一致。原因在于SF-SKNN考虑了会话中项目不同的顺序对 于模型的影响，而item2vec只是将项目作为没有区分性的上下文进行处理。此外, HRNN的性能优于GRU4REC,证明了引入用户信息的有效性。由于GRU4REC+克 服了随着样本增加产生的梯度消失的问题，使得其性能优于GRU4REC和HRNN。值 得注意的是本文提出的CDHRM方法的性能在两个数据集上优于所有单域对比方法。 以CR数据集为例，在Comedy域中CDHRM方法的Recall@30的值比GRU4REC+ 的高6.27%, MRR的值比GRU4REC+的高6.41%；在Romance域中CDHRM方法的 Recall@30 的值比 GRU4REC 的高 6.78%, MRR@30 的值比 GRU4REC 的高 7.53%。 这是因为通过引入其他相关域的互补信息，CDHRM可以更全面地理解用户的序列
104
化行为。具体地，CR和TA数据集中各有18.89%和18.76%的重叠率②。这些跨 域重叠项目在不同域之间会形成许多相似或相关的序列。例如，在CR数据集的 Comedy域和Romance域同时出现的相似序列（例如，“真爱至上”和“诺丁山”）。 然而，GRU4REC+只能通过单域数据获得部分观测。由于忽略了用户行为存在跨域 相关性这一事实，GRU4REC+存在数据稀疏的问题。与此相反，CDHRM则可以通 过联合利用跨域数据来补充缺失的信息。同时，通过增加融合机制进一步有效建模 不同的跨域行为交互模式来捕捉行为的差异性。
在跨域场景中，CDIE-C和CCA-CDR都使用基于嵌入的方法通过固定的上下 文窗口捕获序列化信息。但因为CCA-CDR只考虑了跨域的用户级相关性，而忽 略了会话级相关性，因此CCA-CDR的性能比CDIE-C的差。CDHRM的性能明显 优于CDIE-C,例如，CDHRM的Recall@30的值在Comedy域和Romance域分别比 CDIE-C提升了 41.12%和56.45%o原因为基于RNN的方法具有非线性建模的能力, 因此在捕捉用户连续行为中复杂的动态特征方面比基于嵌入的方法更有效。在验 证了 CDHRM在具有跨域重叠项目的数据集上的优势之后，接下来将进一步评估 CDHRM在没有跨域重叠项目的MM数据集中的性能。
MM跨域数据集中的性能分析。针对单域场景，表5-6中的结果与表5-4、5-11的 结果有很多相似之处。基于RNN的方法都优于其他方法。GRU4REC+仍然是单域 方法中表现最好的。但CR和TA数据集域MM数据集的实验结果仍然存在一些差 异。CDIE-C在CR和TA数据集的性能要优于在MM数据集上的性能。例如，针对 CR数据集中的两个域，CDIE-C的Recall@30值比GRU4REC的分别提升了 6.16% 和10.92%,而在MM数据集的两个域中分别提升了 0.54%和1.10%。此外，在 数据集上，除了在Movie域中CCA-CDR的Recall@50值比GRU4REC有略微的提 升（0.43%）,其他情况下CCA-CDR的性能都比GRU4REC要差。与有跨域重叠项 目的CR数据集和TA数据集相比，无跨域重叠项目的MM数据集的域间相关性变得 更弱、更复杂。具体来说，关联信息隐藏在不同域的不同序列之间（例如，在Movie 域中观看电影《泰坦尼克号》的用户会在Music域中收听音乐《我心永恒》兀 由 于CCA-CDR和CDIE-C难以利用线性建模的能力获取其中的关联信息、W，12],因此 这两种方法的性能都有所下降。然而，CDHRM能够克服以上的这些局限性，因此 在Recall和MRR方面都取得了优异的性能。具体来说，在Movie域中CDHRM的 ② 本文中重叠率定义为黑喏磊 . 其中和items，分别为域x和域y的项目集合，且0 W霁;:糕当＜ I。
当两个域的项目完全重叠（或无重叠）时，重叠率等于1 （或0）。
105
(a) Comedy 域
(b) Comedy 域
图5-8 CR数据集的Comedy域中不同稀疏度下的各个方法性能对比图
* CDIE-C CCA-CDR
（a） Romance 域	（b） Romance 域
图5-9 CR数据集的Romance域中不同稀疏度下的各个方法性能对比图
Recall@30 和 MRR 的值分别比 GRU4REC+ 提升了 2.60% 和 2.50%,在 Music 域中 分别提升了 5.16%和3.72%o主要得益于CDHRM能够通过跨域共享的用户级RNN 建模会话之间隐藏的全局用户兴趣的动态变化。因此，即使没有重叠的项目的情况 下，CDHRM也可以有效地捕捉不同域的会话间兴趣的演化。
（三）稀疏度影响分析
本节主要探索通过利用跨域用户行为能否解决单域中的数据稀疏性问题。因此 实验中分析了不同稀疏度下的各个方法的性能。图5-8-图5-13展示了当稀疏度随着缺 失信息的增多而升高时，所有方法的性能都会随着下降变差。此外，即使在稀疏度较 高的情况下，CDHRM的表现也优于其他所有的对比方法。例如，图5-8和图5-9显示, 当稀疏度高达70%时CDHRM的Recall@30值在Comedy域和Romance域中分别达 到了 0.1392和0.1116,相对于GRU4REC+的性能分别提升了 24.73%和24.97%。换
106
...................-o 64 2 0864 2 086-4-20-1 .2.22 2 1 1 1 1 1 o O。o o so.sssssoo.sssso.
0 ⑥rtJOM
.......................................................................................................10 8 7 6 5 4 3 7-1 0 .O.O.O9.O.OOOO 6 s 0SSO.SSS
30
50
70
30
50
(a) Thriller 域	(b) Thriller 域
图5-10 TA数据集的Thriller域中不同稀疏度下的各个方法性能对比图
稀疏度出
30
稀疏度(%)
(a) Action 域	(b) Action 域
图5-11 TA数据集的Action域中不同稀疏度下的各个方法性能对比图
句话说，CDHRM可以在只有较少的行为信息情况下仍然获得良好的性能。这部分性 能的提升主要来自于来自其他相关领域的信息的补充，以及有效捕捉跨领域用户行 为的复杂动态性的能力。从图5-8-图5-13中可以看出，CDHRM在CR和TA数据集 中的性能比在MM数据集中的性能更好。通过仔细观察数据集可以发现，在CR和 TA数据集中分别有16.39%和15.72%重叠率。因为这些重叠的信息可以有效地增强 两个域之间的信息交换，因此能够极大地提升CDHRM的性能。另外，虽然MM数 据集中没有重叠项目，但CDHRM通过跨域共享的用户级RNN和融合层可以有效捕 捉跨域会话的隐式关联。而GRU4REC+由于只能利用单域信息，因此无法从两个域 之间的重叠信息中获得性能的提升。
(四)运行时间性能分析
本节通过对TA数据集中各个方法的运行时间进行评估来探讨CDHRM能否满
107
00010
30	50
稀疏度(%)
70
00°10
08
SO.SO.
30	50
稀疏度(％)
6 4 2 o o o
70
(a) Movie 域	(b) Movie 域
图5-12 MM数据集的Movie域中不同稀疏度下的各个方法性能对比图
°吗。
0.20
05 在
5 O 。O.
30	50
稀疏度(%)
70
。吗。
8 6 4 2 o o o O SO.O.O.
30	50	70
稀疏度(%)
(a) Music 域	(b) Music 域
图5-13	MM数据集的Music域中不同稀疏度下的各个方法性能对比图
足在线推荐的要求，结果如表5-7所示。其它数据集中的实验结果与MM数据集中 的结果类似。针对单域推荐方法，模型的运行时间为不同域中对应独立模型的运 行时间之和。实验中的时间性能包含了训练时间性能和测试时间性能。基于RNN 的方法是在python的Theano框架⑻ 下实现的。在配备24GB图形处理器(Graphics Processing Unit, GPU)内存的Nvidia M40 GPU下对训练和测试时间进行测量。与跨 域方法(CCA-CDR和CDIE-C)相比，CDHRM的训练和测试时间更短。在实际应 用中，大多数方法都是进行离线训练的128〕。因此，测试时间决定了一个方法是否可 以适应于实际的应用环境中。Item2vec和SF-SKNN的训练时间虽然是所有方法中最 短的，但测试时间过长。所以难以将Item2vec和SF-SKNN应用于在线推荐。此外, 基于RNN的单域方法(GRU4REC, HRNN和GRU4REC+)的训练时间都在8min至 12min之间，并且它们的测试时间都相同。想强调的是，尽管CDHRM的网络结构更
108
复杂（如图5.5）,但是基于RNN单域方法和CDHRM方法的训练和测试时间之间并 没有显著差异。说明了 CDHRM能够应用于在线推荐的场景中。
表5-7 TA数据集中各个方法的时间性能统计表
单域推荐方法
跨域推荐方法
BPR item2vec SF-SKNN GRU4REC HRNN GRU4REC+ CCA-CDR CDIE-C CDHRM
训练时间
测试时间
24min32s 23s	10s	8minI9s	llmin6s	8min57s
17min56s	16min42s	21min54s 13s	13s	13s
27min24s	31min3s	llmin47s
18min42s	19min31s 13s
5.4基于循环-门控神经网络的跨域推荐方法
本节针对现有的跨域推荐方法在联合利用动态跨域数据时忽略了部分单域行 为间链接的损失问题，提出一个基于循环-门控神经网络的跨域推荐方法，通过设 计CDRGM模型，联合建模跨域用户的长期和短期兴趣，并有效重建断开的单域行为 间的链接。图5-14描述了所提方法的框架，主要包含了三个模块：基于循环神经网络
的跨域短期兴趣模型(cross-domain short-term interest model based on recurrent neural networks, CRN)、基于门控神经网络的跨域长期兴趣模型(cross-domain long-term interest model based on gated neural networks, CGN)和基于长短期兴趣的跨域推荐模
型。具体来说，CRN通过设计融合层来引入损失的短期兴趣信息以恢复会话间丢失 的链接，通过循环层捕获跨域的短期动态特征。CGN利用门控结构和聚合层来自适 应地捕捉显著的长期动态特征，并设计了一个跨域兴趣正则化函数以进一步引入丢 失的长期兴趣信息。最后，基于长短期兴趣的跨域推荐模型通过整合跨域的短期兴 趣和长期兴趣信息，以完成对不同域的推荐任务。

X菠中的会话RNN单元
〈口 窟
短期兴趣及示
项目表示
口基于循环神经网络的 跨域短期兴趣模型

会话级短期
项目级窗期 兴趣表示
■J 1(0 OOP) (OOOO)
2）基于门控神经网络的 跨域长期兴趣模型,
<0000：
长期兴趣表示
0 000
3）基于长短期兴趣的 跨域推荐模型
输入:一组短期兴趣表示g
图5-14 基于循环-门控神经网络的跨域推荐方法框架描述
5.4.1	跨域循环-门控神经兴趣模型
5.4.1.1	基于循环神经网络的跨域短期兴趣模型
本节与5.3节一样都采用基于GRU单元的RNN来捕捉跨域行为中会话内的动态 变化，以克服RNN中的梯度消失问题。为了捕捉不同域中的短期动态特征，将按时 间顺序输入不同域的所有行为数据。
输入层。每个项目的原始输入都是项目的对应索引o利用一个嵌入矩阵E e I 将项目的索引转换为统一的低维实值向量表示，d为项目嵌入表示的维度，N为所有 域中项目的总数。
融合层。由于用户从一个域切换到另一个域时存在跨域切换行为，这使得在建 模跨域动态变化时不可避免地引起一些单域行为间链接丢失的问题，因此本节设计 一个基于乘积神经网络口刀的融合层来合理地恢复用户切换时丢失的短期信息：
8 = [em,n^emjnQb],n = l,...,Nm-l	(5-12)
其中，加代表按时间顺序排列的所有域的会话中当前会话的位置。公咐i%咕 C4 Y im,n e d Yn = V) 7md—I N4、，为当前会话在域d中的前一个邻居会 话的最后的隐藏状态。II为指示函数，由于只有当发生跨域切换时才可能存在链接 的丢失，此处它仅允许在用户行为进行跨域切换时进行融合更新。[•]代表向量的连 接，能够保护不同会话的差异性。6 =心姓门是建慰巡。切/= 1,1,为hadamard 乘积，通过提供更紧密的特征融合以捕捉断开的会话之间交互模式。考虑到跨域行 为的差异性和相关性共存的情况，基于连接和基于乘积的两种融合策略的组合可以 进一步合理地恢复缺失信息。融合层最终可以构建为：
F = ReLU(Wf& + bf)	(5-13)
其中，歹使用ReLU作为激活函数来捕捉非线性特征，叼和与为尸的权重和偏置。
循环层。为了捕获跨域的短期动态特征，利用GRU对会话中的行为依赖关系进 行建模。因此，存在会话中的短期兴趣表示可以通过以下公式进行动态更新：
sm,n = GRU 卡』,1)	(5-14)
其中，5%0 = 5加-1,%—1为前一个会话中的最后一个隐藏状态。
110
5.4.1.2	基于门控神经网络的跨域长期兴趣模型
本节通过建模一组连续的短期兴趣的演化模式，并使用门控结构选择出不同短 期兴趣中最具有代表性的信息，从而构建跨域的长期兴趣表示。同时，增加了一个 跨域兴趣正则化函数，从长期兴趣的角度进一步恢复断开的单域行为间链接。
输入层。首先，利用上一节中已经学习到的一组短期兴趣表示来构建基于会话 级的长期兴趣表示：
-I	I '
8m,n = ^m-Ls ,> …，sm-l	(5-15)
.I	I .
其中，5%芦=£%巴立为每个会话的最后一个隐藏状态。g菽C/X〃代表用户 "的第机个会话中第1个项目位置处的长期兴趣表示。换言之，这是由前"个短期 兴趣表示构成的序列。此外，为了进一步捕捉兴趣演化过程中更多的细节信息，还 构建了基于项目级的长期兴趣表示：
-I	I '
8m,n ~ Sm,n-Le,…，sm,n-l	(5-16)
.I	I .
其中，当时，g嬴将用零向量填充。基于以上两种基于会话级 别的和基于项目级别的表示，最终构建的长期兴趣表示为gm,n =［就“g版/o
门控结构。此处采用了类似于门控线性单元(gated linear unit, GLU)M的结构, GLU主要用在自然语言处理研究中，在预测下一个单词时以控制信息的传播。为了 减少需要学习的参数量，此处将卷积运算替换为内积运算。本章设计的门控结构如 下：
8m,n = 8m,n 凶© 8m,n + %)	(5-17)
其中，勖,。代表内积运算。和与eRg+0为需要学习的参 数。利用门控结构，能够强调真正代表真实用户兴趣的信息，而忽略不相关的部分。
聚合层。利用最大池化(max-pooling)③将长期兴趣表示g叫,映射为一个低维
③在实验中，最大池化的性能优于平均池化(average-pooling),
111
表示：
Pm,n = pooling^ (总5)	(5-18)
跨域兴趣正则化函数。由于长期兴趣比短期兴趣更稳定，并且随着时间的变化 更缓慢，因此两个连续的长期兴趣表示应该是相似的。因此，此处利用一个辅助的 正则化函数，通过最小化跨域行为切换处的两个长期兴趣表示之间的距离来进一步 恢复丢失的长期信息：
Across =工鼠―1,6任 d V ZWi„ € d V " = 1)| |p/_i - Pmj F	(5-19)
其中，Pm,”和P力T分别为当前行为与前一个邻居的长期兴趣表示，它们属于同一个 域do
5.4.2	基于长短期兴趣的跨域推荐模型
由于BPR-max函数磔1能够解决会话型推荐研究中随着采样数增大而产生梯度 消失的问题，因此本文基于BPR-max来构建目标函数。BPR-max的优化目标是最小 化目标得分高于最大负样本得分(即 5 = maxrj)的负对数概率：
j
^target = ~logP(「i > rnwx)
N
=-log P(5 > rj\rj =	=5)
j=l	(J-ZU J
N	N
=- log £ o(r/)b(_ _ 6)+ . E。(。)。2
j=i	j=i
其中，项目i为目标项目，项目j为从项目集合中随机选择的负样本，N为样本 数，0和rj为针对项目i和负样本项目j的推荐得分。针对非连续的p(o >和 P(0 = %皿)，利用。(为一。)和。/(0)=々/£山1 出进行近似处理。目标函数的最后 一项为正则化项，入为正则化的权重。
短期兴趣和长期兴趣信息都将传递到模型的预测层用于输出。基于此，可以得 出预测当前会话中下一个可能出现的项目的得分rn为：
6 =片+以璃	(5-21)
其中，吟=/(s%“)，偿=/(Pm,")。/(•)为ELU函数。a为调节长期兴趣和短期兴趣信
112
息比例的权重。最后，通过最小化以下公式可以得到最后的目标函数:
L —/侬+
ross
(5-22)
其中，0为超参数，它能够调节预测下一个可能出现的项目的任务和跨域兴趣正则 化之间的比重。在实验中将根据验证集上的性能表现选择合适的超参数。
5.4.3	跨域最小批训练机制
为了提升模型的训练效率，本节设计了可以并行训练的跨域最小批训练机制，如 图5-15所示。为了方便起见图中设定的最小批为2,斜线框表示域x中的会话，纯色 框表示域y中的会话。每个用户的会话按时间顺序排列作为输入，对应会话中输入 的后一个项目作为输出。与5.3.3节不同的是，本节所提方法为了弥补被CDHRM方 法忽略的单域行为间链接损失的问题，需要检测用户行为的跨域切换位置。通过对 比每个用户的每个会话开始位置与上一个会话结束位置的所属域是否相同，以标记 切换位置。当检测到跨域切换位置，就可以基于公式（5-12）来恢复丢失的短期兴趣 信息和基于跨域兴趣正则化函数（5-19）来引入丢失的长期兴趣信息。另外，为了保 证不同域中项目被选中的公平性，本节将统一从所有域的项目中选择负样本。
-HA
图5-15 跨域最小批训练机制示意图
q文		*	Z,1.2
5.4.4	实验与分析
本节通过在三个跨域数据集上进行实验以回答以下3个问题:
问题1: CDRGM方法中不同的模块对最终推荐结果的影响如何？
113
问题2:本章提出的CDRGM和CDHRM方法与其他先进的对比方法相比的性能如 何，在有项目重叠的跨域数据集和无项目重叠的跨域数据集上各自的表现如 何？
问题3: CDRGM和CDHRM方法在应对数据稀疏性问题时表现如何？
5.4.4.1	实验环境与设置
(-)数据集选取
为了评估本章所提方法在处理动态跨域数据情况下的优势，此处选取了三个包 含用户行为时间信息的跨域数据集来评估模型的性能。
Movielens-20M:包含了用户在MovieLens网站上对于不同类别的电影的点评记 录。数据集中提供的电影的类别信息，可以被用来构建不同的跨域数据集。本实验选 择了有相似主题且评论信息较多的一对类别Thriller-Action (TA)作为跨域数据集。
Goodreads[31h为从goodreads网站收集的包含不同类型的图书，且包括大量的 评价记录。提取其中的Children和Comics (CC)类别作为跨域数据集。
DoubanEventP41：包含了用户在Douban网站上对于电影、音乐和书籍域的评分 行为序列。本实验提取了电影和书籍域的评分记录，构建了 Movie-Book (MB)跨域 数据集。
每个数据集都包含了用户ID、项目ID、时间戳和评分。由于Movielens-20M和 Goodreads中每个项目都有多个类别标签，因此TA数据集和CC数据集都包含跨域 重叠项目。而DoubanEvent中的每个项目都只属于一个域，因此MM数据集中没有 跨域重叠项目。
对于每一对跨域数据集，按域对数据进行预处理。首先利用30min为间隔，将每 个序列都划分为不同的会话。删除包含评分总数小于10的项目、包含项目数低于3 的会话和包含会话数低于5的用户。三个跨域数据集的统计数据如表5-8所示。然后, 使用两种不同的策略来生成训练集、验证集和测试集。策略1主要针对不同模块性 能和整体性能分析设计的，将三个跨域数据集中各个域中最后3个月的会话作为测 试集，剩余的数据作为各个数据集的训练集。同时，过滤掉在测试集中出现但没有 在训练集中出现的项目和项目数低于3的会话。另外，将各个训练集中最后3个月 的会话作为验证集。策略2是为了评估各个方法在面对单域的数据稀疏性问题时的 表现而进行设计的，通过随机地删除原始训练集不同比例的数据来构建不同稀疏度 (^ = <10%,30%,50%,70%))下的训练集的变体。测试集和验证集与策略1中相同。
114
表5-8 三个跨域数据集的统计数据表
数据集	Children-Comics (CC)		Thriller-Action (TA)		Movie-Book (MB)
域	Children	Comics	Thriller	Action	Movie	Music
事件数	3,509,683	2,737,285	1,675,208	1,756,233	2,610,110	1,142,677
用户数	27,606	20,152	12,985	12,804	8,371	6,836
项目数	62,848	51,875	2,714	2,281	32,320	54,021
会话数	376,429	267,377	127,149	124,432	265,607	150,133
重叠项目数	661		789		0
重叠用户数	5,786		11,329		5,177
(二)对比方法选取
为了验证本章所提方法的有效性，分别将其与单域推荐方法和跨域推荐方法进 行对比。
单域推荐方法
1.	BPRP5］： 一种未考虑时间信息的矩阵分解方法。
2.	HRNNW： 一种个性化的基于多层RNN的方法，通过联合建模会话内和会话间 的动态信息来捕捉短期和长期兴趣。
3.	GRU4REC+3］： 一种基于RNN的方法。该方法集中于短期兴趣的建模，通过 引入新的排序损失函数以克服梯度随样本数量增加而消失的问题。
4.	卷积序列化嵌入的推荐模型(Convolutional Sequence Embedding Recommendation Model, Caser)以］： 一种基于卷积的序列嵌入方法，通过对用户的行为序列进行 卷积运算来建模短期兴趣的动态变化。
5.	分层门控网络(Hierarchical Gating Networks, HGN)［33］： 一种分层门控神经模型, 该模型通过应用两个门控模块来捕捉有代表性的短期信息和项目特征。
跨域推荐方法
1.	CDIE-C：第4章提出的基于嵌入的跨域推荐方法，通过捕获短期行为模式来学 习跨域项目表示。采用一种简单而有效的方式来引入长期兴趣信息，使用用户 交互过的所有项目的表示的平均值作为长期兴趣的表示。
115
2.	域切换感知的整体循环神经网络(Domain Switch-Aware Holistic Recurrent Neural Network, DS-HRNN)［13］：一种基于RNN的跨域方法，目的是捕捉短期的跨域 序列化模式。
3.	CDHRM： 5.3节提出的方法。利用多层循环神经网络来捕捉用户的全局兴趣动 态性和单域内的用户兴趣变化模式，但忽略了由于捕捉跨域动态行为而损失的 单域行为链接。
4.	CDRGM：本节提出的方法。为了进一步评价模型中的不同模块对模型整体 性能的影响，设置了 CDRGM的不同变体。定义CRN为只使用CRN模块的 变体；CRN-f为使用CRN但删除了融合层的变体；CDRGM-i、CDRGM-s和 CDRGM-1虽然都同时引入了 CRN和CGN。区别在于，CDRGM-i在CGN模 块的输入层中删除了基于项目级的长期兴趣表示部分，CDRGM-s在CGN模块 的输入层中删除了基于会话级的长期兴趣表示部分，而CDRGM-1为删除了跨 域兴趣正则化函数后的变体。
实验中，BPR和CDIE-C中的嵌入维度都设置为100.基于RNN方法(HRNN, GRU4REC+, DS-HRNN、CDHRM和CDRGM)的每一层RNN的隐藏单元数也统一 设置为100。对于学习率，基于RNN的方法、BPR和CDIE-C的学习率设置为0.1 时性能最优，Caser和HGN的学习率设置为0.001时性能最优。为了获得最好的性 能，基于RNN的方法、BPR、CDIE-C和Caser的最小批设为100, HGN的最小批 设为4096。各个方法的其他超参数将按照论文中的原始设置进行设定。CDRGM的 。、。和为在CC跨域数据集中设为0.7/0.6/0.5,在TA数据集中设为0.3/0.3/0.5,在 MB数据集中设为0.4/0.3/0.5。此外，设置/和£/都为3,项目嵌入维度为100。另 外，由于使用多层RNN并没有显著提高模型的性能⑶，因此本章提出的方法使用单 层RNN。为了平衡训练时间和实验性能Ml,设定负样本的数量为128。CDRGM和 CDHRM都是在python的Theano框架四］下实现的。所有的基于RNN的方法都是在 配备24GB的GPU内存的NvidiaM40服务器上进行训练。
(三)评价指标设置
实验中采用两个在会话型推荐中广泛使用的评价指标来评估各个方法的性能。具 体地,Recall@K度量候选列表中正确结果位于前K个结果中的比例，Ke{10,30,50}。 Recall@K认为结果排序中的前K个候选项目组成的集合中的所有项目的重要性程度
116
都是相同的。MRR中使用正确结果的倒数排名来强调在所有结果中排名较高的结果 比排名较低的结果更重要。
5.4A.2实验结果与分析
（一）不同模块性能分析
本节将探讨CDRGM方法中CRN和CGN模块的有效性，结果如表5-9所示。从 结果中可以发现CRN的性能都优于CRN-f,这表明引入融合层能够通过合理地捕捉 由于跨域切换行为的存在而造成的断开的单域会话间的关联关系，从而有效地恢复 单域行为间链接。CDRGM-1, CDRGM-i, CDRGM-s都优于CRN。这是因为CRN和 CGN的结合可以从短期和长期的角度捕获更全面的跨域用户兴趣，而CRN只能捕 获短期的动态特征。另外，CDRGM的性能优于CDRGM-L原因在于CDRGM中的 跨域兴趣正则化函数可以进一步弥补用户切换行为处中断的长期兴趣信息。CDRGM 取得了比CDRGM-i和CDRGM-s更好的性能。这是因为CDRGM-i和CDRGM-s实 际上捕获了不同级别的短期动态演化特性。具体来说，CDRGM-i目的在于使用多个 历史会话对会话级的长期兴趣的演化进行建模，而CDRGM-s的重点是捕捉长期兴 趣中更多的项目级的细节信息。因此，为了获得更好的性能本节后续将采用CDRGM 方法。
表5-9		三个跨域数据集中针对不同模块的Recall@30性能统计表
数据集	域	CRN-f	CRN	CDRGM-1	CDRGM-s	CDRGM-i 1	CDRGM
cc	Children	0.2622	0.2759	0.2801	0.2854	0.2856	0.2922
Comics	0.4773	0.4865	0.4973	0.5041	0.5069	0.5123
TA	Thriller	0.2032	0.2231	0.2353	0.2528	0.2541	0.2602
LA	Action	0.2476	0.2629	0.2867	0.3025	0.3023	0.3161
MB	Movie	0.1803	0.1879	0.1915	0.1979	0.1967	0.2012
Book	0.2116	0.2186	0.2237	0.2284	0.2289	0.2319
（-）推荐性能分析
为了评价CDRGM和CDHRM方法的整体性能，本节在三个跨域数据集上将它 们分别与单域和跨域推荐方法进行比较，如表5-10、5-11和5-12所示。
在单域场景中，GRU4REC+. HRNN、Caser和HGN的性能都比BPR更好。说 明了考虑时间信息的方法可以获得更好的性能。此外，GRU4REC+和HRNN的性能 也优于Caser和HGN。一个主要原因是基于RNN的方法（GRU4REC+和HRNN）通 过设计隐藏状态，可以更容易地捕获序列中的依赖关系。这对于连续预测序列中下
117
一个项目的任务是至关重要的。同时，尽管HRNN同时捕捉了短期兴趣和长期兴趣 的动态性，但是GRU4REC+仍然优于HRNN的性能。原因是GRU4REC+中目标函 数BPR-max克服了随着样本数增加而出现的梯度消失问题。另外，本章所提两种方 法CDRGM和CDHRM在所有数据集上都优于所有的单域推荐方法，其中CDRGM 方法的性能更好。以TA数据集为例，在Thriller域中CDHRM方法的Recall@30的 值比 GRU4REC+提升 8.78%,在 Action 域中提升 8.02%, CDRGM 方法的 Recall@30 的值比GRU4REC+提升26.19%,在Action域中提升26.80%。通过进一步观察数据 集发现TA数据集中有18.76%的重叠率。这些跨域重叠项目在不同域之间会形成许 多相似或相关的序列（例如，《毒液》和《蝙蝠侠》）。虽然MB跨域数据集中不同域 之间没有重叠项目，但是Movie域和Book域之间仍然含有许多隐式的关联（例如, 在Movie域中看过《泰坦尼克号》的用户也会在Book域中阅读《泰坦尼克号》的原 著）。GRU4REC+忽略了用户行为存在跨域相关性这一事实，只能通过单域数据获得 部分观测，并且加重了数据稀疏性的问题。与此相反，CDHRM和CDRGM都能够 通过引入相关域的互补信息来综合捕捉用户兴趣的全局动态演化规律，而CDRGM 还可以通过引入融合层和跨领域兴趣正则化函数来保护域内的局部的动态关联。
在跨域场景中，DS-HRNN的性能优于CDIE-C,原因是基于RNN进行设计的 DS-HRNN方法具有更强的非线性建模能力，因此与基于嵌入模型的CDIE-C相比 更适合捕捉用户行为中复杂的动态变化规律。本章所提两个方法的性能依然优于 DS-HRNNo 在 TA 数据集中的 Thriller 和 Action 域，CDHRM 方法比 DS-HRNN 方 法分别提升了 8.46%、9.29%, CDRGM方法比DS-HRNN方法分别提升了 25.82%、 28.29%o主要原因是CDHRM和CDRGM通过全面挖掘不同域会话内的动态变化 模式和跨域会话间的动态演化模式能够更全面地描述用户兴趣，而DS-HRNN只考 虑了会话内的动态变化模式。此外，虽然CDRGM和DS-HRNN都尝试恢复损失的 单域行为间的链接，但是CDRGM引入了融合层和跨域兴趣正则化函数从长期和短 期兴趣两个角度来获取丢失的信息，而DS-HRNN只关注短期行为间链接的恢复。 CDRGM的融合层和跨域兴趣正则化函数虽然会增加模型的计算复杂度，但本文通 过设计高效的跨域最小批训练机制，进一步提升了模型的训练速度，因此并没有显 著增加模型的训练时间和测试时间。另外，CDRGM的性能也优于CDHRM,尽管两 个方法都捕捉了隐藏在会话内和会话间的用户兴趣的动态变化，但CDRGM还同时 恢复了 CDHRM中损失的单域行为间链接，从而进一步提升了推荐性能。
（三）稀疏度影响分析
118
表5-10 CC数据集中各个方法的整体性能统计表
Datasets	Chil dren-Comics(CC)
Domain	Children				Comics
Metrics	Recall@i0	Recall@30	Recall@50	MRR	Recall@10	RecaIl@30	Recall@50	MRR
BPR	0.0787	0.1052	0.1342	0.0218	0.0956	0.1323	0.1625	0.0375
单域	Caser	0.0903	0.1282	0.1644	0.0387	0.1347	0.1685	0.2364	0.0573
推荐	HGN	0.1124	0.1557	0.1997	0.0459	0.1647	0.2051	0.2718	0.0965
方法	HRNN	0.1320	0.2177	0.2576	0.0666	0.3399	0.4213	0.4519	0.2078
GRU4REC+	0.2027	0.2730	0.3051	0.1266	0.4162	0.4811	0.5064	0.2977
跨域 推荐 方法	CDIE-C	0.1214	0.1743	0.2231	0.0521	0.1787	0.2262	0.3051	0.1132
DS-HRNN	0.1341	0.2242	0.2642	0.0688	0.3492	0.4412	0.4631	0.2165
CDHRM	0.2074	0.2813	0.3122	0.1314	0.4247	0.4937	0.5189	0.3058
CDRGM	0.2139	0.2922	0.3270	0.1386	0.4441	0.5123	0.5378	0.3193
<5-11 TA数据集中各个方法的整体性能统计表
Datasets	Thriller-Action (TA)
Domain	ThriUer				Action
Metrics	Recall© 10	Recall@30	Recall@50	MRR	Recall@10	Recall@30	Recall@50	MRR
BPR	0.0102	0.0363	0.0516	0.0093	0.0112	0.0452	0.0705	0.0113
单域	Caser	0.0603	0,1328	0.2006	0.0227	0.0614	0.1488	0.2189	0.0235
推荐	HGN	0.0636	0.1530	0.2226	0.0316	0.0684	0.1664	0.2360	0.0330
方法	HRNN	0.0832	0.1812	0.2321	0.0404	0.1204	0.2238	0.2742	0.0597
GRU4REC+	0.1052	0.2062	0.2612	0.0554	0.1364	0.2493	0.3123	0.0763
跨域 推荐 方法	CDIE-C	0.0672	0.1573	0.2102	0.0352	0.1035	0.2103	0.2598	0.0548
DS-HRNN	0.0963	0.2068	0.2673	0.0552	0.1359	0.2464	0.3191	0.0756
CDHRM	0.1194	0.2243	0.2802	0.0613	0.1529	0.2693	0.3454	0.0885
CDRGM	0.1319	0.2602	03301	0.0694	0.1723	03161	0.3991	0.0957
为了研究CDRGM和CDHRM是否能很好地缓解单域中的数据稀疏性问题，我 们分析了 TA数据集中各个方法在不同稀疏度上的性能，如图5-16所示。其它数据 集上的实验结果与1A数据集上的结果十分相似。从图中可以看出，当稀疏度增加 时，由于信息的缺失，所有方法的性能都会变差。当稀疏度高于50%时，DS-HRNN 的性能开始超过GRU4REC+,因为DS-HRNN可以通过引入其他域的信息来补充缺 失的信息。而且即使在稀疏度很高的情况下，CDRGM和CDHRM方法的性能也优 于其他所有单域推荐方法。另外，在稀疏场景中CDRGM和CDHRM与DS-HRNN 相比，不仅捕捉了用户兴趣在不同域的会话内的动态变化，还通过捕获不同会话间 的动态演化模式，以学习到更全面的用户兴趣表示。因此，本章提出的CDRGM和 CDHRM的性能明显优于DS-HRNN。例如，在1A数据集的Thriller域和Action域 中，当稀疏度为70%时，CDHRM的RecaH@30的值相比于DS-HRNN分别提高了 20.76% 和 18.31%, CDRGM 的 Recall@30 的值相比于 DS-HRNN 分别提高了 25.82% 和 28.29%o
119
表5-12 MB数据集中各个方法的整体性能统计表
Datasets	Movie-Book (MB)
Domain	Movie				Comics
Metrics	Recall@10	Recall@30	Recall@50	MRR	Recall@10	Recall@30	Recall @50	MRR
BPR	0.0223	0.0501	0.0749	0.0103	0.0375	0.0743	0.0958	0.0134
单域	Caser	0.0497	0.0674	0.1263	0.0201	0.0646	0.0962	0.1468	0.0342
推荐	HGN	0.0534	0.0802	0.1428	0.0235	0.0819	0.1153	0.1661	0.0527
方法	HRNN	0.0791	0.1161	0.1781	0.0418	0.1256	0.1801	0.2052	0.0724
GRU4REC+	0.1198	0.1848	0.2214	0.0743	0.1573	0.2169	0.2387	0.0962
薛诚	CDIE-C	0.0722	0.1092	0.1722	0.0398	0.1184	0.1731	0.1975	0.0689
丐理 推荐 方法	DS-HRNN	0.0843	0.1254	0.1863	0.0486	0.1309	0.1886	0.2164	0.0761
CDHRM	0.1223	0.1885	0.2242	0.0767	0.1631	0.2243	0.2415	0.0979
CDRGM	0.1305	0.2012	0.2397	0.0812	0.1666	0.2319	0.2548	0.1028
30
00010
30	50
稀疏度(%)
70
°・明。
5 0 5 0 5 0 5
3 3 2 2.1J.O
8O.O.QSSS
0⑥一 H
30	50
稀疏度(%)
70
(a) Thriller 域	(b) Action 域
图5-16 TA数据集中不同稀疏度下的各个方法Recall@30性能对比图
5.5本章小结
针对跨域数据动态性导致跨域信息间具有复杂动态关联的问题，本章主要研究 了如何在捕捉用户跨域动态信息时兼顾域内动态信息的捕捉，以完整融合不同域中 的动态信息提升跨域推荐性能。首先定义了针对动态跨域数据的跨域推荐问题。然 后针对跨域信息的全局动态变化和域内动态变化存在差异性特点，提出了跨域多层 循环神经兴趣模型和基于用户级-会话级动态兴趣的跨域推荐模型，通过设计跨域最 小批训练机制提升模型的训练性能。其次，为了解决在捕捉用户级和会话级动态变 化时引起部分单域行为间链接损失的问题，设计了跨域循环-门控神经兴趣模型和基 于长短期兴趣的跨域推荐模型，在捕捉跨域行为动态变化的同时重建损失的单域行 为间链接，提升跨域推荐准确性。最后设计实验，验证了本章所提的两种方法相比 于其他基于动态数据的单域推荐和跨域推荐方法性能至少提升8%,证明通过准确捕 捉跨域信息间的动态关联可以有效提升推荐性能。
120
参考文献
[1]	Ludewig M, Jannach D. Evaluation of session-based recommendation algorithms ] J]. User Modeling and User-Adapted Interaction, 2018, 28(4-5): 331-390.
[2]	Wang S, Cao L, Wang Y A survey on session-based recommender systems]J]. arXiv preprint arXiv:1902.04864, 2019.
[3]	Quadrana M, Karatzoglou A, Hidasi B, et al. Personalizing session-based recommendations with hierarchical recurrent neural networks [A]. // Proceedings of the Eleventh ACM Conference on Recommender Systems[C]. New York, NY: ACM, 2017: 130-137.
[4]	Donkers T» Loepp B, Ziegler J. Sequential user-based recurrent neural network recommendations [A]. // Proceedings of the Eleventh ACM Conference on Recommender SystemsfC]. New York, NY: ACM, 2017: 152-160.
[5]	Okura S, Tagami Y Ono S, et al. Embedding-based news recommendation fbr millions of users[A]. // Proceedings of the 23rd ACM SIGKDD International Conference on Knowledge Discovery and Data Mining[C]. New York, NY: ACM, 2017: 1933-1942.
[6]	Li C Y Lin S D. Matching users and items across domains to improve the recommendation qual-ity[A]. // Proceedings of the 20th ACM SIGKDD international conference on Knowledge discovery and data mining[C]. New York, NY: ACM, 2014: 801-810.
[7]	Zhang Z, Jin X, Li L, et al. Multi-domain active learning fbr recommendation[A]. // Thirtieth AAAI Conference on Artificial Intelligence[C]. Menio Park, CA: AAAI Press, 2016.
[8]	Man E Shen H, Jin X, et al. Cross-domain recommendation: an embedding and mapping ap-proach[A]. // International Joint Conference on Artificial Intelligence[C]. Memo Park, CA: AAAI Press, 2017: 2464-2470.
[9]	Elkahky A M, Song Y He X. A multi-view deep learning approach for cross domain user modeling in recommendation systems [A]. // Proceedings of the 24th International Conference on World Wide Web[C]. Berlin, German: Springer, 2015: 278-288.
[10]	Lian J, Zhang F, Xie X, et al. CCCFNet: a content-boosted collaborative filtering neural network for cross domain recommender systems[A]. // Proceedings of the 26th international conference on World Wide Web companion[C]. Berlin, German: Springer, 2017: 817-818.
[11]	Kazama M, Varga I. Multi cross domain recommendation using item embedding and canonical correlation analysis[A]. // the ACM Conference on Recommender Systems[C]. New York, NY: ACM, 2017.
[12]	Wang Y Feng C, Guo C, et al. Solving the sparsity problem in recommendations via cross-domain item embedding based on co-clustering[A]. // Proceedings of the Twelfth ACM International Conference on Web Search and Data Mining[C]. New York, NY: ACM, 2019: 717-725.
[13]	Kim D, Kim S, Zhao H, et al. Domain switch-aware holistic recurrent neural network fbr modeling multi-domain user behavior[A]. // Proceedings of the Twelfth ACM International Conference on Web Search and Data Mining[C]. New York, NY: ACM, 2019: 663-671.
[14]	Lipton Z C, Berkowitz J, Elkan C. A critical review of reeuirent neural networks for sequence leam-ing[J]. arXiv preprint arXiv: 1506.00019,2015.
[15]	Hochreiter S, Schmidhuber J. Long short-term memoiy[J]. Neural computation, 1997, 9(8): 17351780.
121
[16]	Cho K, Van Merrienboer B, Gulcehre C, et al. Learning phrase representations using RNN encoderdecoder fbr statistical machine translation]J]. arXiv preprint arXiv: 1406.1078, 2014.
[17]	Qu Y Cai H, Ren K, et al. Product-based neural networks for user response prediction[A]. II2016 IEEE 16th International Conference on Data Mining (ICDM)[C]. Piscataway, NJ: IEEE, 2016: 1149-1154.
[18]	Zhang H, Huang W, Liu L, et al. Learning to match clothing from textual feature-based compatible relationships^. IEEE Transactions on Industrial Informatics, 2019.
[19]	Hidasi B, Karatzoglou A, Baltrunas L, et al. Session-based recommendations with recurrent neural networks[J]. arXiv preprint arXiv: 1511.06939, 2015.
[20]	Hidasi B, Karatzoglou A. Recurrent neural networks wititi top-k gains for session-based recommen-dations[A]. // Proceedings of the 27th ACM International Conference on Information and Knowledge Management[C]. New York, NY: ACM, 2018: 843-852.
[21]	Tan S, Bu J, Qin X, et al. Cross domain recommendation based on multi-type media fiision[J]. Neurocomputing, 2014, 127: 124-134.
[22]	Yi C； Shang M S, Zhang Q M. Auxiliary domain selection in cross-domain collaborative filtering]J]. Applied Mathematics & Information Sciences, 2015, 9(3): 1375.
[23]	Zhang Y Cao B, Yeung D Y Multi-domain collaborative filtering[J]. arXiv preprint arXiv: 1203.3535, 2012.
[24]	Zhong E, Fan W, Yang Q. User behavior learning and transfer in composite social networks[1]. ACM Transactions on Knowledge Discovery from Data (TKDD), 2014, 8(1): 1-32.
[25]	Rendle S, Freudenthaler C, Gantner Z, et al. Bpr: bayesian personalized ranking from implicit feed-back[J], arXiv preprint arXiv: 1205.2618,2012.
[26]	Barkan O, Koenigstein N. Item2vec: neural item embedding for collaborative filtering[A]. // 2016 IEEE 26th International Workshop on Machine Learning for Signal Processing (MLSP)[C]. Piscataway, NJ: IEEE, 2016: 1-6.
[27]	Duchi J, Hazan E, Singer Y Adaptive subgradient methods fbr online learning and stochastic opti-mization[J]. booktitle of machine learning research, 2011,12(Jul): 2121-2159.
[28]	Zhang H, Sun Y9 Zhao M, et al. Bridging user interest to item content fbr recommender systems: an optimization model[J]. IEEE transactions on cybernetics, 2019.
[29]	Team T T D, Al-Rfbu R, Alain G, et al. Theano: A Python framework for fast computation of mathematical expressions[J]. arXiv preprint arXiv: 1605.02688,2016.
[30]	Dauphin Y N, Fan A, Auli M, et al. Language modeling with gated convolutional networks [A]. // Proceedings of the 34th International Conference on Machine Leaming[C]. New York, NY: ACM, 2017: 933-941.
[31]	Wan M, McAuley J. Item recommendation on monotonic behavior chains[A]. // Proceedings of the 12th ACM Conference on Recommender Systems[C]. New York, NY: ACM,2018: 86-94.
[32]	Tang J, Wang K. Personalized top-n sequential recommendation via convolutional sequence embed-ding[A]. // Proceedings of the Eleventh ACM International Conference on Web Search and Data MiningfC]. 2018: 565-573.
[33]	Ma C, Kang R Liu X. Hierarchical gating networks fbr sequential recommendation[A]. // Proceedings of the 25th ACM SIGKDD International Conference on Knowledge Discovery & Data Mining[C]. New York, NY: ACM, 2019: 825-833.
122
第六章总结及展望
6.1	论文研究工作总结
为应对社交媒体数据爆炸式增长和跨域分布的趋势，跨域数据挖掘研究己成为 众多社交媒体应用全面提取跨域数据中价值的必然选择。由于用户兴趣在捕捉信息 间复杂关联方面的巨大潜能，论文通过建模用户兴趣来提升跨域数据挖掘的性能, 研究社交媒体中基于用户兴趣的跨域数据挖掘的新方法。针对跨域数据异质性导致 跨域信息间关联交错复杂的问题，研究了异质跨域数据下基于用户兴趣的跨域用户 身份识别方法；针对跨域数据匿名化导致跨域信息间关联缺失不足的问题，研究了 匿名跨域数据下基于用户兴趣的跨域推荐方法；针对跨域数据动态性导致跨域信息 间具有复杂动态关联的问题，研究了动态跨域数据下基于用户兴趣的跨域推荐方法。 论文的主要研究工作总结如下：
(1)跨域数据挖掘及用户兴趣模型研究的综述和分析。首先梳理了社交媒体中 跨域数据挖掘研究的现状，并指出了建模用户兴趣是捕捉跨域信息间复杂关联的关 键。其次，对用户兴趣模型的构建过程进行概述，重点阐述了用户兴趣建模方法的 研究现状。最后梳理了社交媒体中基于用户兴趣的跨域数据挖掘的研究现状，并探 讨了利用用户兴趣模型提升在社交媒体中跨域数据挖掘性能的优势。
(2)针对跨域数据异质性导致跨域信息间关联交错复杂的问题，提出了基于链 接异质网络嵌入的跨域用户身份识别方法，将跨域异质信息投射到共同的低维兴趣 空间中，以实现异质跨域数据的融合。跨域用户的内容兴趣和社交兴趣分别隐藏在 不同域中的社交结构数据和内容数据中，但由于不同类型的跨域信息来源于不同的 特征空间，使得跨域数据难以统一利用。针对这一问题，该方法设计了链接异质网 络来表示跨域信息间的复杂关系，通过将网络内和网络间的基于内容主题和社交的 用户共现关系嵌入到同一兴趣空间中，实现数据的全面融合，以获得基于内容和社 交偏好的用户兴趣的跨域统一表示。另外，为了增强模型的性能，设计了联合训练 算法，利用负采样策略来提升模型的训练速度，并通过交替训练异质关系以进一步 提升模型的性能。最后，通过构建跨域用户身份识别算法实现高效的跨域用户身份 匹配。实验结果表明，与假设不同类型的跨域信息相互独立的方法相比，所提方法 通过充分挖掘不同类型跨域信息间的关联，能够更准确地识别跨域用户身份。即使
123
由于隐私保护原因导致社交结构数据难以获取的情况下，论文提出的方法也可以很 好地工作。
(3)针对跨域数据匿名化导致跨域信息间关联缺失不足的问题，通过提出了基 于跨域异质关系嵌入的跨域推荐方法，通过挖掘隐藏的兴趣信息补充缺失的跨域关 联。由于跨域用户未登录或未注册等原因，跨域用户处于匿名状态，因此只能获得 当前短时间内的少量跨域行为数据，使得难以挖掘到跨域关联信息。针对这一问题, 该方法首先采用双聚类算法挖掘不同域项目之间的跨域共现性，建立基于跨域类别 的关联。然后，通过全面捕捉项目之间、项目与跨域类别之间形成的异质关系，以 增强跨域信息之间的链接，通过统一嵌入到相同兴趣空间中以获得用户兴趣的统一 表示。除此之外，为了提升模型的性能，设计了面向异质关系的联合训练算法。实 验结果验证了所提方法在缓解匿名用户的跨域信息间关联缺失问题的有效性。即使 在实际应用中无法获取到匿名用户充足的数据时，所提方法依然可以通过探索跨域 信息之间的关联性来获得互补信息，以保证推荐的准确性o
(4)针对跨域数据动态性导致跨域信息间具有复杂动态关联的问题，分别提出 了基于多层循环神经网络和基于门控-循环神经网络的跨域推荐方法，以联合捕捉用 户兴趣的跨域动态变化和单域动态变化。由于不同域的知识独立性和服务类型的不 同，不同域信息的跨域动态变化和单域动态变化存在差异性。针对这一问题，利用 基于多层循环神经网络的跨域推荐方法来建模跨域的序列间的动态依赖关系和单域 序列内的动态依赖关系，以联合建模用户兴趣的跨域全局动态演化模式和单域内的 局部动态变化模式。同时，为了提升模型的训练效率，设计了跨域最小批训练机制 进行并行训练，克服了不同域中不同用户的行为序列的数量和长度各不相同的问题。 另外，针对在捕捉跨域信息的动态变化时会损失掉部分单域行为间链接的问题，利 用基于门控-循环神经网络的跨域推荐方法从构建完整的跨域短期兴趣和长期兴趣的 角度出发，在捕捉用户兴趣的跨域动态变化和单域动态变化的同时，重建损失的单 域行为间链接。实验结果表明，论文提出的两种方法都通过确捕捉跨域信息间的动 态关联，提升了推荐性能。由于有效挖掘了域间的动态关联，通过联合跨域互补信 息，可以有效应对真实的跨域系统中用户行为缺失的情况。
6.2	未来研究工作展望
本文对社交媒体中基于用户兴趣的跨域数据挖掘进行了研究和探讨，取得了一 定的研究成果。下面将为后续的研究者提供有进一步研究价值的研究思路和想法,
124
具体内容如下：
（1）多模态跨域数据下基于用户兴趣的跨域用户身份识别方法研究。针对跨域 数据异质性导致跨域信息间关联交错复杂的问题，提出了基于链接异质网络嵌入的 跨域用户身份识别方法以融合异质的跨域社交结构数据和内容数据，来准确识别不 同域中用户身份。然而本文仅考虑了内容中的文本类型数据。事实上，用户在社交 媒体中产生的内容多种多样，除了文本以外还包含着大量的图片、视频、音频等多 模态数据。因此，为了更完整地描述用户兴趣，需要进一步引入多模态数据，设计融 合多模态数据的链接异质网络嵌入模型。除此之外，由于图片、视频数据体量更大, 所以需要设计更加高效地并行训练算法提升模型性能。
（2）匿名跨域数据下基于深度学习的跨域推荐方法研究。针对跨域数据匿名化 导致跨域信息间关联缺失不足的问题，提出了基于跨域异质关系嵌入的跨域推荐方 法，通过挖掘跨域关联，协同利用不同的异质关系来弥补缺失的关联信息，提升针 对匿名用户的推荐性能。本文设计的基于双聚类的跨域兴趣嵌入模型主要捕捉地是 跨域关联中的线性特征。实际上用户在社交媒体中产生行为的动机丰富多样，使得 跨域间的关联关系十分复杂。传统的线性模型难以捕捉到复杂的非线性跨域关联信 息。目前，深度学习中用于挖掘异质网络内的非线性关联的图神经网络为建模稀疏 兴趣提供了一种新的思路，有待深入探索和研究。
（3）联合内容和动态数据下基于用户兴趣的跨域推荐方法研究。针对跨域数据 动态性导致的跨域信息间具有复杂动态关联的问题，论文分别提出了基于多层循环 神经网络和基于门控-循环神经网络的跨域推荐方法，联合捕捉用户兴趣的跨域动态 变化模式和单域动态变化模式，以准确预测跨域用户的未来行为。但是论文中只利 用了不同域内的动态数据来挖掘跨域行为关联，忽略了静态的跨域内容数据之间也 包含了丰富的关联信息。通过联合挖掘动态行为和静态内容数据，有助于更全面地 构建跨域之间的桥梁，从而进一步提升跨域推荐的效果。
（4）多域场景下基于用户兴趣的跨域数据挖掘方法研究。本论文研究的跨域数 据挖掘方法都是限制在两个域的跨域场景中。然而，在实际应用中很多用户往往同 时拥有三个及以上的不同社交媒体的账号信息。融合更多的社交媒体平台数据，将 会为全面解读用户兴趣提供更丰富的信息，以更准确地捕捉用户的需求。然而，加 入更多域的社交媒体数据，也意味着用户兴趣建模更加复杂。因此，还需要进一步 分析用户行为在多个域之间的相互关联关系，建立更符合多域场景的用户兴趣模型。
125
(0)1994-2022 China Academic Journal Electronic Publishing House. All rights reserved, http://www.cnki.net
附录缩略语表
BiasedMF BPR BPR-max	Biased Matrix Factorization,偏置矩阵分解 Bayesian Personalized Ranking,贝叶斯个性化排序 Bayesian Personalized Ranking-max,贝叶斯个性化最大排序
Caser	Convolutional Sequence Embedding Recommendation Model,卷积序歹U化嵌入 的推荐模型
CBT CCA CCA-CDR	Codebook Transfer Model,密码本迁移模型 Canonical Correlation Analysis,典型相关分析 Cross Domain Recommendation using Canonical Correlation Analysis, 基于典型 相关分析的跨域推荐
CDHRM	Cross-Domain Hierarchical Recurrent Neural Interest ModeL 跨域多层循环神经 兴趣模型
CDIE-C	Cross-domain Interest Embedding Base on Coclustering,基于双聚类的跨域兴 趣嵌入模型
CDRGM	Cross-Domain Recurrent-Gated Neural Interest Model,跨域循环-门控神经兴趣 模型
CLFM CNN	Cluster-Level based Latent Factor Model,基于类别级的潜在因子模型 Convolutional Neural Network,卷积神经网络
DBLP DS-HRNN	Database Systems and Logic Programming,数据库系统和逻辑编程 Domain Switch-Aware Holistic Recurrent Neural Network,域切换感知的整体循 环神经网络
ELU EM	Exponential Linear Unit,指数线性单元 Expectation Maximum,期望最大化
FM	Factorization Machines,分解机
GLU GPU GRU GWI	gated linear unit,门控线性单元 Graphics Processing Unit,图形处理器 Gated Recurrent Unit,门控循环单元 Global Web Index,全球网络指数
HGN HRNN	Hierarchical Gating Networks ,分层门控网络 Hierarchical Recurrent Neural Networks,分层循环神经网络
127
KNN	K-Nearest Neighbor, K 近邻
LDA	Latent Dirichlet Allocation,潜在狄利克雷分布
LHNE	Linked-Heterogeneous-Network-based Interest Embedding,基于链接异质网络
的兴趣嵌入模型
LINE Large-scale Information Network Embedding,大规模信息网络嵌入
LSTM	Long Short-Term Memory,长短期记忆
MRR	Mean Reciprocal Rank,平均倒数排名
PMF	Probabilistic Matrix Factorization,概率矩阵分解
PMI	Point-wise Mutual Information,点相关的互信息
POP	Popularity Predictor,流行预测
PTE	Predictive Text Embedding,预测文本嵌入
RNN	Recurrent Neural Network,循环神经网络
SF-SKNN Sequential Filter Session-based KNN,序列化过滤的基于会话的最近邻
SGD	Stochastic Gradient Descent,随机梯度下降
SKNN	Session-based KNN,基于会话的 K 近邻
SPPMI	Shifted Positive PMI,平移正定 PMI
SVD	Singular Value Decomposition,奇异值分解
SVM	Support Vector Machine,支持向量机
TF-IDF Term Frequency-Inverse Document Frequency,词频-逆文本频率指数
128

2.2.1硬件设备
在分布式集群出现之前，所有的数据均存放在单个服务器中，该服务器一般 为高性能服务器，以保证数据的完整存储和流畅计算。但是随着计算机技术、互 联网和移动互联网等技术的蓬勃发展，社交网络、电商交易、互联网金融、生物 健康等等这些各行各业的社会活动正在源源不断的产生大量的结构复杂的数据 资源。数据的爆炸性增长速度远远大于服务器等硬件设备的更新速度，即使最先 进的服务器也无法负荷如此巨大的数据存储，而且这些服务器的成本并不是一般 用户或者公司可以负担的。面对传统数据存储的瓶颈，分布式集群应运而生。
分布式集群系统允许各用户把普通的商用硬件系统组成机群，并且可以根据 具体需求随时在该机群中增加或缩减新的硬件，保证系统的伸缩性和可用性，以 此使用户能够在价格较为低廉的中低端平台上即可享用过去只有高端系统才能 具备的高可伸缩性和高可用性。不但提高了系统的使用性能，同时也大大降低了 成本,从而实现了以更多计算机达到更快速度的目标。分布式集群通过一定规则 连接若干普通服务器，实现传统单点高性能服务器的功能，极大地节省成本；并 且具备单点服务器所不具有的高扩展性、良好的并行性和可靠性。Hadoop集群 便是分布式集群中的翘楚，应用于各大行业，给广大普通用户提供便捷优质的服 务。
虽然分布式集群，如Hadoop集群，通过多个普通服务器实现传统的单个精 英服务器的功能，大大降低服务器的硬件要求。但是，这里的普通服务器即使再 普通，也仅是相对于传统的精英服务器而言的，这些普通服务器的硬件设备配置 仍然会影响Hadoop集群的工作性能。
首先，提高集群的所有服务器的配置是最直接的提高集群性能的方法。虽然 分布式集群提供多个普通服务器的组织方式，以降低每台服务器的配置要求，如 Google的数据中心，便是使用廉价的Linux PC机组成集群，亦能提供覆盖全球 的优质服务。但是无论哪种组织方式，服务器的配置肯定越高越好，如果能将多 个普通服务器升级，提高服务器配置，甚至升级成多个高性能服务器的组织方式， 在保留传统的高性能服务器优点的同时，又能提供分布式集群的新优势，二者完 美结合，服务质量必然更上一层楼。这种硬件设备的升级，其服务器的成本控制 和业务需求需要权衡再三。
其次，根据不同服务器的角色选择不同配置的服务器，以使其角色任务更好 地完成。NameNode节点存储了文件系统中所有的元数据，哪一个文件由那个数 据块组成，这些数据块分布在哪些DataNode中，有多少可用的数据块，这些数 据块在哪些主机上，如果没有NameNode, HDFS上的数据将变得完全不可用。 由于NameNode需要保证多台服务器，甚至成百上千台服务器的快速文件访问， 故所有这些信息都会驻留在内存中，保证访问速度。所以在NameNode中内存的 消耗量更大，对内存的要求更高。故选择NameNode节点服务器时需优先考虑良 好的内存配置。DataNode节点是Hadoop集群中主要的工作节点，它承担两种角 色：一是存储数据，二是执行Yam子任务。一般而言，对于存储数据的机器需 要进行数据备份来保证数据的安全性，如使用RAID,但是由于Hadoop在软件 上己经实现数据备份，即2丄1节中介绍的数据块备份数，故DataNode无需使用 RAID,可以节省更多服务器的硬盘资源。除了存储数据，DataNode还需执行Yam 子任务，由于各种任务类型并不一致，有CPU密集型、内存密集型等，此处的
服务器配置侧重点难以确定，且Hadoop有计算层面的冗余，一般无需特殊考虑， 但也要保证一定的处理性能。故DataNode在保证磁盘存储的良好性能之外，仍 需要平衡服务器的计算处理能力。
再者，其他硬件配置和部署策略也对集群的性能有着一定影响。Hadoop集 群的通信方式基于标准的TCP/IP协议，故网络是一个和CPU、磁盘、内存同等 重要的部件。HDFS和NameNode需要依赖网络通信，执行子任务NodeManager 和任务调度ResourceManager需要亦需要网络通信。故根据集群的规模，确定网 络带宽是一项重要任务。同时，集群的部署策略也同样重要。如相同角色的节点 选择相同型号的服务器，减少服务器配置不同可能带来的冲突和性能下降；集群 节点的拓扑结构，如DataNode尽量靠近，尽量部署在同一个机架上，若在不同 机架尽量接入同一个交换机等，均有利于提升数据存储和并行执行子任务的性能。

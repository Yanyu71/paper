3.2方案设计
通过本章前述的性能评估方案的功能需求定义和分析，借鉴第二章中各研究 者对Hadoop集群性能的研究，并结合己有积累的分析系统管理经验，设计基于 Hadoop的网络大规模流量分析系统的性能分析评估方案如下。为了提高方案的 普适性，此处陈述方案的抽象步骤，具体详细的实现方法由后续章节介绍，这些 抽象步骤可适用于不同的集群或者系统，其中各抽象步骤的具体实现方法需要根
据实际情况确定。
基于Flume的性能数据采集 系统，采集共8类、42项性 能数据	/
图3-2评估方案整体架构图
评估方案的整体架构如图3-2所示，总共分为4大部分，现将一一介绍各个 部分的主要内容。
确定分析系统（集群）性能状态的评估标准
根据分析系统（集群）的实际应用场景确定其性能状态的判断评估标准。由 于分析系统的主要功能是对数据进行基础统计分析，故选取Hadoop自带的三个 基准应用程序：Pi、WordCount和TeraSort的运行时间作为其性能状态的判断评 估标准。
采集积累分析系统（集群）的相关性能数据
结合分析系统（集群）的管理经验和各研充者对于集群性能相关的研究成果，确 定对于分析系统（集群）重要的性能数据。该过程需要对相应系统（集群）进行 长期的积累研究，需要多次迭代分析才能更准确地确定重要的性能数据。对于该 分析系统，暂时选取42个性能数据，主要包括服务器性能数据和Hadoop性能 数据。
关联性能数据和评估标准，对二者进行建模分析
采集积累一定数量的分析系统（集群）的性能数据之后，选取合适的建模方 法，分析确定影响分析系统（集群）的重要影响数据，作为性能优化的方向指导； 并以历史数据确定性能数据和评估标准的相关性，建立预测模型，最终可以通过 该模型预测评估标准，即标准应用程序的运行时间，作为性能评估的标准。此处 通过线性和分线性两种分析方式来分别对性能数据和评估标准进行建模分析，对 比不同分析方法的优劣性。	-
根据分析结果进行性能优化和评估
在第三步中，通过建模分析得到的分析系统（集群）的重要影响薮据，作为 性能优化的指导方向，借鉴己有的各研究者的研究成果，针对相应的性能数据进 行优化，可以通过升级硬件、参数调优等多种方式实现。根据历史数据建立的预 测模型的预测结果，作为性能评估的标准，对分析系统（集群）进行性能评估， 该评估结果可以作为分析系统（集群）普通使用者的使用参考，便于使用者选择 分析系统（集群）的最佳使用时间，提升使用体验，提高分析系统（集群）的工 作效率。

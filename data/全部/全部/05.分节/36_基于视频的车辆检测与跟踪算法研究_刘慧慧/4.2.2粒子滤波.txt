4.2.2粒子滤波
20世纪40年代由Metropolis等人提出蒙特卡洛方法，70年代使用了一种序 贯重要性釆样的算法 S7S'(sequential importance sampling),在 1999 年，SIS 这类算 法总结成粒子滤波的概念被Carpenter等人提出。
粒子滤波算法网的基本思想是利用一组带有权重的随机样本点，来估计后验概率密度。假如使用M个粒子的集合为｛成成｝,这些粒子是从后验概率分 布的状态空间中抽取而来的，各个粒子的权值为｛w；,...,就｝, M个粒子的累加 和为1,在时刻上的后验概率密度表达为：
川）=￡试心* -**）	（4-8）
;=1
因此对函数/（x°,D的期望表达是：
E（/Go,D）= ￡M，（x?）	（4-9）
kl
由于直接从后验概率密度中抽取合适的样本比较困难，如果粒子样本选取的 不够有效，会增大估计方差，从而严重影响跟踪效果。重要性釆样可以提高釆样 的效率，解决了从后验概率分布中抽取样本的困难，具体方法从己知且比较容易 釆样的分布q（x°* lm）中釆样得到：
E（f｛xO ky）= J f（x0k）p（x0 k \yu）dxO k
=f，（如g（*°* I 財％	（4T0）
=_|7（工倾）>%冬（气* I yXJ［）dxo k
最后通过公式推导得到重釆样之后的N个粒子及其权重为：
试=”场业（乂 W	（4-11）
0（* I Xfi%）
其中％代表马尔科夫假设，p（yk |X；）是似然函数，P（WIK『4）是概率转移 函数，4（出工52土）是重要性采样分布。一般比较常用的分布是先验分布。
g（K I Xf 2,乃）=P（xk I <1）	（4T2）
对于上述算法来说，由于采样粒子数有限，在经过若干次迭代之后，很多粒 子的权值变得很小，最后只有很少的粒子的权值比较大，这也就是所谓的粒子退 化现象，然而退化的现象对于重要性采样来说不可避免，因此接下来还需要对粒 子进行重釆样操作。
重釆样的基本原理是在t-1时刻，粒子近似拟合了先验概率，通过系统的观 测计算出权值，对那些权值比较大的粒子重新釆样出若干新的粒子，并舍弃权值 较小的粒子，从而形成一组新的粒子去预测，时刻目标的状态。重釆样算法对每 次得到的粒子重釆样N次，用产生的新的粒子集合描述后验概率密度函数，其 中SZ7?（Sampling Importance Resampling）归一?化粒子权重作为概率从粒子集合中 均匀的抽样，使得粒子被映射成新的加权粒子。
知基于粒子滤波的跟踪算法不受非线性非高斯的限制，能很好的解决这些情况 下的视频车辆跟踪问题。为了能够提高跟踪的准确性，下面将通过改进观测模型， 提高粒子滤波在不同环境下的鲁棒性。

3.1.2光流法
光流法主要是利用物体光流场随时间变化的特性。十九世纪五十年代，光流 场的概念被Gibson提出，在计算机视觉领域是重要的突破。当物体运动时，图 像序列中的灰度分布会变化，光流场法是通过图像中的模式运动速度，来反映图 像上每一个像素点的变化趋势。因为外界的运动场景变化会在人的眼睛里产生连 续'光’的流动，因此称为“光流"。在1981年，Hom和Schunk[10]提出了一种光流 场的计算方法。光流场是一个二维矢量场，包括场景物体的三维结构，各个像素 点运动速度矢量等信息。
具体来说，利用光流法检测运动物体的原理是：整个图像形成一个运动矢量 场，每个像素点都有自己的速度矢量，从而在投射的三维空间内根据速度矢量特 征，对图像中的像素点进行动态分析。由于目标相对于背景的运动引起矢量不一 致，从而对运动目标进行检测。具体计算方法是：假设E(x,y,t)是图像中像素点 (x,y)在时刻7的灰度表达，那么假设在，+也时刻该点运动到(X +必迎+ *),它的 光照强度为E(x + dx,y + cfy,t + dt),对应于同一点，根据光流约束方程：
E( x,y,t) = E(x + dx,y + dy,t+ dt)	(3-3)
其中 Ex = dE/dx , Ey = dE!dy , Et dE/dt, u = dx!dt , v = dy /dt a 每个图像 的像素点的运动矢量为(払v),并且需要注意的是，这里的速度是一个矢量，包 含运动大小和运动方向信息。在摄像机固定不动的情况时，理想条件下，只有前 景的运动才会有光流动，因此可以计算出亮度的梯度方向，也即sqrt^+v1), 而通过光流约束方程，比较容易求到梯度的光流速率。
V = abs(Et / sqrt{Ex xEx + Eyx Ey))	(3 -4)
通过设置一个阈值T,当/〉7时，像素点(xj)被认为是前景点，当丫＜T, 像素点是背景点。
图3-4光流法检测
在没有获取场景信息的情况下，光流法仍然可以检测物体的运动，并且光流 法的前提是物体表面光的入射强度是一致的，因为如果不满足这个条件，将无法 应用光流约束方程。光流法有很多缺点，从图3-4可以看出，实验结果受到噪声 的影响比较大。光流法比较容易收到光线环境的影响，对噪声相对敏感，并且光 流法的计算量偏大，运算复杂，因此不适合对实时性要求高的场景，这个方法只 适合在简单，较少变化且实时性要求不高的场景下。

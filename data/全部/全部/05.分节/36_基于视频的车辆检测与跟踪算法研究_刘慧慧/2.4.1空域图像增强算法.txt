2.4.1空域图像增强算法
空域的图像增强是对图像中像素灰度值进行特定的增强处理操作，一般来说, 空域图像增强主要有灰度变换和直方图均衡化处理方法，下面将对这两个方面进 行介绍。
(1)灰度变换主要是通过变换操作将图像灰度映射到不同的范围内，从而有选 择地增强感兴趣灰度区间的目的。变换函数有很多种，其中线性变换，非线性变 换，分段线性变换是比较常用的几种。假设处理前图像像素的灰度值为 D= /(x,*)为图像坐标，处理后图像像素的灰度值为D'=f(x,y),则 灰度变换的函数可以表达为：
g(x,y)=T[f(x,y)] (2-9) 处理前灰度值D和处理后灰度值D'必须要在灰度表示范围以内，变换函数通过 建立输入灰度值和输出灰度值的转换关系，从而计算得到映射后图像。灰度变换 函数处理的最小单元是单个像素值，整体上通过调整图像像素所在的灰度范围而 使得处理后的图像得到良好的视觉效果，在灰度变换的时候像素点之间的关系是 独立的，并不会加入像素点之间的关联信息。
灰度线性拉伸是一种基本的灰度变换，其中常用的是分段线性变换，如下图所 示：
图2-7分段线性变换
从图2-7可以看出图像部分区域进行了压缩操作，部分区域进行了拉伸，分 段线性变换通过确定不同的分段区间以及不同分段区间各自曲线的斜率等来对 图像中任意灰度区间进行拉伸和压缩。具体可以根据图像的原始灰度分布来确定 是通过拉伸压缩部分哪些灰度区间来改善图像视觉效果。
(a)原图
(C)灰度变换图
图2-8图像灰度变换
图2-8将图像首先从彩色空间转变为灰度图，再进行灰度变换得到2-8 (c), 可以看到灰度变换后图像相比于变换前来说，对比度有显著提高。
(2)直方图广泛应用于各种空间域图像处理技术。直方图均衡化是利用直方图 进行图像对比度调整，当一幅图像对比度不高时，可以通过这种方法把亮度信息 在直方图上分布开，增强图像的局部对比度。假设原始图像用/'(X,7)表达，直方 图均衡化后的图像是跟g(x,y),那么从图像f到g的映射关系用函数表达为： g =心)	(2-10)
假定图像的灰度级是K,以上函数必须要满足两个条件：首先是龙co函数必 须是一个单调递增函数，从而保证原始灰度级次序没有被打乱，仍然符合从黑到 白的次序。其次是变换后g具有与/一样的灰度动态范围。直方均衡化一般采用 的映射函数是累积分布函数，累积分布函数是对概率密度函数的积分表达，在直 方图均衡化问题上计算方法为：
ht (/) =/ n,	f = 0,l,2,上一1	(2-11)
表示灰度级为，时的像素个数，”为图像中的像素总数。通过以上公式可以 知道，直方图归一化之后所有部分的和为1。直方图所做的操作属于一种非线性 拉伸，它改变整个的直方图分布，将原本或密集或稀疏的灰度空间变得均匀分布。
本文中对彩色图像进行直方图均衡化，即将彩色通道中亮度通道进行直方图 均衡化，结果见图2-9,相比于图2-8(a),图像的对比度有了直观的调整。
图2-9直方图均衡化

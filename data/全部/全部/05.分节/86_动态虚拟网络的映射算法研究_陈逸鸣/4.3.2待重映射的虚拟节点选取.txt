4.3.2待重映射的虚拟节点选取
在确定了过载重要底层节点的集合后，需要进一步确定待重映射的虚拟节点 集合。对于每一个虚拟网络，其原有的映射方案都是根据虚拟网络请求到达时刻 的底层网络状态进行的资源分配。随着底层网络负载状态的不断变化，部分虚拟 网络请求的原有映射方案已经不再是当前的较优映射方案，对这部分虚拟网络的 映射方案进行调整可以有效地降低链路映射开销，保证后续虚拟网络请求的接受 率。本文以优化虚拟链路映射开销为目标选取待重映射的虚拟节点，对于过载重
要底层节点ns上承载的虚拟节点nv ,其相邻虚拟链路的映射开销收益比CR（nv） 可以通过公式（4-29）进行计算：
其中neigh（nv）表示虚拟节点的邻居节点集合，顷（勺）表示虚拟节点«v 的邻居节点为所在的底层节点，hops{ns,MN{n^表示底层节点％与换佃）之间 的最短路径包含的跳数，6（nv,n;）表示虚拟节点nv与虚拟节点«,•之间的虚拟链路 带宽需求。对于任意一个过载重要底层节点％,本文以最小化重映射虚拟节点数 量为原则，首先通过公式（4-29）计算其上承载的各个虚拟节点的链路映射开销 收益比，随后将各个虚拟节点按照链路映射开销收益比降序排列，若重映射前m 个虚拟节点后，重要底层节点心的负载率低于阈值，则将这m个虚拟节点加入 待重映射的虚拟节点集合。
对于重映射的先后顺序这一问题，优先重映射值较大的虚拟节点可 以更为显著地增加底层网络中的剩余带宽资源并提高后续重映射操作的成功率 与重映射效果，因此本文选择将待重映射的虚拟节点集合中的各个节点按照其
值的大小进行降序排列，并依次进行重映射。

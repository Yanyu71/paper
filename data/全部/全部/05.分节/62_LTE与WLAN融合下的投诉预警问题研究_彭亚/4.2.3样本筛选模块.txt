4.2.3样本筛选模块
由于投诉的特殊性，即投诉工单上记录的小区CI与出现问题网络（即关键 字）不符的情况高达30%。此外，由于客户往往在网络出现问题一段时间后才进 行投诉，此时投诉工单上记录的投诉时间也并非网络出现故障的时间。时间上的 延迟和空间上的错位，致使在将投诉与KPI关联的时候，关联（也就是分类）错 误的概率远远超出30%。如果利用这些存在较多错误的样本对分类器进行训练, 分类器的分类效果将大打折扣，甚至无法进行分类。为解决样本数据不准确的问 题，本文提出了一种基于邻域理论的样本筛选模型，对样本进行修正，从而提高 预测精度。
33
对于样本集，第i个样本可表示为为=｛（尺，考，牙，口，町）,力的｝淇中只到¥
是样本的属性，flag是样本的类别。对样本进行筛选的具体步骤如下:
[1].将样本的属性进行归一化，即：
a?* =琢―泮"
人 i	xtnax_xmin
(4-1)
其中，0 < x?* < 1, x『in = min｛x：,xj,	xpax = max｛xhx《 ...,x『｝。
[2],计算每个样本与其他样本的样本空间距离，采用欧式距离，即：
L（X"Xj）=（弗忖*-x『「） /I	（4-2）
[3]	.按照事先给定的数值，给每个样本划定一个最优范围R,统计范围内flag=l 的样本个数为m, flag=O的样本个数为n.
[4]	.计算Rate = m/n的值，将其与最优Rate做对比，重新赋予flag。若某个 flag=O的数据周围都是flag=l的数据，m/n大于最优Rate,则重新分配其flag=l.
[5],将重新分配的flag与原始flag做对比，若一致则保留.若不一致则删去.
初始化R=Ro、Rate=P0,训练样本为M,验证样本为N,得到最优R、Rate 的过程如图4-4：
Begin
训练样本M,验证样本N, 初始化 R - Ro, Rate - P@
\接近程度C = 0,迭代次数t=。.
x.	■ ■	“
图4-4 R与Rate优化过程图
34
样本筛选模型流程如图4-5：
图4-5样本筛选模型
首先输入由“投诉关联”模块得到的关联数据；计算每组KPI指标与其他组 KPI指标之间的欧氏距离。两组KPI指标之间的欧氏距离越小，说明两组KPI指 标越接近。根据样本，选定一个距离值，并进行迭代优化得到最优，对于“投诉 flag=O”所对应的那组KPI指标,查看其范围内是否有“投诉flag=l,,KPI指标出现, 若有，说明该组KPI指标与投诉的关联不可信，其所在的记录应当被删除。只有 范围内没有“投诉flag=l"KPI指标出现的“投诉flag=O”的KPI指标，其与投诉的 关联才被认为是正确的，应当被保留。由于“投诉flag=T的KPI指标较少，所以 不对其进行筛选的动作。本流程结束后，所得到的结果样本集M*将作为训练样 本，训练投诉预警模型。

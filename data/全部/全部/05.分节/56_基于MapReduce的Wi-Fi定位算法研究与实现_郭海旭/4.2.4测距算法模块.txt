4.2.4测距算法模块
第三章指出室内环境下，AP节点的信号强度会根据距离的增减情况发生变 化。传统的算法对距离和信号强度的处理过于简单，导致建立的RSSI和距离的 映射关系并不准确。而复杂的处理虽然能够使结果变得准确，却要牺牲大量的运
35
算量，连通信的开销也会大大增加口也在测距算法模块中，将利用预处理数据 中的RSSI值作为输入，使用局部线性回归算法对距离作参数估计，建立RSSI值 和该RSSI值的距离的映射关系。线性模型形式简单、易于建模，蕴涵着机器学 习中一些重要的基本思想。由于信道噪声的存在，该映射是一对多的映射关系， 一个RSSI值对应一个距离区间，研究表明，在某个距离下的信道噪声服从高斯 分布。根据信道噪声的概率密度函数可以计算得到当前RSSI对应的距离以及该 距离的概率。
综合上述结论，当测距算法模块接收预处理数据中的一个RSSI值时，将输 出一个以该AP为中点的距离范围，该范围根据统计数据得到。然后，分别计算各 距离的权重系数，保证距离中点近的距离权重系数大，距离越远，权重越小。测 距算法模块流程如图4-7所示。
36
图4-7测距算法模块流程图
虽然使用局部线性回归作为核心算法建立的匹配测距模块具有不错的精度， 但该算法需要反复验证、不断迭代才能确定最终的参数。为了减少训练所需要的 时间，该模块利用Hadoop分布式集群可以使用Map-Reduce思想进行编程的优 势，对预处理数据做并行处理以满足实时定位的时间要求口句。基于Map-Reduce 实现的测距算法模块如图4-8所示。
37
验证集
No-I
No——
图4-8基于Map-Reduce的测距算法模块流程图

2.5Wi.Fi定位算法简介
定位算法是Wi-Fi定位系统的核心，优秀的算法不仅可以提升定位精度，还 可以提高定位系统的执行效率，节约时间成本。定位算法的分类方式有很多，文 中大致将算法分为两种，一种是匹配算法，另一种是测距算法。
(1)匹配算法是通过预先设定一组特征向量，当待测节点扫描当地AP节点 的信号获取数据后，经过数据预处理也将得到一个特征向量。如果该向量与预先 设定的某个特征向量相似，则可以判定待测节点就在预先测试的某一个位置附 近，进而达到预测位置的目的。根据这个原理，常用的匹配算法包括Centroid 算法、RSSI位置指纹匹配算法和非定形算法等。
(2)需要测距的定位算法的实现一般包括两步。第一步是测量待测节点相对 于参考点的距离或方向；第二步是定位阶段基于测量的距离利用几何关系计算要 待测节点的坐标。第一个阶段相当于是训练阶段，主要目的是获取使误差最小的 位置信息与距离的映射函数；第二个阶段是定位阶段，利用三个不共线的圆必有 相交的一点或区域的特性，结合训练阶段的距离公式即可实现定位，训练阶段和 定位阶段的实现方式如下：
①训练阶段：实际应用中可以将信号接收和发送的时间、信号强度、信号接 收的角度等AP节点的信息换算成待测节点与AP节点的距离。根据换算方式的 不同则出现了几种不同的测距算法，比如TOA、TDOA和AOA等技术。但工程 中使用最多的还是基于RSSI与距离映射的函数。大部分关于测距算法的研究都 是围绕RSSI与距离的映射关系开展的，而三角定位法、三边定位法都是基于这 -映射关系而产生的。在本文中，同样也将使用基于RSSI的测距技术用于设计 测距阶段的算法。
②定位阶段：事实上，定位算法的主要区别是定位阶段的执行方法不同。在 本文中，我们提出了局部线性回归和位置加权相结合的定位方法，并使用梯度下 降迭代方法来解方程，计算待测节点的坐标。
研究中通过广泛调研，对匹配算法和测距算法的优劣进行了详细的评估，下 面将依次介绍匹配算法的Centroid质心算法和RSSI位置指纹匹配算法，以及测 距算法的三边测量法和ToA、TDoA、AoA算法。

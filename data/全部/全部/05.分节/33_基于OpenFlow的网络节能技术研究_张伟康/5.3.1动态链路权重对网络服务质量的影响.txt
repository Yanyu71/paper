5.3.1动态链路权重对网络服务质量的影响
Floodlight控制器的Topologylnstance模块中实现的Dijkstra算法时，链路权 重是固定的，都为1。固定链路权重的路由算法不能根据网络负载状态计算出最 优路由，所以本文为控制器加入LinkCostManager模块，实现动态链路权重。本节给出了动态链路权重和固定链路权重对网络服务质量的影响。
图5-2平均带宽利用率和丢包率随流量负荷变化的关系图
图5-2(a)和(b)中的网络拓扑选用k=4的Fat-tree拓扑，在该拓扑中有20台交 换机和16台网络主机,网络流量负荷釆用了 0.1-1十组数据,采用概率流量模型， 各个通信流之间的间隔是5s,通信流持续时间为120s。
图5-2 (a)给出了在固定链路权重和动态链路权重两种情况下，平均带宽利 用率与流量负荷的关系。当网络流量较低(流量负荷小于0.2)时，平均带宽利 用率均为1,表示当前网络的拥塞情况良好，网络中主机间的通信都能到达设定 的带宽速率。随着流量负荷的不断增加，网络的拥塞程度不断严重，所能到达的 平均带宽利用率也在不断降低，当流量负荷达到1时，降为最低值。从图5-2(a) 中，可以明显地看出在相同的流量负荷下，动态链路权重下的平均带宽利用率优 于固定链路权重。
从图5-2 (a)中也看到，动态链路权重相对于固定链路权重，对平均带宽利 用率的提高相对有限。这是由于网络中出现严重的拥塞，网络中缺少有效的负载 均衡策略，在一定程度上造成了平均带宽利用率的损耗。图5-2 (b)描述了网络 的丢包率随着流量负荷的变化曲线，与图5-2 (a)类似，在流量负荷较低，丢包 率较少，随着流量负荷的不断增加，网络中的丢包率也不断增加。

2.3.2Floodlight控制器
Floodlight作为一款企业级跨平台的网络控制器，具有以下的特点：
?模块化的加载系统，可以非常容易的加载和扩展控制器功能系统；
?支持虚拟和物理的OpenFlow交换机；
?支持OpenFlow网络和非OpenFlow网络的混合组网；
?具有较高的性能，可以达到企业级的使用标准；
?支持OpenStack云管理平台；
?在较小的依赖下即可运行；
?广泛地支持各个主流厂家的OpenFlow交换机。
Floodlight项目是Github上的一个开源项目,使用者可以轻松的获取项目源 码。Floodlight控制器釆用模块化的结构来实现控制器功能和应用，主要的模块 主要包括事件管理模块(FloodlightProvider)、拓扑管理模块(Topology Manager) > 链路发现模块(LinkDiscovery)、设备管理模块(DeviceManager)、转发模块
(Forwarding )o
1.事件管理模块
事件管理模块主要负责了两大主要功能。?首先，FloodlightProvider负责了与 OpenFlow控制器的连接(通过Netty架构)，并将接收到的OpenFlow消息转换 为对应网络事件，从而其他监听该事件的模块可以对OpenFlow消息做出处理。 其次,FloodlightProvider可以决定监听网络事件的模块处理对应消息(Packetin、 FlowRemoved、PortStatus等消息)的顺序，模块处理对应的消息时可以决定将 消息继续按照次序传递依次处理还是结束处理消息的流程。
2.拓扑管理模块
拓扑管理模块主要负责维护网络的拓扑信息，并且为网络计算最短路由路径。 拓扑管理模块是通过从链路发现模块获取的链路信息计算网络拓扑。在拓扑管理 模块中，有个OpenFlow域(island)的概念，OpenFlow域是由OpenFlow交换 机互相连接构成的拓扑，不同的OpenFlow域之间可以通过非OpenFlow交换机 进行连接。拓扑管理模块会将所有的拓扑信息保持在一个不变的数据结构 (Topologylnstance)中，如果网络的拓扑发生任何的变化，一个新的实例将会 被创建，然后拓扑变化的通知消息将会被发出，从而其他监听拓扑变化通知消息 的模块将会接收到该消息。
3,链路发现模块
链路发现模块主要负责发现网络中的链路信息，并且保持网络中链路的状态。 链路发现模块通过链路发现协议LLDP和BDDP消息来发现网络中的链路。如 果LLDP数据分组从一个端口发出去，另外一个端口收到了同一个LLDP数据分 组，这就说明这两个端口是直连的，从而会建立一条直连链路。如果一个BDDP 分组从一个端口发送，从其他的端口收到了该分组，说明两个交换机之间有控制 器无法控制的二层交换机，就会建立一条广播链路。
4,设备管理模块
设备管理模块主要负责记录在OpenFlow网络中的设备信息。设备管理模块 从Packetin请求消息中获取设备信息，并且通过实体分类器将设备进行分类。在 默认情况下，实体分类器是使用MAC地址和VLAN来标识一台设备，设备管理 器也可以获取其他的信息比如IP地址、最后一次观察到的时间信息，还可以获 取设备上次接入交换机的DPID及端口。
5.转发模块
转发模块主要是负责将数据包在两个设备之间进行转发，源主机和目的主机 主要是通过IDeviceService进行标识。由于Floodlight控制器是支持OpenFlow网 络和非OpenFlow网络的混合组网，所有转发模块也必须将混合组网的情况考虑 在内。为了实现这个目的，转发模块会找出所有的源主机和目的主机的OpenFlow 域,然后转发模块就会把沿着最短的路径路由将相关的流表下发到对应的交换机 上。如果在OpenFlow域中收到Packetin消息，但是在OpenFlow域中没有该设 备的依附点，那么这个数据包将会被广播出去。

2.2时间序列分析
时间序列分析就是用数据统计学原理分析时间序列中所包含的规律。时间 序列分析起源于20世纪20年代，在金融学领域取得重大成功。时间序列分析 主要有频域分析方法和时域分析方法两大类。
频域分析方法也叫做“谱分析”，它源自于传统的信号与线性系统领域。这 种方法从频率的角度研究时间序列隐含的数学规律，它假设任何一种时间序列 所构成的无趋势的波形都可以表示为若干个不同频率的正弦分量的和。然而频 域分析方法过于复杂，在数学方面往往需要很强基础，成本较高，而且分析得 到结果较为抽象，具有很大的局限性，而且直观解释性差。
而时域分析方法主要从时间序列自相关的角度揭示时间序列的内在发展规 律。这种方法没有从时域到频域的转化过程，因而算法复杂度低，便于分析， 是目前科研各领域的主流分析方法。此外，分析的过程直接在时域，得到的分 析结果解释性强。时间序列分析的本质过程就是寻找一个最优的函数模型来拟 合观测到的时间序列样本，函数的自变量是时间，因变量是时间序列的值。常 用的函数模型为自回归模型(AR, Auto Regressive),滑动平均模型(MA, Moving Average)和自回归滑动平均混合模型(ARMA, Auto Regressive Moving Average)。
自回归模型自回归模型主要的思想是自回归，即当前的时间点表示为历 史时间点的有穷线性组合，另外再加上一个随机冲击项：
便称为p阶自回归(AR)过程。其中，z,,z,t，z_2,…为时间序列在具有相 同间隔的时间点上的值，…为关于均值〃的偏差，此外 iW 足 Z, = Z,—卩。
定义P阶自回归算子为
妍)=]_伸_人32	州 BP	(2-2)
则自回归模型可以简单记为
。(明=。，	(2-3)
该模型中包含p + 2个位置参数卩艰奴,?..,齢*,其中a：为高斯白噪声过 程的方差，在实际中这些参数都是通过时间序列样本的训练得到。时间序列具 有平稳性和非平稳性，为了使AR模型满足平稳性，它必须满足零点在单位圆 外的约束条件，即自回归算子＜KB) = 1-臥BfB——°,3〃的零点都在单位圆 外，即对满足等式伽8) = 0的所有根到圆点的距离都必须大于lo
滑动平均模型 自回归模型把过程的偏差彼表示为尸个历史值 z,,zz_?v2,...的有穷线性组合，另外需要再加上随机冲击项q。滑动平均模型本 质上与自回归模型相同，把所有的方,都分解为随机冲击项的和，实际上就是q的 无限加权和。在实际运用中，由于时间序列都是有限的数据，因而在对时间序 列样本建模时，有限滑动平均模型更为实用。Z线性依赖于有限的q个的历 史值：
Z	- 喝-I - %-2	%a,_q	(2-4)
称为q阶滑动平均(MA)过程。同样，q阶滑动平均算子的定义如下：
8(B) = \-e,B-02B2	"	(2-5)
则滑动平均模型可简记为
Z= 0(B)%	(2-6)
该模型中包含0 + 2个位置参数〃，印％ ' ? ? ?，为高斯白噪声过程的 方差，在实际中这些参数同样都是通过时间序列样本的训练得到。
自回归滑动平均混合模型自回归滑动平均混合模型同时加入了自回归过 程和滑动平均过程，使得在实际时间序列的拟合中能具有较大的灵活性。
2 =格+。2泛一2 + * ? ? + ?礼p + 0 一 。2%_2	財_『	(2-7)
简记为以上几种模型往往在阶数不超过2的情况下能取 得较好的效果。
平稳性是时间序列中一个很重要的概念，如果一个时间序列是平稳的，它需要同时满足以下两个条件：
(1)均值函数是一个常数函数
(2)自协方差函数只与时间差值有关，而与时间点无关
事实上，在实际中许多时间序列数据都是非平稳的，比如微博热点事件的时间序列，具有非平稳特性。然而这种非平稳的时间序列在某种程度上仍然可 能具有一定的共性规律，这些序列的广义特征很有可能是相似的，比如具有季 节因素的时间序列，虽然整体的时间序列是非平稳的，然而其具有周期性，即 在每个季节是分段都是平稳的，每个季节分量围绕各自的均值而波动。这种典 型的周期特性或者广义特征通常可以用一个广义的自回归算子9(8)来描述，自 重自回归算子仞(B)的所有零点都在单位圆上。假设其存在d个单位根，则算子 夕(3)可写为
(2-8)
其中。(B)是平稳算子。这样，能够描述同质非平稳特征的模型具有如下形 式
甲(B)z产臥 B)Q_B)dz,=0(B)Zi	(2-9)
即
=0(B)a,	(2-10)
其中
w, =V"z,	(2-11)
因此，非平稳非遍历的时间序列数据可以通过这样的d阶差分转换成平稳 遍历的时间序列，然后用平稳的线性模型来描述，而在实际中，d通常取0或 1,最多为2。
以上公式表示为
叫=域叫_| +叫一2 + ? ? ? + 如叫_〃 + 劣 一	- 02a,_2	財^ (2-12)
称为(p,d,q)阶自回归求和滑动平均过程(ARIMA)o其中，如果取d = 0, 并用z,-n代替吗，则ARIMA模型变为基本的ARMA模型，包括了纯自回 归(AR)模型和纯滑动平均(MA)模型。
目前ARMA模型己被有些学者用来分析热点事件的时间序列特性,然而本 文通过仿真发现ARMA并不适合描述热点事件，热点事件的传播特性，以及其 时间序列的非平稳性使得时间序列分析方法解释性很差，而且拟合模型的阶数 并不固定，因而并不能作为分析热点事件传播规律的通用模型。然而时间序列 分析的基础理论，无论对后续的聚类分析还是建模分析，都具有重要的指导作 用。

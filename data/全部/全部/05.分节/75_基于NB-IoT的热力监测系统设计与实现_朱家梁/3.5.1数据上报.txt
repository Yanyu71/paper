3.5.1数据上报
近些年来，物联网业务类型众多，每种类型的业务都有自身的特点，从3Gpp 定义的特点来看，主要将NB-IoT业务模型场景分为3类：
数据上报类：主要应用于物联网终端设备主动上报数据的场景，终端上报数 据结束后，很快进入PSM状态，直至终端再次上报数据时从PSM状态唤醒。
命令下达类：主要用于满足向物联网终端下发控制命令的场景，为了使终端 能够快速地接收到下发命令并对收到的命令做出响应，该类场景下终端默认不开 启PSM模式，仅使用eDRX功能模式。
综合应用类：主要应用于物联网终端设备既需要数据上报又需要命令下达的 复杂场景。
由于目前NB-IoT终端配置PSM或eDRX相关参数定时器的方式不够灵活， 无法做到使用PSM状态与IDLE状态之间的自由切换，本文所使用的NB-IoT业 务模型为第一类场景。
32
NB-IoT基站通过以下两种协议来链接基站：
1.	CoAP协议通信链路：MCU（NB设备）一NB模块（UEXNode—核心网 —IoT渠道一APP效劳器」手机终端APP
2.	UDP协议通信链路：MCU（NB设备）一NB模块（UE）~~eNode—核心网 —UDP效劳器一手机终端
结合2.2.2章节所述的CoAP协议特点分析以及对物联网环境的适用性分析， 本实验使用第二种方式来链接基站。
和常见的嵌入式通信设备类似，NB-IoT终端设备也采用串口与MCU直接 进行通信。首先，在此模式下，开发者的物联网终端设备可以通过NB-IoT通信 模组发送请求数据到相应的CoAP服务器;之后,NB-IoT通信模组接收来自CoAP 服务器的命令下达。在此过程中，使用者无需了解NB-IoT终端设备的数据与网 络数据包之间数据转换的具体实现方式，通过简单的参数配置，就可以实现 NB-IoT终端设备与CoAP服务器间的双向通信；最后，通过云平台提供的通用 接口将数据导入后台应用程序。

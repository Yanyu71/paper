3.1系统架构设计
在当今的物联网生态体系当中，智能物联网设备之间相互通信的方式是多种 多样的，这些交互方式基本是由智能物联网设备所采用的物联网协议所支持的通 信模型决定，例如，HTTP协议支持的客户/服务端模型、MQTT协议支持的订 阅/发布模型等口叫从第二章的研究和分析中可知，NB-IoT协议所采用的通信模 型是客户/服务端模型，存在两种基本的通信角色，即NB-IoT客户端设备和对应 的服务端。
基于NB-IoT协议的热力监测系统主要包含三个部分,即NB-IoT终端设备、 IoT云平台、第三方应用服务器，NB-IoT系统结构如图3-1所示。因为NB-IoT 模块与设备终端是组合在一起的，所以对NB-IoT系统中存在的底层硬件设备统 称为NB-IoT终端设备。终端设备通过NB-IoT模块联网，使用NB-IoT的底层通 信协议将数据信息进行编码并发送至基站。
其中，基站为设备提供无线通信，而核心网则是由分组核心网EPC等组成， 这些是目前已有的基础通信核心网设备。运营商IoT平台则是由关键信令控制设 备以及IoT平台一起组成，该平台是对外提供接口的物联网平台。第三方应用服 务器通过IoT平台提供的接口，与IoT平台完成对接，通过订阅通知机制获取来 自NB-IoT终端设备的数据，通过命令下行接口来实现定义事件的触发。NB-IoT 的功能层次如图3-2所示。
基站	核心网	IoT平台
图37 NB-IoT系统架构图
15
具体应用层
运营商IoT平台
NBToT网络
底层传感设备
图3-2 NB-IoT功能层次图
NB-IoT网络架构主要包括：行业终端、NB-IoT模组、基站、核心网以及IoT 云平台等部分。其中，基站部分重用站点基础设施，有效降低部署成本；核心网 部分支持终端安全接入，有效适配时延不敏感终端，并优化了拥塞控制以及流量 调度机制；IoT平台支持应用层协议适配，并具有事件订阅管理机制。NB-IoT 网络架构图如图3-3所示。
图3-3 NB-IoT网络架构图

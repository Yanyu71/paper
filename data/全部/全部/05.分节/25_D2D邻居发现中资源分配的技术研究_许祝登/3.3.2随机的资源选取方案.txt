3.3.2随机的资源选取方案
随机的资源选取是一种相对简单的资源选取方案，UE在每个发现周期会从 资源池中随机地选择一个或多个DRBs作为发送发现信号使用的时频资源。这种 资源选取的方案有需要以下两个问题，
(1)半双工的问题。全双工的通信模式因为会带来很强的自干扰而去干扰 的花费很高，因而不被采用。因此邻居发现采用的是半双工的通信模式。工作在 半双工模式的D2D设备不能在发送发现信号的同时接收其他设备发送的发现信 号。因此，如果两个邻近的设备在一个发现周期选择了同一个子帧中的资源块用 于发送发现信号，这两个设备在这个发现周期都无法发现对方。因此，随机的资 源选取方案不能保证邻近的设备在一个周期内能发现彼此，但经过多个发现周期 后半双工的影响会减小，如果信道条件比较好，邻近的设备经过一定的发现周期 还是能够发现对方。
(2)资源选取冲突的问题。因为设备之间没有相互的协调，多个设备可能 会选取相同的资源块来发送发现信号，把这种情况定义为资源选取的冲突。如果 两个邻近的设备发生了资源选取的冲突，对于它们共有的邻居设备来说，它们发 送的发现信号在这些共有的邻居设备处将相互干扰，从而造成它们共有的邻居设 备对这两个设备的发现变得更加的困难，如果干扰特别严重，有可能根本就无法 发现。
下面将给出了采用随机的资源选取方案时，对发现概率进行数值分析的近似 模型，模型对发现条件进行了简化
(1)如果多个设备选择了相同的资源块用于发送发现信号，则这些设备都不 能够被其他的设备发现，可以理解为如果资源选取有冲突，则有冲突的资源块中 的发现信号的相互干扰将使得它们都不能被其他设备发现。
(2)如果设备A选择的资源块是其他设备都没有选择的，而设备B选择的资 源块跟设备A选择的资源块不在一个子帧，则设备B可以发现A。这里假定了 发现信号能够覆盖整个小区。
由以上两个简化的条件，可以得出平均的发现概率
23
(3-4)
其中N是发现子帧的个数，k是一个子帧内发现资源块的个数。通过仿真可以 看出这个模型与实际场景下的结果是很相近的。
图3-8给出了分析模型和实际仿真情况下，发现概率随分配的子帧数的变化。 其中的仿真参数见表3-1。为了表示清楚，图3-8给出了用户数分别为150、250、 350时实际仿真得到的发现概率和分析得出的发现概率，可以看出实际的发现概 率和分析岀来的发现概率是很接近的。通过大量的仿真发现不管用户数为多少, 实际的发现概率和分析的发现概率的取值都是很接近的。所以可以把这个发现概 率的模型作为后续分析的基础。
表3-1.仿真参数配置
蜂窝半径	250 m
载波频率	2.0 GHz
信道模型	路径损耗+阴影衰落
路损模型(PL)	PZ = 128.1 + 37.6 log】。d(km)
阴影衰落	标准差为7dB的对数正态分布
D2D UE的发射功率	23dBm
每个RB的噪声功率	-121.4473dBm
2
4	5
分配的子懒数
6	7
图3-8.单个发现周期的平均发现概率随分配的子帧数的变化
,5
4 3 2 O.O.0.
.6
O.
0
24

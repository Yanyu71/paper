2.2Ibatis
Ibatis是一款基于Java的轻量型开源持久层框架，在2001年由Al inton Cegin 发起提出，主要用来完成对关系数据库的对象映射⑹。它对JDBC做了非常轻量 级的隐藏和封装，通过它能够实现以操作对象的方式访问数据库，使得熟悉面向 对象思想的Java开发人员能够很方便地对数据库进行操作。不同于其它的“一 站式”对象关系映射方案，如Hibernate、ApacheOJB等，Ibatis是一种“半自动 化”的对象关系映射实现。所谓“半自动化”是指，Ibatis需要开发人员手动编 写SQL语句，这为系统开发增加了更大的自由度。
Ibatis的持久化是通过XML配置文件来予以实现的。具体地，需要两个配 置文件，一个文件用来配置Ibatis本身的一些属性、缓存机制以及数据源等；另 外一个是映射文件，实现数据表映射到模型层的对象。
Ibatis架构主要由SQLMap和数据访问对象两部分组成。其中，数据访问对 象可使得开发人员通过其提供的接口访问数据库，而不需要知道其数据库访问的 具体实现，减轻了开发人员的工作量。SQLMap作为Ibatis最核心的组件，通过 简便的配置文件将JavaBean、Map实现和基本数据类型包装类等映射成JDBC 的查询对象(PreparedStatement)。其具体的工作流程如下：
1.首先，将对象(包括JavaBean、Map实现、基本数据类型包装类等)作 为一个参数，此参数将用于替换SQL语句(可以是增加语句、查询语 句、修改语句等)中的参数。
2.其次，执行映射后的语句(mapped statement)。SQLMap将根据配置文 件(SqlMap.xml)创建一个查询对象的实例，用上述的参数对象为该查 询对象的实例设定参数值，然后，执行查询对象并从结果集中创建结果 对象。
3.最后，根据操作类型返回不同的结果对象。即，如果执行的是更新操作,
则返回更改的行的个数；如果执行的是查询操作，则返回一个对象或对 象集明
与Hibernate相比，Ibatis具有以下的优点：
-• Ibatis很小并且简单易学；Hibernate则比较复杂，入门的要求比较高。
•灵活性更高。Ibatis对数据的操作全开放，具有很高的灵活性；而Hibernate
的“全自动化”封闭了内核，导致灵活性较低。
・高效率。Ibatis在访问数据库时不需要解析SQL语句，因此，其执行速 度比较快。而且，随着社会的发展，数据量越来越大，用户对性能的要 求也越来越高，Ibatis的“半自动化”使得开发人员可以自己手动编写 高度优化的SQL语句或存储过程来满足系统的性能指标。
综上所述：由Web开发的发展趋势和巡检行业数据量庞大的特征决定了智 能巡检系统在开发时，选择Ibatis作为我们持久层框架。

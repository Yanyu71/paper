4.2.2硬件和软件平台
本节将分为A,B部分，分别介绍硬件和软件平台如何搭建。
A.硬件平台
该宽带数据釆集系统基于AD9361和ZC706平台设计。ADI公司的AD9361 是面向3G和4G基站应用的高性能高集成度的射频(RF)捷变收发器(Agile Transceiver),集成了 12位ADC和DAC,支持TDD和FDD。该器件的可编程性 使其成为多种收发器应用的理想选择。该器件集RF前端与灵活的混合信号基带 部分为一体，集成频率合成器，为处理器提供可配置数字接口，AD9361工作频 率范围为70 MHz至6.0 GHz。ZC706是软件自定义的智能嵌入式平台，该平台 的处理器系统(PS)部分使用的是ARM的A9双核处理器，而外围的可编程逻 辑(PL)集成了 Xilinx的可编程逻辑阵列，采用28nm制作工艺，PS部分集成 了片上的存储器和处理器控制接口和丰富的外围I/O接口。通过这些处理器控制 接口和I/O接口可以方便地完成实时数据实时处理和决策。
AD9361
图4-1宽带数据采集系统框架
基于AD9361和ZC706平台设计的数据采集平台系统框架如图4-1所示。
其中AD9361和ZC706通过LPF接口互联，该接口有160个引脚，端口资源丰 富。ZC706 上的外围接口包括了 SPL Timer、UART、DDR、ETHERNET 等，这 些外围接口和内核处理器之间通过AXI总线互联。
AD9361的主要功能都集中在一个IP核，IP核集成后如图4-2所示。该IP
核完成对AD9361的配置并对AD9361釆集到的数据完成格式化，格式化后的数 据则可以被ARM的处理器处理。该IP核中还集成了 DAC的功能。
axi ad9361
号烈心i
, t*x elk in p
x c I k in n
{x frame in p
■ ix fin n
x dat i-i i p [5 ： 0 J
* rx daf h i ri ri [5 : 0 :
dae enable i n
de la	J k
dk
iulc dun f
(iae dn ta 0 [ I 5 : 0? due data J [ 1 5 :0 j r h?c .	_2 i 1 5 : 0i
clfcic__datci 3 [ 15:0] dac dov f
在ZC706数字平台上集成有HPC和LPC两个高密度数字接口。ZC706作 为母板，通过这两个接口拓展连接子板。AD9361包含LPC接口，可以和ZC706 对接。因此该数据釆集系统中AD9361是作为一个子板，完成数据的初步模数转 化，而ZC706则完成后续的数据处理。AD9361的IP核集成了数据处理需要的 大部分功能，其与ARM处理器之间通过AXI总线互联。从AD9361到处理器之 间的流程大概是：AD9361的两路Rx通道集成了高速ADC,其会对输入模拟数据 进行采样和12bit量化，共釆用六对差分数据线路传输，差分数据之后会被转化 为单端数据并分解为不同支路的VQ两路。AD9361 IP核输出adc_chan_il, adc chan ql, adc_chan_i2, adc_chan_q2 四路并行的 12bit 量化的支路 bit 流数据, 分别代表Rxl的I路、Q路，Rx2的I路、Q路。
B.软件平台
在XILINX提供的Vivado硬件设计平台里搭建好硬件平台并将其导出到
Software Development Kit(SDK),该SDK将包含一部分Xilinx开发的软件库。这 部分的设计将在下一小节介绍。

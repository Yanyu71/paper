4.3.3.2VCFR实现准确性验证
为了验证VCFR信道估计算法C语言实现准确性及定点化效果。使用Matlab 产生测试向量作为VCFR信道估计C模块输入，通过硬件仿真得到VCFR信道估 计模块输出。并进行对比。
下图4-19为VCFR信道估计MSC8157硬件平台输出复数的实部与对应 MATLAB测试向量的对比。其中星型点线为Code Warrior集成开发环境中获得的 硬件平台数据，十字点线为MATLAB参考数据，从两曲线吻合程度来看，在 MSC-8157平台实现的信道估计算法功能是准确的。
图4-19硬件平台VCFR信道估计输出与MATLAB数据对比（实部）
为了进一步评估定点化的效果和C实现准确性。将60-100子载波的数据进行 局部放大，如图4-20o在图中选取了两组值做对比，第一组数据：子载波73上的 信道估计值实部，C平台6902, MATLAB平台6850。第二组数据：子载波95上 的信道估计值实部，C平台5235, MATLAB平台5191。通过这样的对比，C实现 平台与MATALB平台的误差分别为0.76%,以及0.84%。由此可见，信道估计的 定点化设计是成功的，这也证明了信道估计模块C实现的结果是准确的可信的。
为了全面对比，也选取了信道估计输出的虚部进行同样的对比。从总体来看 MATLAB平台与C平台结果吻合度非常高。选取第350〜440个子载波的虚部来局 部放大进行观察。两组标记值分别为（C： 3749, MATLAB： 3691）, （C： 2829, MATLAB： 2810）,误差分别为1.57%, 0.67%。从信道估计输出的虚部来看，VCFR 信道估计C实现的结果也是准确可信的。
codewarrior
+ matlab
1000
图4-21硬件平台VCFR信道估计输出与MATLAB数据对比（虚部）
图4-22硬件平台VCFR信道估计输岀与MATLAB数据对比局部放大图（虚部）
综合上述对Matlab平台与硬件平台输出结果实虚部的对比，可以验证本信道 估计算法的C实现是准确可靠的，而且信道估计模块进行的定点化设计方案也兼 顾了运算速度以及精度要求。

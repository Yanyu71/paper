4.3.1VCFR信道估计整体设计
VCFR信道估计算法的基本流程产生本地解调参考型号，完成LS信道估计, 然后由LS信道估计结果来进行VCFR信道估计。
根据协议要求，PUSCH的本地解调参考信号产生过程如下：
1）	由输入参数 Group-hopping-enabled ,小区 ID , N^SCH ,
Sequence-hopping-enabled, 得至U u 和 v
2）	由u, v得到基序列
3）	由输入参数或以，或払和"g 得到时隙内的循环移位a
4）	对基序列进行循环移位，得到PUSCH的参考序列XJs） LS估计是由本地解调参考序列和输入信号进行复数乘。
VCFR算法的实现分为如下几个步骤：
49
1）	获取添加的虚信道冲激响应	•
2）	分块完成频域窗函数平滑
3）	调用eFTPE完成IDFT变换
4）	获取噪声去噪门限，完成时域去噪操作
5）	调用eFTPE完成DFT变换
6）	完成频域去窗操作及去VCFR操作
结合上述分析，在设计VCFR信道估计算法整体框架时，由于LS估计在获取 到本地解调参考信号之后，再乘以输入数据即可完成LS估计。按照功能进行划分, 信道估计算法将分割为LS信道估计模块和VCFR处理模块。LS估计模块完成基 本ZC序列产生，以及本地DMRS数据与接收端RS数据的复数乘。VCFR处理模 块主要完成VCFR算法各个步骤。
VCFR信道估计实现的整体框图设计如下：

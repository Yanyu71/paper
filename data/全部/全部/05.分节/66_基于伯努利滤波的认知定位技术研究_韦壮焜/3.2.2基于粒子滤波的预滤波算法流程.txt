3.2.2基于粒子滤波的预滤波算法流程
依照321小节粒子滤波模拟概率密度的运算规则，我们在此小节给出基于 粒子滤波原理的预滤波算法流程。具体流程图如图3-3所示。
翅肘•一个浴煞
图3-3预滤波算法流程
20
我们假设在第斤时隙，已知第对时隙的粒子X乜及其权重回如前文所 述，粒子X,1是hl时隙用来近似其RSS后验概率密度分布粒子，并经过了仁1 时隙最后的重采样过程（即呵区1 = 1〃）。于是，预滤波算法在第左时隙的输入 为粒子x3及其权重4?],以及当前时隙的观测值*）。
第一步是按照式（3-16）、式（3-17）和式（3-18）所述，从粒子xfL中得到 当前的先验粒子xf|L。第二步是按照式（3-20）所述，得到粒子x黑1对应的权 值足1-1。
第三步和第四步按照式（3-8）计算段"以便进行预滤波中的粗检测。
第五步将进行对目标当前的通信状态进行粗检测，即判断底的取值。如果 4=。，则按照第六步，按照式（3-27）和式（3-28）得到当前后验粒子或），以及 其权值呵，。如果以=1,则按照第八步对先验粒子和其权重进行更新，即执行式 （3-24）和式（3-25）所述的过程，得到当前后验粒子x£）,以及其权值呵
第九步将通过后验粒子或），以及其权值超“近似出RSS的后验概率密度分 布，并通过最大这个后验分布得到预滤波后的RSS观测值才也
第十步和第十一步将进行对后验粒子筮），以及其权值端"的重采样过程， 保留并复制当前权重较大的粒子，同时删除权重较小的粒子，并将剩余粒子的权 重统一设置为1/A
在k时隙的输出首先是预滤波后的RSS观测值或支 该观测值之后将被动态 阈值机制判断是否报告给处理中心进行最后的检测目标通信状态和估计当前目 标位置的处理。其次，预滤波算法将输出左时隙的后验粒子x£）,以及其权值叼，。 该粒子和权值将被用于预滤波算法在k+1时隙的先验信息。

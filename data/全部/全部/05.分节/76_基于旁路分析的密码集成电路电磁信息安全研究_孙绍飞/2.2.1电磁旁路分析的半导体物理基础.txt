2.2.1电磁旁路分析的半导体物理基础
集成电路设备大多采用金属-氧化物-半导体场效应管(Metal-Oxide-Semiconductor Field-Effect Transistor,简称 MOS 管)实现。将 P 沟道增强型 MOS 管(PMOS)和N沟道增强型MOS管(NMOS)按照一定的方式组合便构成了 互补金属一氧化物-半导体(Complementary Metal Oxide Semiconductorfield Effect Circuit,简称CMOS电路)。CMOS电路是数字集成电路的基础单元和设计核心， 所以对CMOS电路电磁发射的研究很有必要。
CMOS工艺几乎被应用于所有的数字电路当中，CMOS电路的基本思想是 通过互补结构来安排PMOS管和NMOS管，使PMOS管位于元件输出和Vdd之 间形成上拉网络，而NMOS管则位于元件输出和GAZ)之间形成下拉网络。在静 态时，心与GND间基本上是没有电流通过的，仅有少许的漏电流通过，而漏 电流一般在10』2A的数量级，故此时COMS电路的电磁发射可以忽略⑶。
28
CMOS电路是构成大多数数字电路的基本模块,这些电路彼此互连形成具有 更多功能的模块，如状态机、加法器等。这个过程随着抽象层的提升而持续进行， 直到最后构建出完整的系统，如加密模块。常见的密码集成电路芯片基本上都是 采用CMOS工艺制作而成⑷，密码集成电路的全部运算都是通过逻辑门电路来 实现的，逻辑门的变化表现在物理上就是电流的改变，因为电流的改变从而产生 电磁发射。电流的变化与逻辑门电路状态之间的相关性确立了电磁旁路分析的物 理基础。
CMOS电路，又称为COMS反相器，其基本结构示意图如图2-3所示：
图2-3 CMOS反相器基本结构示意图
CMOS电路的能量消耗分为两部分，一部分是静态消耗，另一部分是动态消 耗⑸。静态消耗是电路在稳定状态下的能量消耗，主要是由漏电流所决定的，因 为在静态下无论匕”处于低电平还是处于高电平，NMOS管和PMOS管不会同时 导通，二者中必有一个处于截止状态，而且截止内阻又非常高，所以流过PMOS 管和NMOS管的静态电流非常小，所引起的静态消耗也非常小，约占整体总消 耗的1%,可忽略不计，因此本文不予考虑；动态消耗主要是开关消耗和短路消 耗，约占整体总消耗的99%。
ftotal = Pdynamic + fstatic Pdynacic = fswitching + ^short
(2 — 4) (2-5)
CMOS电路的动态消耗主要包括两部分：一部分是动态充放电电流，即开关 消耗，大约占85%左右；另一部分是动态短路电流，大约占15%左右⑹。通常情 况下，密码集成电路在处理逻辑1和逻辑0的运算时会引起集成电路内部门电路
29
的不同变化，产生不同的电流，从而引起的电磁发射也不同。电磁旁路分析通过 观察这种差异来判别是逻辑1还是逻辑0。
除了逻辑门上的动态变化，集成电路互连线上的静态电流也与线路上的逻辑 值相关。密码集成电路的电磁发射EM与数据逻辑值的数学模型可描述为E
EM = f (data) + noise	(2 — 6)
其中，/'(data)表示为数据的模型函数，noise表示为与数据不相关的电磁发射值。
密码集成电路一般是由成百上千万个逻辑门组成的，对于其在运行过程中某 一时刻翻转的逻辑门数量通常无法精确统计出其结果，所以/(data)往往是一个 比较复杂的函数。电磁旁路分析的焦点是利用统计方法使得在某一时刻集成电路 的某个局部位置上与data相关的电磁发射值得以积累，而噪声部分则因为统计 被平均，因此EM与data的关联性加强，从而可由EM推算出data值。

2.2.3同步与邻居发现
同步的系统可以使用更高效的调制技术如SC-FDMA和OFDMA来实现更高 的频谱效率。此外，同步系统相比于异步系统，可以设计更高效的设备发现机制 来减少能量的消耗和发现的时延。由于诸多的好处，D2D通信系统也被设计成
一个同步的系统来实现高效的通信。
系统同步的设计使得D2D通信可以使用LTE系统中上、下行信道使用的多 载波调制方式。D2D设备之间的同步可以采取IEEE 802.11或LTE中使用的同步 方法来实现。D2D的同步信号可以使用ZC序列来构造，接收解调ZC序列的复 杂度比较低，此外复用ZC序列不需要在UE的射频模块做修改。
考虑到D2D通信不同的场景，同步信号源可以是基站、一个D2D簇的簇头 或D2D通信对的其中一个设备。针对不同的蜂窝覆盖场景，用户将选择不同的 同步源。在蜂窝覆盖的场景下，基站可以作为更高优先级的同步信号源，因为它 具有更高的可靠性。在无蜂窝覆盖的场景，D2D设备可以通过中继的方式获取 同步或者自己广播同步信号。
当前3GPP对同步的设计给出了以下几条建议【27】：
(1)D2D同步信号源应该至少发送一个D2D同步信号(D2DSS)。
(2)当同步信号源是基站时，同步信号采用Rel-8 PSS/SSS的设计。
(3)当同步信号源是非基站的其他设备时，同步信号至少应该包含一个主 D2D 同步信号(Primary D2D Synchronization Signal, PD2DSS), PD2DSS 使用 ZC 序列，同步信号还可以包含一个辅D2D同步信号(Secondary D2D Synchronization, SD2DSS), SD2DSS 使用 M 序列。
(3)UE在发送D2DSS之前会去检测D2D同步信号源，如果检测到了同步 信号源则会将自己的接收机与同步信号源同步，否则将发送自己的D2DSSo
(4)基站相比其他的同步信号源有更高的优先级。
(5)UE作为同步信号源时，蜂窝小区中的比蜂窝小区外的优先级高。
虽然现有的一些同步系统的同步实现机制可以作为参考，D2D系统的同步依 然有一些关键的问题亟需解决。例如，如何解决D2D设备广播同步信号而对电 池消耗过快的问题、如何在异步蜂窝网络间的D2D设备实现同步的机制以及不 同运营商网络间的D2D设备实现同步的机制。
D2D邻居发现是D2D设备感知并识别其周边邻近的其他D2D设备的过程。 一般地D2D邻居发现是建立D2D通信链路过程中的重要一步，如果一对设备在 发现彼此之后希望进一步地进行通信，后续将进行会话的建立和资源的分配。应 用也可以单独使用D2D邻居发现提供一些服务，而不需要有后续的D2D通信。 D2D邻居发现的应用场景很多，如构建移动社交网络，当用户的好友出现在用 户的周边的时候，用户的移动设备会相互进行告知；在移动营销场景，当用户靠 近一个商店时，用户可以接收到商店发送的优惠券和折扣信息；在公共安全领域， 在灾害的情况下帮助应急救援人员对遇险人员的搜寻等。因此D2D邻居发现是 研究D2D通信的一个重要问题。
15
Wi-Fi Direct和蓝牙系统都是异步的系统，都是釆用发送和扫描检测信标信 号的方式实现设备发现的，发现阶段的能耗比较高。蜂窝覆盖下的D2D邻居发 现中；基站可以承担发现过程中的同步、资源的分配、提供标识、安全性管理、 功率控制等工作，这将减少发现过程中能耗和时间并且提高服务的安全性。蜂窝 外的D2D邻居发现可以参考Wi-Fi Direct中设备发现的实现。
对于D2D邻居发现的流程的设计主要分为两种，基于EPC的发现流程和基 于直接信号的发现流程。系统在进行邻居发现服务时可以单独地利用上述方案中 的一种，也可以将两种方案进行结合。
基于直接信号的发现流程在蜂窝网络覆盖下和无蜂窝网络覆盖的环境都可 以使用，比基于EPC的发现流程有更好的扩展性。
基于直接信号的发现流程中，期望被发现的D2D设备会使用一定的时频资 源来发送发现信号，使得一定范围内的其他设备能够接收到这个发现信号，发现 信号中会携带设备的标识和应用层的标识。期望发现邻居设备的D2D设备会去 检测和识别发现信号，如果成功地检测到其他D2D设备的发现信号，则完成了 邻居发现的流程。邻居的发现暗含着两个UE之间的通信信道是比较好的，相比 基于地理位置信息的EPC方案有更高的准确性。
图2-8给岀了蜂窝覆盖场景下的D2D邻居发现的系统架构，基站会为邻居发 现过程提供一些支持如提供同步信号、负责的资源分配、管理服务的授权。依赖 于资源分配方案的设计，基站会半静态地或动态地为D2D用户分配用于发送发 现信号的资源。
基于EPC的邻居发现方案无法应用于无蜂窝覆盖的场景，而且它的性能依赖 于定位的精度和具体的服务。对于某些服务这种方案的缺点很明显，比如当UE 希望寻找一个D2D设备中继来连入蜂窝网络时，通过EPC的方案只能够让这个 UE 了解到它附近有哪些D2D设备,而无法基于信道的质量来选择一个理想的中 继。
基于直接信号的邻居发现方案需要D2D设备周期性地发送发现信号，如何 减少能耗是设计中的一大挑战性。此外，在蜂窝覆盖的场景下，如何高效地复用 蜂窝的频谱资源是一个关键的问题。
16
LTE	LTE
f	LTE频段:
在LTE FDD系统使用上行的资源
在LTE TDD系统使用专用的帧
邻居发现
图2-8蜂窝覆盖下D2D邻居发现的系统架构
由于不同运营商使用不同的授权频段进行通信，需要设计不同运营商的D2D 设备之间相互发现的机制。下面给出两种的方案来实现不同运营商的D2D设备 之间的邻居发现：
（1）方案一：如图2-9所示，D2D设备使用从属的运营商的D2D邻居发现 空中接口来广播发现信号，同时设备将检测该空中接口中接收到的发现信号。为 了发现其他运营商的D2D设备，D2D设备需要去检测其他运营商的邻居发现空 中接口接收到的发现信号。
运营商A的上行资源或TDD
图2-9不同运营商设备间的邻居发现的系统设计
⑵方案二：在一个国家或区域，不同的运营商的所有的设备使用一个共同 的频段来广播发现信号。
在无蜂窝覆盖的场景中。如果多个D2D设备进行了成簇，簇头可以充当基 站的角色来负责发送同步信号和分配资源。如果没有成簇，D2D设备将使用专 用的资源来发送发现信号。
17

4.1下行链路总体处理流程
图4-1下行链路总体处理流程
57
LTE物理层信道分为上行物理信道和下行物理信道，其中上行信道指的是终端 向网络端发送信息的信道，下行信道是指网络端想向终端发送信息的信道。物理下 行共享信道(PDSCH)是物理下行链路的关键信道，它的性能直接影响到整个物理下 行链路的性能，所以PDSCH链路关键技术的研究就显得尤为重要。下行PDSCH发 端及收端的基本处理步骤可以简单概括如图4-1所示，其中左侧从上到下为eNodeB 发送所需要经过的处理模块，经过OFDM调制之后的符号通过LTE-Hi信道后，进 入右侧的UE接收端的处理流程。本章主要研究高阶调制下的下行发射端的链路， 它主要由Turbo编码、速率匹配、加扰、调制、层映射、预编码、资源映射、OFD 调制/解调等功能组成。
LTE-Hi系统室内良好的信道环境适合采用多天线技术，因此在发送端和接收端 都采用了双天线发收信号，考虑了单路(一个码字)和两路(两个码字)PDSCH数 据，不同的码字用来区分不同的数据流，其目的是通过多输入多输出(MultipleInput Multiple Output, MIMO)技术发送多路数据，实现空间复用。
1)码字分块与CRC,在发送端，基站根据上行链路中中UE反馈得到的信道 质量，通过调度算法选择TB的大小即为每个码字数据的原始长度，然后对每个码 字进行循环冗余校验码(Cyclic Redundancy Check, CRC)的添加，PDSCH规定的 CRC长度为24,主要用于校验。根据对Turbo码的性能仿真，编码块继续加长会增 加译码时延，但纠错性能提升却不明显，因此对于长度大于6144的码字需要进行分块 操作。另外还考虑交织器的设计，折中选择了 188种长度的码块进行分块，分块后继 续对每个块进行CRC的添加。在接收端，Turbo解码的结果在进行码块合并之后送 入CRC校验，校验正确的情况下进行码块合并并进行统计，如果失败则通过HARQ 重传机制进行重传。
2)信道编解码与交织技术，PDSCH主要采用的是1/3码率的Turbo编码，其分 量编码器中多以递归系统卷积码(Recursive Systematic Convolutional, RSC)作为其 分量编码器。交织的作用是为了有效的解决突发干扰所产生的影响，实际上是一个 一一映射函数，作用是将输入序列中的比特位置进行重置，以减小分量编码器输出 校验序列的相关性和提高码重。交织器的出现使得Turbo编码出现了随机性符合香 农限成立的随机编码的前提条件，作为Turbo码技术的关键性环节，对其性能的提 高有很大的影响。Turbo码的解码 算法采用了 MAP算法，迭代解码结构，通过分 量解码器之间软信息的交换来提高解码性能。解码器由两个分量解码器和交织器与 解交织器组成的，它将一个分量解码器的软输出信息作为第二个分量解码器的输入， 然后第二个分量解码器的软输出信息作为第一个分量解码器的软输入，如此进行反 复迭代数次，以便达到更好的解码性能。
58
4)速率匹配，是指传输信道上的比特被重发(repeated)或者被打孔(punctured), 以匹配物理信道的承载能力，信道映射时达到传输格式所要求的比特速率。根据物 理资源可承载比特的大小，数据多了就打孔，数据少了就重复，当然根据RV版本 号的不同也可以配合进行重传，RV重传的各个版本之间会有不同程度的重叠，重 复传输的码字与编码效率有关。
5)调制与解调，调制的结果是比特级的数据按相应的调制阶数的星座图映射到 符号上，解调为调制的逆过程，一般情况下，为了与Turbo解码结合到一起，解调 的输出软判决信息。由于在第二章已经对调制解调技术进行了详细的描述，此处不 再赘述。
6)层映射和预编码，由于在一个TTI里面最多只能传两个TB 了，而天线可能 大于2,用层映射(layer mapping)可以解决输入输出不匹配的问题,将码字 (codeword)映射到天线的端口上。层映射技术分为单端口层映射、发射分集层映 射、空间复用层映射。由于发射端能准确知道各用户的信道状态信息，所以在发射 端采用反馈干扰抵消的方法不存在误码扩散问题，性能更优，反映出来就是预编码。
7)资源映射，将各天线端口的调制符号映射到资源粒子，在仿真平台中需要根 据数据符号的数量得到导频在RB中的位置图样以及数据在RB中的位置图，按频 率顺序将数据和导频映射到对应的位置上。
8)	OFDM调制和添加循环前缀(Cyclic Prefix, CP) , OFDM调制是LTE系统 给的关键技术之一，在实际中通过IFFT运算来完成，添加循环前缀的目的是为了 消除符号间干扰和码间干扰，最终生成各天线端口的时域OFDM信号。

3.3.4.1获取最优值仿真验证方案
EESM及MIESM中的调整因子£是最优化的值，与调制阶数紧密相关，最优 化目标是使多态信道下的性能曲线都通过有效信噪比的映射，得到与AWGN下相 同的SNR-BLER性能曲线。调整因子的最优化原则有两个，一是优化过程涉及的信 道变化应尽量覆盖广泛，充分验证调整因子对多径信道的抽象能力，二是选择合适 的衡量标准类似评估仿真得到的误帧率与由有效信噪比映射AWGN SINR-BLER线 得到的真实误帧率之间的差距，即要找到这样一个夕值，保证通过映射后的有效 SNR查找AWGN性能曲线所得的BLER预测值(BLER_est)与实际运行所得的BLER 真实值(BLERjeal)之间的误差最小。
本文中选择了下式作为最小化尸的准则149】，其中L的含义为帧数，代表的是L 种不同的信道实现。
1 L
MSE = - |BLER_est(i,^)-BLER_real(i)|2
L i=i	一	(3-26)
为了在特定的调制阶数(256QAM)完成有效信噪比的合并工作，需要在特定 的调制阶数下对调整因子进行最优化的仿真工作。图3-9为调整因子优化过程的处 理流程。
图3-9调整因子用优化步骤
(1)产最优化的一般思路
如果在下行链路的基础仿真平台上进行最优化参数，直接可采取的思路为:
48
首先确定一个月值和初始信噪比（SINR）；在LTE-Hi信道下进行10000帧的 仿真，并统计每帧每帧按有效信噪比公式计算得到的有效信噪比及当前帧的正确性。
具体操作分成两部分：
首先，维护一个矩阵E,行号为由O.ldb粒度划分的“有效信噪比”区间，第 一列为该信噪比下的总帧数，第二列为该信噪比下错误的帧数。则E中每行对应的 有效信噪比的实际链路误帧率（记为BLERjeal）为E的第二列的值除以第一列的 值。例如 20dB 在第 20/0.1=200 行，E（200, 1） =1000, E（200, 2） =50,则该有效 信噪比点的 BLER_real=E（200, 2） /E（200, 1） =0.02
然后，计算该月值下，每个有效信噪比映射AWGN信道下的SINR-BLER曲线 得到的估计的BLER_est与实际BLER_real之间的差距量,基于MMSE准则。
通过实践发现，尽管仿真了足够多的帧数，实际得到的仿真结果并不如意。原 因是因为在10000帧的信道实现中，信道质量变化幅度很大，但对于特定的CQI等 级所确定的调制编码方式，只有很小的区间（大约2dB）能够取得有效值
（0.001<BLER<l）,即E矩阵计算得到的有效信噪比点的BLER可能只有几个， 因为有效帧数不足而得到并不准确的BLER_real。因此，这种仿真的思路并不适合 于实际的参数优化。依据上述两个准则，设计了如下的参数优化步骤，分为两步进 行。第一步为最优化值的训练，第二步为最优化值验证。
（2） 一种高效率的调整因子最优化方法
在256QAM的调制方式下，首先进行了 £值训练的步骤：
A.确定一种MCS,随机生成LTE-Hi信道下的20种信道实现，将每个信道实 现存为文件；
B.载入一个信道文件，在该信道下，变化初始SINR （此处指路损加上阴影效 应），SINR以0.3dB为步长取6个点，保证经过实际仿真所得的PER大致分布在 0.05〜0.5范围内（或上下浮动）,画出对应该信道实现的SINR-PER曲线；
C.将上述仿真运行后的25个子信道存为文件，以备后用（用来获得25个子载 波的SINR）；
D.重复3、4,遍历20个信道实现，分别画出20个信道实现下的SINR-BLER 曲线，并得到相应的20组子信道；
E.以20组子信道为内层循环，对每组子信道，对应于每个初始SINR值，分 别得到相应的25个子载波的SINR,即（i=l,2,3,…,25）,共得到120（20x6=120）组；
F.以£值的搜索区间为外层循环，使用每一个£值，根据映射函数式（3-5） 得到各组子载波经过合成后的有效SINR,毁SINRe徉，然后在AWGN信道下查对应 的BLER值，累计100组映射得到的BLER est与对应的预存的BLER real的MSE, 画出代价函数与£值的关系曲线。
49
G.找出曲线的最低点对应的力值，即使代价函数最小的月值。
对上一步获得的夕进行在整体的链路平台下性能的验证的步骤如下。
A.设定一个初始SINR值，遍历4000个信道实现，每个信道实现下设定至少运 行5000帧。
B.重复上述一系列的仿真流程，得到不同的SINR,它们分布在一个区间，对 应于区间内的每一个点，分别得到相应的误块率，此即BLER真实值。
C.对应于区间内的每一个点，通过MIESM方法映射查找所得的BLER预测值。
D.针对BLER预测值和真实值，同样按公式计算MSE。
E.将后处理SINR分布区间内的通过两种不同的方法得到的每一个点在图形上 打印出来，观察他们的接近程度与收敛性。
第二种最优值得仿真验证方案在效率和结果的有效性上都优于第一种做法。

6.1全文工作总结
本文着重研究了基于时间序列的海量网络流量分析系统的研究与实现。大数 据处理作为当代的流行趋势，其带来的网络安全隐患比以往更加强烈。本文首先 对于网络流量数据的本身特点入手进行分析，结合时间序列的特性，发现网络流 量可以用时间序列分析法来进行分析处理。接着，从常规异常检测方法入手，根 据系统实际情况，结合时间序列分析中的K近邻法，提出了 KNN-Grubbs检测 法，并且根据Grubbs判别法需要数据符合正态分布的特点，对网络流量进行取 样检测，证明在一定的取样条件下，网络流量同期呈现正态分布，符合预期。因 此用KNN-Grubbs检测法判定异常值很合理。接着又通过实验结果，证明 KNN-Grubbs检测法正确率很高，符合实验要求。然后，为了适应新时代产生的 新需求，本文结合了当前的几大热门技术：Storm、Kafka和Hbase,设计并实现 了一个可以对网络流量进行实时异常检测的系统，并将KNN-Grubbs异常检测算 法成功运行于系统中，完成了本文的设计目标，即实现实时网络流量异常检测系 统。并且根据实现的系统，完成了真实网络流量的检测，并且分析了网络流量异 常的行为。
总的来说，本文完成了以下几项工作：
1.设计并实现了实时网络流量异常检测系统。在了解并学习了前沿的大数 据处理技术的基础上，对各种大数据处理技术进行有机结合，提出了从Kafka 消息队列到Storm流处理平台，最后到Hbase分布式数据库的整个系统架构。整 个系统由三个模块组成。数据釆集模块主要包含企业网数据釆集设备及其中央服 务器和Kafka集群。企业网数据采集设备通过探针从局域网收集网络流量数据 后，经过一定的预处理，被送入中央服务器，再由中央服务器将流量数据push 至Kafka集群对应的Partitiono数据处理模块主要由Storm实现。Storm的拓扑 由一个Spout和两级Bolt组成。第一级Bolt对数据按小时进行分类，第二级Bolt 按小时对数据进行处理，。数据存储模块由Hbase实现，将Storm检测完的数据 存入数据库。为了使整个系统性能更好，也方便以后的可扩展性，试验中还对 Kafka进行了一系列性能测试，也对Storm做了一些性能优化，以使实时网络流 量异常检测系统表现更好，处理的速度更快。
2,本文在研究了网络流量本身特点的情况下，引入时间序列分析的概念，
结合Storm处理机制，对传统的异常值检测算法Grubbs检测法灵活的做了一些 改变，成功的将该算法运用于实时网络异常检测系统中去。同时为了验证算法的 合理性和准确性，在试验中对流量数据进行采样分析，先将样本进行正态检验， 证明了数据符合正态分布，因此对其用Grubbs检测法很合理。接着将 KNN-Grubbs检测法进行实例检测，可以发现，检测正确率很高，完全符合预期。
3.本文提出了一种自定义的复合会话的数据格式。复合会话是由源端、目 的端、网络协议和目标端口所唯一标识的实体。并且，由复合会话得到了主机流 量的实时表，再针对实时表进行下一步的分析。此外，通过同一个局域网的主机 流量，根据误差传递公式，求得了整个企业网的流量数据，并且也对其进行了分 析。

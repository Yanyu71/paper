4.4.1实验结果验证
本文通过借助ModelSim仿真频率同步算法的时序波形、matlab和ModelSim 联调分析算法误码率曲线以及原型机加上频率同步算法后能够实现视频的射频 传输来验证了频率同步算法硬件实现的准确性。
如图4-11和图4-12是利用ModelSim得到的载波频率同步模块和相位跟踪模 块的时序仿真图。通过时序分析，验证算法实现时流水线结构的正确性，在保证
图4-11载波频率同步模块时序仿真图
从图中可以看出，当待同步的数据到达时，首先利用短训练序列符号的前5 个估算得到频偏值，然后利用频偏值计算得到频偏补偿因子，再根据补偿因子对 待补偿数据进行跟踪补偿。由于补偿因子早于待补偿的长训练符号和数据符号， 因此需要对补偿因子做相应的延时。
40
图4-12相位艰踪模块时序仿真图
从图中可以看出，当待补偿数据到达时，从中读取相应位置的导频信息，送 入相位误差补偿因子计算模块计算得到相位补偿因子，然后从缓存中读取数据信 号进行剩余相位补偿。由于补偿因子在接收到第四个导频信号后4个周期即可得 到，进而可对数据进行相位跟踪补偿，故数据缓存单元中RAM的深度设置为 OFDM符号的长度64即可，同时要求其为双口 RAM,同时进行前一个OFDM 数据符号的读取和后一个OFDM数据符号的写入。
如图4-13是通过matlab和ModelSim联调，并采集相应数据得到的频率同步 算法的性能结果图。
图4-13 802.1 lp频率同步算法的性能仿真图
从图中我们不难看出，所釆用的载波同步算法和相位跟踪算法在接收端能够 有效降低系统误码率，完成系统的正确解调。如果在接收端不做频率同步，则系 统误码率显著上升，无法在接收端正确解调，导致数据丢失；如果只做载波同步 或相位跟踪中的一种，虽然能够提高误码率，但是比两者同时做的效果要差一些。 因此，本文在做频率同步时选择同时完成载波同步和相位跟踪，在帧同步之后加 入载波同步模块，在信道估计之后加入相位跟踪模块,使得系统误码率大大降低。
41
在原有的车辆通信原型机上加入频率同步模块后，即上文分析的载波同步模 块和相位跟踪模块，我们实现了收发射频板之间真正的无线传输。如图4-14所 示，在没有添加频率同步模块之前，我们在进行射频传输时，收发射频板用的是 同一个时钟，即用一根同轴线将收发射频板的时钟晶振连起来，这样才能实现整 个系统之间视频的无线传输。在加入频率同步之后，我们就能去掉连接收发射频 板之间的同轴线，收发射频板使用各自的时钟晶振10MHz,顺利实现视频的无 线收发传输。
图4-14加入频率同步算法模块前后系统连接对比图
如图4-15所示为加入频率同步模块后，包括载波同步模块和相位跟踪模块,
整个系统顺利实现视频的射频传输。由此，验证了我们所实现的802.1 Ip的频率 同步算法的有效性和准确性。
图4-15视频射频传输效果图

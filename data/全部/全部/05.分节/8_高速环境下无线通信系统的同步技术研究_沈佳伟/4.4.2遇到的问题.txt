4.4.2遇到的问题
在整个的硬件实现及调试过程中也遇到了许多问题，主要有以下几个：
（1）利用CORDIC算法完成arctan求角度的运算。由于自己硬件实现 CORDIC算法较为复杂，可以利用现成的IP核实现此功能。Altera的Quartus中 没有现成的可用的CORDIC IP核，我们利用网络上运用VHDL语言编写的开源
42
的CORDIC核，加入自己的算法工程，实现了该算法的功能。在CORDIC实现 时我们需要注意由于在算法内部经过大量的移位和加减操作，最后流水线输出的 结果已经延迟了 17个时钟，在进行流水线的下一级操作上需要对其他的数据做 相关的延时。
（2＞在做频偏补偿时，我们需要求取补偿因子e-威，根据欧拉公式实际上 我们只要求得cos（-以）和，诅（-心）即可。如果我们在硬件实现时，直接计算， 即将CORDIC算法配置成sin和cos模式，则会有相应的处理时延，效率较低。 因此我们釆用LUT （Look-Up-Table）技术，事先将各角度的sin值和cos值计算 出来，分别写入各自的ROM中，每当输入一个角度值就等于输入一个地址进行 查表，找出地址对应的内容，即该角度对应的sin值和cos值，然后输出。这样 处理既节省了资源，又提高了处理效率。
（3）在整个车辆通信的原型机系统中加入我们的频率同步算法模块后，我 们遇到了视频传输失败，无法正确接收的问题。在整个的调试的过程中我们通过 利用SignalTap II抓包工具抓取分别抓取数字基带发射机和接收机的信号流图、 运用频谱仪测量对比收发两端的信号功率谱等手段，将射频传输顺利调通。在这 个过程中，有许多问题会导致接收端的错误接收，例如收发两端的接收和发送功 率过低或过高、射频板和AD/DA板的两路（I路和Q路）信号接反、程序内部 信号连接错误等等。

4.2仿真实验
上一节描述了三维场景渐进式传输的具体设计方案，其中主要的模块是数据 预处理、传输队列和更新策略。整个算法基于渲染管线展开，对兴趣区域管理、 模型视觉重要程度计算、网格模型和纹理图片联合优化进行了详细的分析和研究。
在仿真实验搭建中，本文通过基于WebGL接口，在浏览器上模拟了渐进式 更新三维场景这一过程，使用了本文提出的场景内模型更新策略以及模型视觉重 要程度计算方法。我们首先构建了一个服务器/客户端模型，在服务器端先进行模 型相关文件的预处理工作，通过PM算法对网格模型进行渐进式压缩，结合第三 章中网格模型和纹理图片联合优化算法，对纹理图片进行多分辨率处理，并在预 处理过程中完成网格模型多视点的显著性计算，将上述三种信息统一称为模型的 辅助信息。通过Node.js搭建服务器，并制作出基于three.js的web网页以及用 于存储辅助信息的数据库。在本实验中选择了 Stanford模型数据库中的Angek
37
Armadillo、BunnyDragon这几个模型作为实验数据，如表4-1所示。客户端则 使用PC或者移动设备访问web网页即可。
表4-1数据库三维模型顶点和三角面数目
模型
Angel
Armadillo
Bunny
Dragon
顶点数
237018
172974
35974
437645
三角面数
4747048
345944
69451
871414
本章先介绍渐进式传输方案对整体画面视觉质量的提升。为了简化传输过程, 本实验在仿真场景中使用了 Armadillo模型，因为其具有复杂的形状，而且粗糙 区域较多，网格显著性在不同视点下差异更明显，与应用于游戏等领域的模型类 似。为了使用多分辨率网格模型进行渐进式传输，实验中模型的简化率以及数据 量等信息见表4-2,在客户端即各种浏览器访问我们的场景。
表4-2 Armadillo模型的简化率以及数据量
简化率
Model size(MB)
首先需要完成客户端场景的初始化，包括web网页中模型对象大小位置以 及用户视点的控制。本文使用第一人称角色控制器模拟用户在场景的移动，认为 相机坐标为用户视点坐标。在场景中随机摆放5个Armadillo模型，包括位置、 姿态、尺度的维度均随机设定。场景初始化的详细参数见表4-3,包括相机内参 的远近剪裁平面、视野范围、视点位置、投影方式以及每个模型对应的尺度、旋 转和位置，并将网络速率设定为4MB/S。我们在客户端得到的随机摆放的五个模 型的场景如图4-3所示，右下角为该场景的俯视图。
38
表4-3场景初始化数据
参数
值
可视距离（uni⑸
(0.1,1000)
相机位置
(0,0,400)
相机方向
(0,0,0)
模型数量
5
相机视场角
45
投影方式
透视投影
Model(i)的位置
(x,y,z)
Model(i)的旋转
(r,y,p)
Model(i)的大小
(a,b,c)
图4-3仿真环境示意图
图4-4给出了在当前场景参数下，a取值为｛0.05,0.25,0.5,0.8,1｝时，客户端画 面质量的变化情况，其中x轴代表时间，y轴代表当前帧画面跟5个模型均是全 分辨率模型的PSNR值。可以看到a取值越大，画面的整体质量越高。但是a取值 的增加，降低了网格显著性对画面质量评价的权重，PSNR并不是唯一的画面视 觉评价指标，还应从HVS出发评价。因为本文选择a = 0.5,认为是最合适的值。
39
图4-5给出了使用本文模型更新算法和GUOU4］提出的方法的对比情况。
GUO在文献中提出的方法是根据模型和用户之间的距离、偏离视线中心的角度 以及当前LOD的程度这三个维度计算。从实验结果可以看到，在前两秒有一段 时间对比方案的曲线要高于本文的方案，原因是对比方法对场景内模型的重要程 度的区分不明显，对所有模型均进行一次更新，会得到较好的PSNR结果。之后 的画面质量本文的结果要明显高于对比方法，并且本文方案会在12S处完成下 载，而对比方法要下载到16S,原因是本文会根据屏幕分辨率计算模型细节失真 程度，如图4-3中的模型5,在简化率为30%的时候就不在有画面质量的提升， 即不再需要对这个模型进行更新，而对比方法并没有考虑视觉感知限制，需要将 所有的模型更新到完整分辨率。同时，模型5距离相机最近，在对比方法中计算 的模型视觉重要程度最高，这显然是不可取的。本文的方法，能够在保证画面质 量的前提下，最大程度上减少了传输的数据量。图6为使用表4-1中四个模型数 据在仿真环境中完成传输所需时间的对比，可以看到下载时长明显小于对比方案。
图4-6实验结果对比
图4-7是根据相机坐标以及模型在场景中的旋转坐标计算观察方向，并参照 媒体描述表格中相关视点坐标选择出来的观察视点，并依据该视点计算该场景下 每个模型的显著性信息，右下角为该场景的俯视图。可以看到3号模型拥有最高 的网格显著性（更大区域的白色面积），同时屏幕分辨率也更高。而相对的，4 号模型的显著性最低，屏幕分辨率也低于3号模型。场景描述文件发现，4号模 型与视点的距离要小于3号模型距离视点的距离，这也验证了本设计方案的算法 在实际应用中要优于使用距离参数的模型重要程度计算方法。计算得到的4号模 型MI值最小，本文在场景中更新的优先级同样是3号模型最高,4号模型最低， 符合ITTi等人提出的自下而上的视觉注意机制。	*
图4-7视觉质量评价
41

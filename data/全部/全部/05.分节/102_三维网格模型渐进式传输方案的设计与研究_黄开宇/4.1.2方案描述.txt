4.1.2方案描述
本文所提出的渐进式传输方案可以分为两个阶段，第一个阶段通过基于兴趣 管理机制确定渐进式传输的具体对象，依据用户的视点位置计算模型的视觉重要 程度，并在兴趣区域中挑选模型和纹理最佳的细节层次在场景进行渲染，从而减 少每次请求场景的数据量，第一阶段包含了计算模型视觉重要性和创建请求队列 这两个过程；第二个阶段为在数据预处理模块完成场景三维模型和纹理图片的多 分辨率编码，通过结合请求队列内容和当前的网络状况完成传输队列的选择，最 后通过混合传输协议，实现三维场景的传输，达到实时性与可靠性间的有效平衡。
图4-2给出了本文所提设计方案一次数据请求的详细流程。首先当用户在场 景中漫游时，兴趣区域管理机制将划分出于用户相关性高的区域，并基于当前视 点下各个模型的重要程度对兴趣区域内所有模型进行重要程度排序，最后向服务 器端发出数据请求。在服务器端通过数据预处理模块，完成了网格模型和纹理图 片的渐进式编码，同时将模型视点显著性的描述文件上述文件一同压缩，存储在 数据库中，此部分是在客户端与服务器交互之前离线完成的，不占用用户浏览的 时间开销。服务器端将客户端的请求数据加入的传输队列中，由于网络状态是实 时变化的，而用户的数据请求也是动态的，经常会出现上一个传输队列的内容还
36
没有传输完，请求队列就发生了变化。所以当请求内容数据量与当前带宽不匹配, 或者用户新的请求数据有更新时，将重新规划传输队列。最后，通过混合传输协 议对网格模型、纹理图片的基础层和增强层采取非对等错误保护编码，因为基网格传输错误将导致整个模型无法加载，因此比增强层具有更高的优先级，完成这 次请求过程。

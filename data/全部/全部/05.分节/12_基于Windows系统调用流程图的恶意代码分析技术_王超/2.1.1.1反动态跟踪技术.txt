2.1.1.1反动态跟踪技术
反动态跟踪技术主要涵盖四方面的内容，它们分别是破坏调试工具运行所需 环境、禁止跟踪中断、检测跟踪法和其他技术，下面将分别进行介绍：
1.破坏各种调试工具运行时所需的环境。这种方法反跟踪较为彻底，也可以 通过锁定键盘输入和屏幕显示来防止程序被跟踪。
2.禁止跟踪中断。由于调试分析工具通过断点中断和单步中断来进行跟踪调 试，所以只需要破坏中断就能达到反跟踪的目的。禁止跟踪中断一般是通过修改
8
中断的入口地址来破坏中断的。
3.检测跟踪法。这种方法也是破坏了中断来避免被跟踪的。运行状态下的程 序和调试执行下的程序在中断的入口地址以及环境变量等方面存在差异,利用这 些差异可以釆取相应的措施使得程序难以被跟踪，从而达到保护程序的目的。检 测跟踪法又能分为以下三种：
a.中断检测法。通过检査程序的断点中断和单步中断的入口地址相同与 否可以判断当前程序是否被跟踪，这是因为若一个执行程序未被跟踪，那么 盛不程序的断点中断和单步中断的入口地址相同，反之不同。
b.定时检测法。定时检测法就是每隔固定时间检测程序的运行状况。由 于正常执行和被跟踪执行时，程序的执行时间以及系统的环境变量是不同的, 所以通过检测程序运行状况即可判断程序是否使用了检测跟踪法。
c.破坏中断向量表。Dos提供了从00H到FFH的256个中断调用。这些中 断调用驻留在内存的低地址中，每个中断的入口地址，即中断向量表是由4 个字节组成的。跟踪调试软件中广泛使用了中断调用。所以，破坏中断向量 表就是破坏了跟踪调试软件的运行环境。
4,其它反跟踪技术，如逆指令流法、指令流队列法等。

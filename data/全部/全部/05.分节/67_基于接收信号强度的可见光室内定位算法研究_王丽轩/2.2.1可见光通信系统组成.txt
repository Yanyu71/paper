2.2.1可见光通信系统组成
VLC系统主要由发射端、信道和接收端三部分组成［58］。以使用LED作为发 射器、PD作为接收器的VLC系统为例，VLC系统组成如图2-1所示。在发射
8
端，原始电信号先经过编码、调制等处理，然后电信号被送至LED并驱动LED 将电信号转化成光信号发射出去。承载着信息的光信号在自由空间传播，之后到 达接收端。在接收端，光信号先通过接收端前端的聚光器和光学滤波器，聚光器 将光信号聚焦到PD,光学滤波器把背景光滤除，之后PD将光信号转化成电信 号，该电信号再经过放大、解调、解码等处理，最后恢复得到原始的信号。
图2-1可见光通信系统组成
1	.发射器
在VLC系统中，通常使用LED作为发射器，将电信号转化成光信号。LED 是一种半导体发光器件,其核心为一块由P型半导体与N型半导体构成的晶片， P型半导体和N型半导体的连接处形成PN结。当PN结工作在正向偏压时，注 入的少数载流子与多数载流子复合，以光的形式辐射出能量，从而可以实现电光 转化。LED发出的光的波长（即光的颜色），与半导体所采用的材料有关。
LED早在20世纪60年代就已出现，但是初期只能够发出红光，且光效很 低。后来，随着制造工艺的不断进步和新型材料的开发应用，不仅发展出了其他 单色光版本的LED, LED的光效也得到显著提高。近年来，高光效、高亮度的 白光LED的问世推动了 LED成为新一代的光源，LED被越来越广泛地应用于 照明领域。相比于荧光灯、白炽灯等传统的照明光源,LED具有能耗低、寿命长、 绿色环保等优势。除此以外，LED还具有响应时间极短（通常可达到纳秒级）的 特点，可以达到很高的闪烁频率（每秒可高达数百万次），使其具备高速调制的 能力，并且人眼由于余晖效应，不会感觉到LED闪烁。VLC正是利用LED发出 高速明暗闪烁的信号来传递信息，令LED兼具照明和通信的双重功能。
根据白光发光原理的不同，当前的白光LED实现方案主要有以下三类：
1）基于色度学的三基色原理，适当组合红、绿、蓝光LED晶片来得到白光 LEDo该类型的白光LED光效高、显色性好，并且可以获得较高的调制带宽，
9
但是成本偏高，并且需要对各个单色LED晶片进行单独驱动，驱动电路较复杂。
2)在蓝光LED的晶片上涂上黄色荧光粉，蓝光LED激发黄色荧光粉产生 黄光，黄光与剩余部分蓝光混合，形成白光。该类型的LED成本低，驱动电路 简单，在LED照明中应用得最为广泛，但是调制带宽较低。
3)在紫外LED晶片上涂上红绿蓝荧光粉，紫外LED激发红绿蓝荧光粉产 生红、绿、蓝三基色光，结合形成白光。该类型的LED在转化白光过程中能量 损耗较大，光效较低，在实际中较少使用。
2	.接收器
在VLC系统中，通常使用PD或图像传感器作为接收器，将光信号转化成 电信号。PD也是图像传感器中的光电转化元件。
1)	PD
当前，常用的PD主要有两类：PIN型光电二极管(Positive-Intrinsic-Negative Photodiode, PIN-PD)和雪崩型光电二极管(AvalanchePhotodiode, APD)O PIN-PD和APD本质上都是一个加了反向偏压的PN结。当有光照射PN结时，PN结 耗尽层产生光生载流子，外部偏压促使光生载流子定向漂移,从而产生光生电流， 如果PN结有与负载电阻串联，负载电阻上便会有电流流过，实现了光电转化。
不同于一般的PN结,PIN-PD在PN结中间加上了一层本征半导体层(I层)， 耗尽层可在整个I层展开，相当于人为地展宽了耗尽层，从而增大了对光的吸收 以及光电转化的区域，提高了光电转化效率。PIN-PD的主要优势在于线性输出 范围宽、接收面积可以做得相对较大以及造价相对低廉。
APD与PIN-PD的基本结构相似，但是需要比PIN-PD高得多的反向偏压以 获得强电场，借助强电场产生雪崩效应，利用雪崩效应来工作，从而对光电流具 有倍增的作用，可以放大光电流。APD的主要优势在于响应速度快、调制带宽宽 以及接收灵敏度高。
2)图像传感器
当前,常用的图像传感器主要有两类：电荷耦合器件(Charge Couple Device, CCD)图像传感器和互补金属氧化物半导体(Complementary Metal Oxide Semiconductor, CMOS)图像传感器。两者都集成了大量的PD用于捕捉光信号 以及进行光电转化，但是光电转化后信息传送的方式不同。
CCD图像传感器将光信号转化成电荷后，利用电荷耦合结构，在每一行逐 个像素地移动电荷，直到到达放大器进行放大，再到模数转换器(Analog-to-DigitalConverter, ADC)转换成数字信号输出。CMOS图像传感器则在每个像素 旁都连着放大器和ADC,直接在像素上进行放大和模数转换。
CCD图像传感器的优势在于灵敏度高、噪声低、成像质量好，但代价是功耗
10
较高、工艺较复杂、成本较高。CMOS图像传感器除了功耗较低、工艺较简单、 成本较低以外，还具有集成性好、读取速度高的特点。近年来，随着CMOS图 像传感器成像质量等性能的进步，CMOS图像传感器已逐渐主导了图像传感器 的市场。
3) PD与图像传感器比较
相比于PD,图像传感器具有更加复杂的硬件，成本也更高，但是也具备许 多优势：图像传感器可以提供更大的FOV,并且对背景光的抗噪性能要优于 PD0］；由于不同位置的LED在图像传感器上成像的位置不同，图像传感器能够 天然区分出多个LED,而无需任何复用技术。
但是，图像传感器最大的限制在于其数据传输速率要远低于PD。当前，商 用的PD可以轻松达到数十MHz的采样率［59］。而主流智能手机配备的图像传感 器一般最高能达到60fps的帧率，这意味着如果使用单个LED与图像传感器进 行通信，数据传输速率只能达到30bpsR］。所以，如果直接使用图像传感器作为 VLC的接收器，数据传输速率将非常低，甚至无法满足室内定位系统中简单的 通信需求。为了使图像传感器达到更高的数据传输速率，解决方案包括有：使用 高速图像传感器，使帧率达到1000-1 OOOOfps,但是其价格也非常高昂；使用多 个LED构成的阵列作为发射器，使得每一帧图像可以携带更多的信息；使用 CMOS图像传感器的卷帘快门(Rolling Shutter, RS)效应，逐行(或逐列)扫 描图像，提高数据传输速率%。］。然而即使通过以上方案，在图像传感器低采样率 的瓶颈之下，图像传感器所能达到的数据传输速率仍远低于PD所能达到的数据 传输速率。
对于可见光室内定位而言，PD由于成本较低、能精确测量出信号的强度、 以及有极快的响应速度可以支持较高精度的时间测量等，被应用于除了图像传感 器法以外的绝大多数定位算法之中国图像传感器则一般应用于图像传感器法 之中，利用LED在图像传感器上成像的位置与其在真实环境中的位置之间存在 的几何关系进行定位。
3	.信道
在VLC系统中，可见光无线信道有不同的链路形式。根据发射器和接收器 之间是否有无障碍的直线通路，可见光无线信道的链路形式可以分为两类：视距 (Line of Sight, LOS)链路和非视距(Non Line of Sight, NLOS)链路。LOS 链 路指的是可见光信号在发射器和接收器之间无遮挡地进行直线传播；NLOS链路 则是当发射器和接收器之间没有直线路径或者有障碍物遮挡时，可见光信号通过 反射等方式到达接收器。由于LOS链路功率占据了接收总功率中的绝大部分(超 过95%阿)，因此本文只考虑可见光的LOS链路。
11
LED和PD间的可见光传播模型如图2-2所示。假设LED符合朗伯辐射模 型，则LED和PD之间LOS链路的直流增益可以表示为网，621
G.s =’"cos"⑻.(7皿小双")，0W"凡	QJ)
[	0,
其中加是LED的朗伯阶数，表征了 LED的发光指向性，可以由LED的半功率 角血2计算得到:«7 = -Iog2/log(cos(^2))； 4是PD的实际接收面积；d是LED 和PD之间的距离；。是辐射角，代表光发射方向与LED法线方向的夹角；什是 入射角，代表光入射方向与PD法线方向的夹角；子c是PD的视场角(FOV), 代表PD可以接受的最大入射角；1(叼是光学滤波器增益；g(〃)是聚光器增 益，可以表示为
n2
g(^)= sin2Tj	(2-2)
、0，小匕
图2-2 LED和PD间的可见光传播
以£表示LED的发射光功率，则PD的接收光功率只可以表示为
B=PSl0s	(2-3)
在实际中，PD的接收光功率与可以通过测量PD在接收到可见光信号后产 生的电流/,得到，它们的转化关系为
"P『Rp	(2-4)
其中(为PD的光电转化效率。
4	.噪声
在VLC系统中，噪声主要由散粒噪声和热噪声组成，并且通常被建模成加 性高斯白噪声(Additive White Gaussian Noise, AWGN )网, 62]。
12
散粒噪声主要由背景光和光信号所产生的光电流涨落所引起，散粒噪声方差 可以表示为
aL ^2qRpPrB + 2qIbgI2B	(2-5)
其中，1是电子电荷，5是等效噪声带宽，4g是背景光产生的光电流，人是噪声 带宽因子。
热噪声则主要来源于接收器的前置放大器，热噪声方差可以表示为
2	8万修 2
Cr
+画现.「画了
(2-6)
其中，左是玻尔兹曼常数，q是绝对温度，g是放大器开环电压增益，〃是PD单 位面积电容，r是场效应管(Field-EffectTransistor, FET)信道噪声系数，g而是 FET跨导，右是噪声带宽因子。
因此，噪声总方差可以计算为
b'ftuiNe - ^shol + Ghermal	(2-7)
信噪比(Signal-to-Noise Ratio, SNR)则可以表示为
(PR)2
SM? TOI。.。2	彳—	(2-8)
b.Ma 十 ^"thermal

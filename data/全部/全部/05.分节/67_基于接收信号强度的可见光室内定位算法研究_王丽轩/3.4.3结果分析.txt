3.4.3结果分析
1.定位精度
在对所提算法的定位精度的评估中，分别考虑了 2-D和3-D定位：1）在2-D定位中，只使用1个MDLA （即所提算法所要求的最小数量），该MDLA的位 置坐标为［2.5,2.5,（单位为m）。需要注意的是，在本文中，MDLA的位置是 指MDLA半球结构中球心的位置。假设PD的z轴坐标已知，x、y轴坐标待求。 在每次接收光功率的测量中，取100次测量的平均值作为测量结果。2）在3-D 定位中，使用2个MDLA （即所提算法所要求的最小数量），这2个MDLA的位 置坐标分别为［2.8,2.5,3了和［2.2,2.5,3了（单位为m）。在每次接收光功率的测量 中，取1000次测量的平均值作为测量结果。
为了考察MDLA的结构（由MDLA的半径R、LED的倾斜角。和LED的 数量K决定）对定位精度的影响，仿真中也针对不同的R、8、K进行了评估。 对于每一组不同的参数，各仿真1000个定位样本。对于每个定位样本，PD位置 坐标在室内空间以内随机取值，即PD的位置是随机的；PD法向量的极角a和 方位角6在表3-1中定义的对应范围里随机取值,即PD的方向是随机的。但是， 只取可以令PD接收到足够多接收器用于定位的PD位置与方向组合。对于每个 定位样本，使用本章所提的定位算法进行仿真，并且分别计算了不增加LLC和 增加了 LLC时的定位结果。
图 3-4 是 MDLA 半径 R=0cm、2cm、4cm、6cm, LED 倾斜角 9=15。，LED 数量K =4时的定位误差CDF： （a） 2-D定位；（b） 3-D定位。其中，R=0cm代 表理想情况，即LED的位置完全重合，从图中可以看到，此时定位精度最优， 且无需使用LLC机制。在2-D定位中，对于R=0cm、2cm、4cm> 6cm：当不使 用LLC时，定位误差的第95百分位数（表示95%的定位样本的定位误差要小于 该数）分别约为12cm、13cm、：15cm、17cm；当使用LLC时，定位误差的第95 百分位数分别约为12cm、12cm、12cm、13cm。在3-D定位中，对于R=0cm、 2cm、4cm、6cm：当不使用LLC时，定位误差的第95百分位数分别约为19cm、 22cm、21cm、25cm；当使用LLC时，定位误差的第95百分位数分别为19cm、
37
20cm、20cm、21cm»结合图中可以看到，定位精度随着MDLA半径R的增加而 下降，这是因为及越大意味着MDLA中LED之间的位置差异越大，与定位算法 中的理想模型的偏差越大。除此以外，当&>0cm时，在所提算法中增加LLC可 以进一步提升定位精度，提升后的定位精度已经十分接近尺=0cm的理想情况， 并且当火越大，提升越明显。
(a)	2-D定位
I
0.8
0.6
0.2
定位误差[m]
(b)	3-D定位
定位误差[m]
图3-4 不同MDLA半径R下的定位误差CDF： (a) 2-D定位；(b) 3-D定位 (LED倾斜角夕=15°、LED数量K =4)
图 3-5 是 LED 倾斜角。=5。、15。、30。、45°, MDLA 半径火=2cm, LED 数 量K =4时的定位误差CDF： (a) 2-D定位；(b) 3-D定位。在2-D定位中，对于 9=5。、15。、30。、45°,当不使用LLC时，误差的第95百分位数分别约为36cm、 13cm> 8cm、7cm；当使用LLC时，误差的第95百分位数分别约为36cm、12cm、 7cm、5cmo在3-D定位中，对于。=5。、15。、30。、45。，当不使用LLC时，误差 的第95百分位数分别约为48cm、20cm、13cm、12cm；当使用LLC时，误差的
38
第95百分位数分别约为48cm、19cm、12cm、10cm。结合图中可以看到，定位 精度随着LED倾斜角。的增加而增加，这是因为LED的倾斜角越大，各LED之 间的差异性越大，使得来自MDLA的一组RSS之间的差异性越大，从而当RSS 受噪声等影响存在一定的测量误差时，RSSR受RSS测量误差的影响越小。除此 以外，还可以看到当LED的倾斜角。越大时，LLC对定位精度的提升越明显， 这是因为当MDLA半径出相同且不为零时，倾斜角6越大，LED之间的位置差 异越大，LLC对定位精度的提升空间越大。
(a) 2-D定位
1
0.8
O.fi
0.4
0 o
图3・5 不同LED倾斜角9下的定位误差CDF: (a) 2・D定位；(b) 3・D定位
13
定位误差[m]
(MDLA 半径 R =2cm、LED 数量 K =4)
图3-6是LED数量K=3、4、5, MDLA半径出=2cm, LED倾斜角8=15。时 的定位误差CDF： (a) 2-D定位；(b) 3-D定位。由图中可以看到，不同LED数 量下所提算法的定位误差表现基本持平，换言之，LED的数量K对定位精度的 影响不大，只要满足所提算法所需的最低数量(即K=3)即可。
39
(a)	2-D定位
(b)	3-D定位
O
图3-6不同LED数量K下的定位误差CDF: (a) 2-D定位；(b) 3-D定位 (MDLA 半径K=2cm、LED 倾斜角 6=15。)
综上，所提算法的主要定位误差来源包括噪声和MDLA半径R (半径尺表 征了 MDLA中各LED之间的位置差异)，噪声使得PD实际接收的RSS与理论 应接收的RSS之间存在差异，半径尺在非零时则使得实际的MDLA与算法中理 想的MDLA模型之间存在差异。当半径7?较小时，噪声是相对更大的定位误差 来源，当半径尺较大时，半径尺则成为相对更大的定位误差来源。以上误差来源 对所提算法的影响程度受LED的倾斜角6所影响，当倾斜角8越大时，所提算法 受噪声的影响越小，但受半径尺的影响越大。除此以外，MDLA中LED的数量 K则对所提算法定位误差的影响较小，只需满足算法所需的最小数量即可。
40
21球烝坦投
51泄咚*仪
H三照哆.W技
0.18
0.16
0.14
「-0.12
' -0.08
图3・7定位误差的空间分布：(a) zPD =0m; (b) zPD =lm; (c) zPD =2m
（MDLA 半径夫=2cm、LED 倾斜角 6=15。、LED 数量K=4）
以MDLA半径R =2cm、LED倾斜角6=15。、LED数量K=4为例，图3-7给 出了定位误差的空间分布：（a） z9=0m； （b） zPD=lm； （c） zPD =2mo由于图形
41
显示的限制，这里只考虑了 2-D定位。可以看到，定位空间中的绝大部分位置都 能达到20cm以下的定位误差。定位误差的空间分布与RSS的空间分布有关， RSS的空间分布则取决于发射器的设计与位置。在仿真中，MDLA在天花板正 中向下辐射，因此PD离天花板越近或离空间中心越近，接收到的RSS越强，定 位精度越好。另外，由于LED的辐射范围有限，且发射信号强度与辐射角为余 弦关系，当PD在LED半功率角外时其接收到的RSS也相对较弱，定位精度也 相对较差。
2.位置覆盖率和平均角度可接受率
在CR和AAAR的评估中，对比以下两个基于RSS的可见光室内定位算法： （1）定位算法1：本章所提的MDLA（MDLA中LED数量K = 4）下基于RSSR 的可见光室内定位算法；（2）定位算法2：传统的单LED发射器下使用三边定位 法的基于RSS的可见光室内定位算法1的。其中，单LED可以看作是MDLA的 特殊情况：K=l, 8=0。。
表3-2展示了定位算法1和定位算法2在2-D定位和3-D定位下分别需要 的发射器的最小数量，可以看到定位算法1需要的最小数量要小于定位算法2需 要的最小数量。对了对比的需要，在仿真中统一设置发射器的数量为4,坐标分 别为[3,3,3]"[2,3,3了，[2,2,3?和[3,2,3『（单位：m）。PD 的x、y、z轴的坐 标的离散步长都取为0.05m。在CR的仿真中，由于当PD的方向不同时，CR也 会不同，因此为了简便，只仿真了 PD保持垂直朝上（即％°=[0,0,1了）时的01。 在AAAR的仿真中，PD法向量的极角和方位角的离散步长都取为5° =
表3-2定位算法所需发射器的最小数量
定位算法	所需发射器的最小数量
2-D定位	3-D定位
定位算法1	1	2
定位算法2	2	3
除此以外，由于在OOK调制中，为了使误码率（BER）优于10",要求SNR 要不低于13.6dB[6i],因此，仿真考虑两种情况：一种是只要PD能接收到足够的 发射器，没有SNR要求；另一种则是不仅要求PD能接收到足够的发射器，还 要求SNR要不低于13.6dB。
42
(a) CR
0.8
0.6
0.5
1-2-D定位
年一2-D定位（有SNR要求）
3-D定位
投一3-D定位（有SNR要求）
10
一9二
20	30
LED倾斜角e尸]
(b) AAAR
：A 2-D定位
一守一2-D定位（有SNR要求）
0.05「	，3-D定位
T-3-D定位（有SNR要求）
0 L---:---------:--
10	20
30	40	50
60
LED倾斜角6 [c]
*勺___■:% .	t
产 冲 9 冷------------.
* —>
O 04
0.2 ~
o 二 o
2VV-8 3 图
定位算法1和定位算法2的CR与AAAR: （a） CR; （b） AAAR
图3-8是定位算法1和定位算法2的CR与AAAR的比较结果。其中6=0。 （即LED无倾斜）代表使用单个垂直朝下的LED作为发射器，对应使用的定位 算法为定位算法2；当。＞0。时，。为MDLA中LED的倾斜角，对应使用的定位 算法为定位算法1。可以看到基于RSS的可见光室内定位算法能覆盖到的位置与 方向有限（尤其是当有SNR要求时），当PD位于部分位置或方向时无法进行定 位，这是因为VLC具有方向性、LED的覆盖范围有限以及PD的FOV通常较窄
43
所共同导致的。对于定位算法1,当LED的倾斜角增加时，这种限制越发严重， CR与AAAR都会随之下降，这是因为LED的倾斜角越大，MDLA中各LED覆 盖范围的重合部分越小。但是，当LED的倾斜角限定在一定范围以内时，定位 算法1的CR和AAAR要优于定位算法2,例如，当有SNR要求，MDLA中 LED的倾斜角为15。时:对于2-D定位，定位算法1能比定位算法2多覆盖14.8% 的位置和12.3%的方向;对于3-D定位，定位算法1能比定位算法2多覆盖11.1% 的位置和13.1%的方向。这是因为一方面，定位算法1使用MDLA作为发射器， 将不同方向的LED集中在同一位置，使得接收器接收到一个发射器时相当于可 以获得一组不同的单角度LED,另一方面，定位算法1在算法设计中利用RSSR 进行定位，使得2-D定位和3-D定位分别仅需1个和2个发射器，从而使得算 法的覆盖要优于定位算法2。
结合定位精度与CR以及AAAR的仿真结果，可以看到选择不同的LED倾 斜角，需要在定位系统在定位精度与覆盖之间进行平衡。LED的倾斜角越大，可 以实现更高的定位精度，但是只能覆盖更少的接收器位置与方向。

4.2.3MDPA设计
本算法使用MDPA作为接收器，MDPA是由J个不同方向的PD构成的PD 阵列。MDPA的结构如图4-2所示。MDPA也有着半球型结构，以犬表示其半径。 PD安装在MDPA的半球表面，均匀分布在一个与MDPA底面平行的圆上。以6 表示PD的方向与MDPA的中心法线方向的夹角，各PD有着相同的倾斜角6。
图4-2 4个PD构成的多角度PD阵列：（a）仰视图，（b）侧视图
由（4-3）, PD的方向不同会导致入射角的不同。因而，传统的单PD接收器 在同一位置同一方向对于同一 LED只能接收到相同的RSS,而MDPA在同一位 置同一方向对于同一 LED可以在接收一组不同RSS,并且这组RSS的差异与
47
PD的方向差异有关，从而使得接收端可以获得更多的信息用于定位。需要注意 的是，为避免歧义，本文规定当MDPA中所有的PD都能接收到某个LED时， 才认定为MDPA可以接收到该LED,即MDPA的视场角(FOV)是MDPA中所 有PD的FOV的重合区域。
假设MDPA中所有PD有着完全相同的参数，除了方向。然而在实际中，由 于PD存在一定的大小，因而各PD之间存在着不可避免的位置差异。但是，在 一般的室内定位场景中，MDPA中各PD之间的距离远远小于发射器和接收器之 间的距离，因而各PD之间的位置差异可以忽略。以MDPA的球心位置代表MDPA 的位置，标记为V = |>m⑼,九⑼/皿/。把MDPA的位置作为各PD共享的位 置，即丫丫，则九 adj=V—口，dtj «d, = ||d,|| o 因而，式(4-6)中 PD/对LED ，•的接收光功率匕力可以被近似地重新表示为
蜀尸.cospjcos - J
i	(4-10)
=而T (nLEDJ ,	) {nPDJ -	)
由式(4-10)可以看出，PD的方向和位置都对RSS有显著的影响。值得注意 的是，PD方向对RSS的影响是通过影响入射角而达到的。因此，可以先估计入 射角从而得到PD方向对RSS的影响，使得在对RSS有影响的未知量中仅剩下 PD的位置，继而可以由RSS估计出PD的位置。

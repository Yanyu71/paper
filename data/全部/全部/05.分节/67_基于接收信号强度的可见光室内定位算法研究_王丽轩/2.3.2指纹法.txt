2.3.2指纹法
指纹法也称为场景分析法，该定位算法将信号的一个或多个特征作为指纹, 利用指纹与接收器位置的相关性进行定位。接收信号强度［25］是最常作为指纹的 一类可见光信号特征，除此以外，可以作为指纹的还有接收信号强度差〔2句、冲击 响应时间［2刀、消光比128〕等。指纹法的定位流程主要由两个阶段组成：1）离线训 练阶段：收集指纹，建立位置指纹数据库。通常是在定位区域选取一些位置作为 参考点，在各参考点采集来自不同LED的可见光信号的一个或多个特征作为指 纹，并与该参考点的位置坐标组合成位置指纹记录，储存到位置指纹数据库中。 2）在线定位阶段：将接收器实测测量到的可见光信号特征与位置指纹数据库中 的指纹进行匹配，通过匹配算法估计出待定位目标的位置。
匹配算法是指纹法的关键，常用的匹配算法有贝叶斯概率法内和k近邻（k-NearestNeighbors, k-NN）法m-?%贝叶斯概率法在离线训练阶段采集信号特征 的分布建立指纹库，在在线定位阶段利用贝叶斯定理计算各参考点的后验概率， 然后选取后验概率最高的参考点所对应的位置作为接收器位置的估计值。k-NN 法通过实测的信号特征向量与位置指纹库中的指纹向量之间的距离（欧几里得距 离或曼哈顿距离）来估计信号特征向量与指纹向量之间的相似度，距离越近表示 相似度越高，然后由最近的k个指纹向量对应的位置计算出接收器的位置。除了 以上匹配算法以外，［3。］提出一种利用信号间相关性的匹配算法，基于的原理是当 接收器离LED越近时，接收器接收到的来自各LED的混合信号与某个特定LED 的发射信号之间的相关性越高。
指纹法的主要优势在于该算法主要是通过实时测量量与预先测量的指纹之 间进行匹配实现定位，不受制于理论模型，也不需要大量计算。但是，指纹法需 要预先建立位置指纹库，当室内场景面积较大时，位置指纹库的建立会十分地耗 时耗力。除此以外，位置指纹库依赖于其建立时的室内环境，可移植性和灵活性 较差，当室内环境发生变化时难以及时更新。

4.3.2子问题求解
在求解｛SQ｝序列的过程中，蚂蚁需要完成SQ问题的映射，首先构建一个 潜在的物理节点映射集合｛PN；｝,集合中的每个节点均满足虚拟节点映射需求。 定义M为当前己映射的物理节点集合。
为了在潜在映射物理节点集合\PN盲中选择最合适的物理节点PN：进行映 射，本文定义了选择概率因子打〃表示将SC。子问题映射到节点的概率。如公 式(4-4)所示。
a为信息素权重因子，指示信息素对于映射选择的影响程度，0为启发权重 因子，指启发信息对于映射选择所占的影响程度。为映射SC.问题选择的候 选物理节点(Potential Node candidates)集合，其将会受到前面映射的影响，随 着物理节点的映射，PM需要去除前面子问题中已映射的物理节点。
对于候选物理节点集合中的节点对，定义启发信息因子ZB如公式(4-5)所示。 %=q + Y BPU	(4-5)
其中，加为恋节点和";节点之间通过路径代价公式算出的最佳路径。
通过启发信息因子，具有最大剩余资源的节点的选择概率因子也将更高，从 而更有可能被选为映射节点。与此同时，信息素浓度也将会在每次迭代中影响节 点的选择概率，信息素的相关定义在下一节阐述。
每一个子问题的节点映射解将会在选择概率因子｛几b｝集合中选择，其中并 不是选择最高概率的节点，而是使用比例随机算法在待选集合中选择一个最容易 被选择的节点。比例随机算法(Fitness proportionate selection)又称轮盘赌算法 (Roulette wheel selection),是一种累积概率选择算法，在选择过程中，使用一 个选择概率因子表示一个轮盘区间，选择概率因子越高，则该节点对应的轮盘区 域越大，越可能被选中。因此，每个节点实际被选择的概率如公式(4-6)所示。
P'
p'=	—
ah	I叫
7=1
当映射节点被选择后，继续处理虚拟网络请求中该虚拟节点到其他已映射虚 拟节点的悬挂虚拟链路集合，由于集合中虚拟悬挂链路的两端虚拟节点都己经被 映射，因此悬挂链路将会映射到吋节点和城节点之间的物理路径上。直接使 用跳数作为路径权值并不是一个好的选择，因为该算法并没有将剩余带宽以及链
44
路类型进行考虑，所以本文定义了适合于本文网络的路径度量，实际上我们的目 标是选出提供最佳带宽限制的具有最少网络切换次数的最短路径，这样可以降低 物理链路中的带宽资源支出。因此，链路p的距离(Distance)如公式(4-7)所示。

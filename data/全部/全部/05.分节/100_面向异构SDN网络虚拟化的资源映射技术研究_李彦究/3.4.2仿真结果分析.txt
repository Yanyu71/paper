3.4.2仿真结果分析
我们的仿真分析了在异构SDN网络环境中以下几种算法与本文的 vHSDNM-G-KSP算法在虚拟网络请求服务率、物理网络支出和映射收益支出比
方面的性能，仿真结果如下所示。对比算法介绍如表3-4所示。 表3-4对比算法表
对比算法
主要策略描述
VNE-R-ViNE-SPU]
随机节点映射+最短路径链路映射
VNE-G-SPM
贪婪节点映射+最短路径链路映射
VNE-G-LMAoKS。。]
贪婪节点映射+K最短路径链路映射
30
为了将上述算法应用到本文的仿真场景中，本文对上述算法做了一定的修改, 比如都添加了节点计算需求以及异构链路切换代价等。
VNE-G-SP
VNE-R-ViNE-SP
VNE-G-LMAoKS -6*- VHSDNM-G-KSP
The number of VRNs
图3-4虚拟网络映射成功率
图3-4表示了在相同的初始网络资源情况下，随着虚拟网络请求数目的增加, 四种算法分别运行10轮的平均映射成功率变化情况。图中横坐标表示当前时刻 虚拟网络请求到达的总数，纵坐标表示虚拟网络映射成功率叫，其值范围为 [0-1]。映射成功率是反映虚拟网络映射算法性能最直观的指标，接受率下降的越 慢，则表示该算法处理虚拟网络请求的能力越强。
从总体趋势来看，四种算法的映射成功率均随着虚拟网络请求的不断增加而 呈现波动下降趋势，在上述参数的仿真环境中，本文提出的vHSDNM-G-KSP总 体来看效果最好，在处理了 100个随机的虚拟网络请求之后，其映射成功率仍然 保持在0.75左右，VNE-G-LMAoKS算法性能次优，映射成功率在0.65左右， 其后是R-ViNE-SP算法在0.55左右，而VNE-G-SP算法性能最差，总体映射成 功率在0.48左右。
在虚拟网络请求数目为0到30个的前期时，由于此时总数不多，因此一旦 有资源需求较高的虚拟网络请求失败，则映射成功率将会迅速下降，然后随着后 续请求的成功而逐步上升，这个时期的映射成功率曲线为锯齿形波动。在虚拟网 络请求数目为30到70个的中期时，此时有一定的基数，因此失败的请求将不会 把映射成功率拉的过低，因此该阶段的映射成功率呈现波浪形。在虚拟网络请求 数目为70到100个的后期时，此时映射成功率趋于一个稳定的阶段，可以反应 常规情况下虚拟网络映射算法的性能。当虚拟网络请求数目继续增加时，则由于 网络资源消耗较多，因此会不可避免的出现拒绝率线性下降的趋势，本文并未展 现该趋势的变化情况。
31
(a)	(b)
图3-5稀疏网络和稠密网络环境下VNR接受率
图3-5是四种算法在稀疏图和稠密图中的虚拟网络映射成功率变化情况。本 文对四种算法在极端网络环境中的性能做出了评估，主要是因为除了一般规模网 络的情况下，物理网络资源较多或者较少时，虚拟网络算法的性能也十分重要。
图3-5(a)的运行环境为稀疏网络，通过将链路连接概率降为0.15使得随机生 成的物理网络链路数较少，表示异构网络需要更多跳才能完成映射。通过图3-5 左图可知，物理链路较少时，在链路映射中使用K最短路径映射的VNE-G- LMAoKS算法与本文的vHSDNM-G-KSP算法，都大幅度优于使用最短路径链 路映射的R-ViNE-SP算法和VNE-G-SP算法，这表示在网络资源较紧缺时候， 带有一定冗余度的链路映射策略能将映射成功率提升80%左右。
图3-5(b)的运行环境为稠密网络，通过将链路连接概率提升至0.65并增加异 构网络数量为5,使得随机生成的物理网络链路数较多，节点之间联通度较高, 表示异构网络节点间具有多种通信方式，同时，由于物理资源较多，因此将虚拟 网络请求增加一倍进行仿真实验。通过图3-5(b)可知，本文提出的vHSDNM-G- KSP算法较其他算法映射成功率提升9%左右，其他三种算法性能接近。在稠密 异构网络环境下，随机节点映射策略在请求数量较小时拥有一定优势，但不利于 长期的虚拟网络映射。
综上分析，本文提出的vHSDNM-G-KSP算法在不同的网络环境下较VNE- G-LMAoKS算法略有优势，主要是因为在选择路径的时候传统K最短路径并不 会记录其历史选择情况，因此当链路映射较复杂时，其选择路径比较随机，容易 导致链路碎片化。而本文所示算法在选路过程中考虑了链路类型，更倾向于选择 跳数更少，切换次数更少的路径，由于同构路径链路容量相仿，使得资源碎片化 程度较低，更有利于后续虚拟网络请求的映射。而R-ViNE-SP算法和VNE-G-SP 均性能较差，主要是因为无论是随机节点映射策略还是贪婪节点映射策略，一旦 节点映射时选取的距离较远，则要求物理路径的每一条链路都要满足带宽容量要
32
求，只有一条最短路径容易导致链路映射失败，然而在长期的虚拟网络映射过程 中，贪婪策略优于随机策略。
图3-6映射收益支出比
图3-6是四种算法的映射收益比随虚拟网络请求增加的变化情况。在相同映 射成功率的情况下，映射收益比越高则算法对映射方案的选优程度越高。但不能 只看收益支出比越高越好，因为随着拒绝率的提高，其映射收益比可能下降。假 设从某一刻开始虚拟网络请求均被拒绝，则映射收益比完全可能保持在一个较高 的水平。
20	40	60	80	100
The number of VRNs
图3-7物理网络支出
图3-7为累计物理网络支出随虚拟网络请求增加的变化图，可以看出在映射 初期，每种算法由于映射成功率都较高，因此物理网络支岀接近，随着R-ViNE- SP算法和VNE-G-SP算法映射成功率的下降，其增长幅度变慢。vHSDNM-G- KSP算法与VNE-G-LMAoKS算法总支岀接近，其差别主要在于vHSDNM-G-
33
KSP算法的选优程度更高，因此成功映射的虚拟网络请求支出较低，使得总体物 理网络支出与VNE-G-LMAoKS算法持平。
总体来看，四种算法的映射收益比性能接近，其中三种贪婪节点映射策略的 算法的映射收益比呈现出稳定的下降趋势，而使用了随机节点映射的R-ViNE-SP 算法则由于不稳定性，导致映射收益比波动较大。在虚拟网络映射成功率相仿的 两种算法中，本文提出的vHSDNM-G-KSP算法（长期映射成功率75%）与VNE- G-LMAoKS算法（长期映射成功率65%）相比，vHSDNM-G-KSP算法长期收益 支出比为0.85左右，而VNE-G-LMAoKS算法长期收益支出比为0.8,较其提高 了 6.3%o在中间映射过程中，其最大提高程度为10%左右。
图3-8 CPU资源利用率
图3-8为节点CPU资源使用率直方图。横坐标为节点CPU资源利用率，纵 坐标为CPU利用率处于该范围的节点个数。从图中可以看出，VNE-G-SP算法 CPU利用率为零的节点较多，表示有很大一部分节点从来没有被访问过，网络整 体CPU利用率较低。VNE-R-ViNE-SP算法的CPU利用率呈正态分布的特征， 利用率主要集中在0.4左右。VNE-G-LMAoKS算法和本文提出的vHSDNM-G- KSP算法CPU利用率分布趋势相似，但本文提出的算法整体利用率较高。
34
图3・9链路带宽利用率
图3-9为链路带宽资源使用率直方图。横坐标为链路带宽资源利用率，纵坐 标为带宽利用率处于该范围的链路个数。由于异构网络整体链路资源丰富，许多 链路都处于较低的利用率，为了作图清晰没有显示利用率低于0.2的链路。整体 来看，VNE-G-SP算法带宽利用率最低，本文提出的算法带宽利用率最高。利用 率的高低与请求映射成功率正相关。从分布趋势来看，采用了随机策略的VNE- R-ViNE-SP算法的链路带宽利用率离散程度最高，本文提出的vHSDNM-G-KSP 算法，带宽利用率在0.4-0.8范围分布均匀，但在0.8-1.0范围内有较多链路，这 是因为优秀链路被选择的几率较大，因此承担了较多的虚拟链路。
综上所述，vHSDNM-G-KSP算法在常规网络规模下可以将映射成功率提升 15%,且随着网络资源丰富程度的增加，映射成功率提升的幅度更大。同时，算 法较VNE-G-LMAoKS算法平均提高了 6.3%的收益支出比，同时资源利用率也 更高。其中贪婪节点映射策略有利于长期的虚拟网络映射，而考虑异构网络切换 代价的K最短路径链路映射在异构网络环境中具有更好的性能提升。
35

3.2.2多工况下的领域自适应
上一小节介绍了域自适应的SAE-LSTM模型，从参考式3-1可以看出损失 函数的分布差异项是针对整个训练集和整个测试集进行域自适应，没有考虑实际 应用中训练集和测试集都包含多种工况的情况。根据参考文献[24],域自适应成 功的关键在于利用源域和目标域的相似性。因此当源域和目标域均包含多种工况 时，只对相似工况的域自适应可以避免负迁移效应对泛化性的影响。在域自适应 的SAE-LSTM模型的基础上，本文提出了多工况条件下的领域自适应模型来实 现相似工况之间的迁移，这表示两个模型具有相同的网络结构但损失函数不同。 假设有C种工况，c = {1,2，…,C}代表不同工况的类别，每种工况有不同的相对重 要性，DAMOC模型的损失函数可以表达为：
C
23
损失函数第一项是训练集标签和预测值的损失项，测试集不参与，第二项表 示源域和目标域的相似工况分布差异的加权和，其中权重他(0 ＜他＜ 1)代表域 自适应过程中的相对重要性。
在应用相似工况迁移机制时，不同的工况可以看成是不同类别，对源域和目 标域的相似类别进行域自适应再求加权和可以尽可能利用到不同域之间的相似 性，提升迁移的有效性。然而在实际应用中，不同的类别有着不同的重要性，权 重&越高意味着重要性越高，因此，DAMOC模型损失函数第二项中不同的类别 权重赋值方法也会影响模型的表现。目前有两种赋值策略：(1) 一种是多次随机 赋值法，考虑到他介于0到1之间，因此随机在0到1之间选取一个值赋给&， 多次重复找到最优的值。(2)第二种是最大最小搜索法，即从0开始，每次增加 一定步长比如0. 1来给“C赋值，直到“C等于1，通过一定步长的遍历来找到最优 值。以上两种赋值方法思路简单，容易实施，但是每次赋值就需要重新训练一遍 模型，多次训练之后得到平均值作为结果，计算开销太大。受到参考文献［38］启 发，本文采用A-distance指标来量化佻，它表示建立一个线性分类器来区分两个 分布的区分度。因此，A-distance可以表达为：
dA(Xs, X。= 2(1 — 2e(H)	(3-3)
其中e(n代表分类器f区分XS和Xt的准确率，准确率越低，说明样本区分度 越小，样本分布越接近，则权重越大。因此源域和目标域中第c类的A-distance可 以表示为：
dc = dA^,X^	(3-4)
权重“C可以计算为：
通过这种方法，坨的赋值避免了多次搜索，在后续的实验中，不同的权重赋 值方法会进行比较来证明A-distance方法的有效性。

4.4.4历史数据统计模块
历史数据的查询和统计是整个运维系统的基础模块，可以让运维管理人员进 行历史数据的复盘和信息的查询。系统运行过程中的关键数据会被存入数据库， 比如设备的剩余使用寿命信息、管理员发布的工单信息、设备的维修记录等，运 维管理员可以随时查询历史数据。历史数据的呈现主要是通过各种图表进行展示, 本系统的图表显示采用了 Echarts框架。
如图4-16所示，历史数据统计的首页包含三部分，第一部分是数据统计模 块，分为维修记录、工单记录、人员信息、部门考勤、通讯录五部分。第二部分 是本周的工单统计折线图，纵坐标是时间，横坐标为工单数量，该部分反映了一 周内工单的创建情况。如图4-17所示，第三部分是本周的设备状态统计，利用 饼状图展示，反映了本周的正常设备数量以及发生故障的设备数量。
接下来重点介绍历史数据统计模块的第一部分。其中维修记录点击之后显示 设备选择页面，如图4-18所示，包含机组选择和设备选择。设备选择页面点击 查询之后显示设备的维修记录表单，如图4-19所示，包含了设备ID、维修时间、 维修人、描述等信息。其中描述信息中较为严重意味着设备的大修，大修次数是 设备价值评估中技术鉴定成新率的决定因素之一。
50
图4-16历史数据统计首页
表单的呈现通过名为find的查询云函数来查询云数据库中的"Maintenance record”表单来显示在前端页面。维修记录表单上方的搜索框可以用来筛选出特定
维修人或特定描述。
图4-17本周设备状态统计
图4-18设备选择
-左m第人坯
塔家三査課詐
图4-19维修记录
工单记录、人员信息、部门考勤、通讯录同维修记录一样，查询数据库后采 用表单展示，并利用搜索框输入关键字进行筛选。工单记录表单记录了部门、设
52
备、工单类型、发布人信息。人员信息表单记录了所有技术人员的工号、姓名、 所属部门、级别、联系方式信息。部门考勤记录了所有部门
图4-20通讯录

3.3网络数据采集模块
企业网相当于一个局域网，同一个企业的所有员工都工作在一个局域网内。所有用户的上网数据都将通过一个网络出口向外传送，因此我们将采集数据的设备设置在这个网络出口处，就能获得该企业所有员工的上网数据，我们称这个设备为网络流量监测设备即网络探针。
网络探针不仅可以获取用户的上网流量,还可以对用户上网进行管理。该设备类似一个路由器，是由本实验自主研发的，整合了具有特定功能的业务到该设备的内核，当用户使用该业务时，该业务生成的数据报文将通过流量监测设备向外传送，若该报文与存在内核的特征相匹配，则丢掉该报文，其对用户产生的影响就是用户不能使用该业务,因为该业务的数据报文不能经过流量监测设备成功的发送到对方服务器，因此服务器就没有相应包回应。本文针对用户的网络虚拟身份进行分析，只需要带有虚拟身份相关信息的数据报文即可。
本研究课题分析的是网络用户的虚拟身份是否属于同一使用人，从而来分析用户的上网行为，单分析一个企业的数据信息不具有普遍性，因此我们将上千个网络流量探针部署在上千家企业的网络出口。除此之外，又建立了一个网络监控平台来管理这些流量监测设备，并通过建立 Postgresgl 数据来储存从各家企业获得的网络流量数据。目前这种网络监控平台已经形成，网络流量探针部署在不同类别企业的网络出口处，这些企业包括金融业，服务业等。我们在该网络监控平台上获取其中两千多家企业作为分析对象，这样可以保证研究的可靠性、真实性和合法性。网络监控平台如图 3-2 所示

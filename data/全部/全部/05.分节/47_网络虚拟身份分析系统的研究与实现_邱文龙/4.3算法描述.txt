4.3算法描述
算法流程图
因为本算法是属于网络虚拟身份分析系统的数据分析模块，所以最初的输入数据就是数据预处理后的如表3-1的数据，每行数据记录包含18个字段该算法的总体思想是:当用户在上网时，在他们上网的这段时间内，他们会同时登录各种应用，使用各种虚拟身份。这样产生的结果就是，我们会在同一个设备(MAC)上很小的一段时间内看到多个虚拟身份同时出现。当多个虚拟身份同时出现的次数，即多个虚拟身份同时出现在不同的MAC 地址的数目，超过一定的闽值时，我们就有很大的把握认定这些同时出现的虚拟身份属于同一使用人4.3.2输入数据前期处理
去除用字段
根据我们的算法总体思路，对于数据预处理模块后的输入数据报文需要进行前期处理，只保留一些对于我们的算法有帮助的字段:customer-id、netid type、netid account、first time、last time、MAC。如表 4-1 所示:
去除公用账号
在许多企业内部普遍存在一些公用测试账号,这些账号也许会被不同的人使用进行一些必要的测试,也就会和不同的人的虚拟身份在很小的一段时间内同时出现在同一MAC 地址上。这样造成的后果就是，原本不属于同一使用人的虚拟身份通过这些同一公用账号被合并到一起，带来很大的干扰。这些公用账号具有如下几个特点:
1) 和许多虚拟身份同时出现;
2)出现在不同的 MAC 地址的数目远远多于一个正常的虚拟身份出现的不
同的MAC 地址数目。在本研究课题中，我们经过多次测试，根据特点2)就可以很好的去除公用账号。当某一个虚拟身份出现在不同的 MAC 地址数超过某一值时，我们就认为此虚拟身份即为公用账号，然后从输入数据中删除带有此虚拟身份的这一条记录

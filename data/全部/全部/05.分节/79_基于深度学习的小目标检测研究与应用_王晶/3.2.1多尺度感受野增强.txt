3.2.1多尺度感受野增强
神经网络中，感受野用来表示网络每一层输出的特征图上的像素点在原始图 像上映射的区域大小。感受野越大意味着它可能蕴含更为全局、语义层次更高的 特征；相反，感受野越小则表示其所包含的特征越趋向局部和细节。因此，利用 多尺度感受野进行特征增强是十分重要的。
空洞卷积支持指数级扩张的感受野，而不丢失分辨率。在普通卷积中，感受 野大小和卷积过后特征图大小的计算方法如下所示：
= (k - 1) x I + 1	(3-7)
o = [^=4^] + 1	(3-8)
其中，k为卷积核大小，i为卷积的数层，尺表示经过i层卷积后，感受野的 大小；讪为输入图像的大小(只考虑输入宽、高相等情况)，p为填充的像素数， s为步长，o为卷积过后特征图的大小。使用常规的3x3卷积，三层卷积后F3=(3- l)x3+l=7 ,即感受野大小为7x7。常规卷积的感受野大小随卷积层数呈线性增长， 但空洞卷积的感受野大小随卷积层数是呈指数增长的：
图3-7空洞卷积感受野增长示意图
如图3-7所示，卷积核没有红点标记位置为零，红点标记位置同正常卷积核。 假设原始特征为F0,首先使用空洞率为1的空洞卷积生成Fl, F1上一点相对F0 的感受野为3x3 （如图3-7 （a））；然后使用空洞率为2的空洞卷积处理Fl生成 F2 （如图3-7 （b））,使第一次空洞卷积的卷积核大小等于第二次空洞卷积的一个 像素点的感受野，即F1上一个点综合了 F0上3x3区域的信息，则生成的F2感 受野为7x7,即整个图3-7 （在b）深色区域；第三次处理同上，第二次空洞卷积 的整个卷积核大小等于第三次空洞卷积的一个像素点的感受野，F2上每个点综 合了 F0上7x7的信息（感受野），则釆用空洞率为3的空洞卷积，生成的F3每 一个点感受野为15x15。可以看出，空洞卷积的感受野是呈指数的增长，其计算 公式如下所示：
Ft = 2i+k~2 一 1	（3-9）
同样地，k为卷积核大小，i为卷积的数层，尺表示经过i层卷积后，感受野 的大小。经过空洞卷积后的特征图大小为:
w — 上 _ (上一 1) x (r _ 1) + 2p
w为输入图像的大小（只考虑输入宽、高相等情况），p为填充的像素数，s 为步长，r为空洞率，o为卷积过后特征图的大小。
从空洞卷积的计算过程可以看到，它既带有常规卷积的滤波功能，还能以指 数形式扩张感受野大小；它同时具有池化的泛化作用，但又不会造成特征图的减 小。因此，本节构建了一个并行三分支架构，使用不同空洞率（rate=l, 2, 3） 的卷积来获得多尺度感受野，以增强特征的表达。对于每个分支，首先使用一个 1X1的普通卷积对特征图进行跨通道的交互和信息整合，然后使用两个3x3的空
洞卷积获取指数级增长的感受野，最后再次使用1X1普通卷积减少卷积核参数。 最后因为三个并行分支的特征图大小不一致，故采用通道像素叠加的方式将三个 特征映射连接起来（这里注意，与前文的通道数叠加区别），达到增强多尺度感
24
受野信息的效果。具体框图如图3-8所示:
Output
图3-8多尺度感受野增强模块

3.3.1评估指标
IOU (Intersection-over-Union)即交并比，是一种测量在特定数据集中检测相 应物体准确度的一个标准。IOU表示了产生的候选框(candidate bound )与目标 框(groundtruth)的重叠度，也就是它们的交集与并集的比值。相关度越高该值 越大。最理想情况是完全重叠，即比值为1。假设候选框A和目标框B,则A和
B的IOU计算公式如(3-16)所示:
候选框与目标框的IOU值决定了检测结果的性质	真正例(TruePositives,
TP)、假正例(FalsePositives, FP)、真负例(TrueNegatives, TN)和假负例(False
Negatives, FN)。其具体定义如下：
1) 真正例(TP)：被正确地划分为正例的个数，即候选框和目标框的IOU大
于等于设定的阈值(VOC数据集上釆用的阈值是0.5,即如果IOU>0.5,贝U认为
27
它是TP,否则认为是FP。而COCO数据集的评估指标是对不同的IOU阈值分 别进行计算）。	心宀•.、
2）	假正例（FP）：被错误地划分为正例的个数，即候选框和俞框的IOU小 于设定的阈值。
3）	真负例（TN）：被正确地划分为负例的个数，目标检测中未使用到这个指
4）假负例（FN）：被错误地划分为负例的个数，即漏检的目标框。
有了 TP和FP,便能够计算检测的精确率（Precision）。精确率代表了在识
别岀来的正样本中，目标物体所占的比率。精确率的计算公式如下:
有了 TP和FN,便能够计算检测的召回率（Recall）。召回率代表了所有正
样本中，被正确识别为正样本的比例。召回率计算公式如下:
精确率和召回率互相影响，理想状态下追求两个都高，但是实际情况是两者 相互“制约”：追求精确率高，则召回率就低；追求召回率高，则通常会影响精确 率。为了权衡精确率和召回率，PR曲线是一个检测性能的好方式。PR曲线以 Recall为横坐标，以Precision为纵坐标。一个置信度下有一组P-R值，将置信
度从大到小降序取值，得到多组P-R值，即可描绘出PR曲线。
图3-12 PR曲线
AP是PR曲线下面的面积，通常来说一个越好的检测器，AP值越高。VOC 数据集采用11点插值的方法计算AP：对于某一特定类别，首先将检测器输出的 所有该类别的预测框，按置信度降序排序，然后设定不同的k值，选择top k个 预测框，计算 FP 和 TP,使得 Recall 分别等于 0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0,最后计算Precision并将得到的11个Precision取平均，即得 到AP。AP的计算公式如下：
28
AP=Tj^y	Precision^')	(3-19)
AP是针对单一类别的，mAP (mean Average Precision )是将所有类别的AP 求和，再取平均，对于有S个类别的数据集，mAP计算公式如下(单位为％)：
1 pS
mAP = - > APt	(3-20)

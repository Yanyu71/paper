2.1.1完全分布式移动性管理方案
完全分布式移动性管理方案在控制层和数据层都采用分布式的方法。方案不需要加入额外的实体，而是通过信令在不同的移动锚点之间传递节点信息。因为 所有的移动锚点都需要得到节点的信息，因此完全分布式方案可能会存在信令过 载的问题。此外，这个方案可能不支持路由优化。完全分布式移动性管理方案架 构如图2-1所示。
图2-1完全分布式移动性管理架构
完全分布式移动性管理方案中包含了几个路由器MAAR。MAAR的功能类似于 移动锚点，主要负责移动节点的路由和管理功能，处理与节点相关的移动性工作。 此方案是完全分布式的，即方案中数据层和控制层都是分布式的，方案中没有一 个集中的控制实体来管理整个网络中节点的移动上下文信息，因此移动锚点若想 得到节点的移动上下文信息，就需要通过信令向节点之前接入的锚点进行查询。
如图2-1所示是完全分布式移动性管理方案的整体架构，图中虚线表示信令 流，实线表示数据流，箭头表示流的方向。
从图中可以看到，将MN初始接入的锚点作为pMAAR, MN接入此锚点后，pMAAR 为MN分配一个网络前缀MN:Prefixlo此时MN与CN1之间的通信需要经过pMAAR 的转发，如图中实线Traffic： Prefixl所示。MN从pMAAR切换到nMAAR后，nMAAR 为MN分配一个新的网络前缀MN2:Prefix2o nMAAR通过绑定更新/绑定确认消息 向MN之前的锚点pMAAR发送MN的位置信息，锚点更新节点的移动上下文信息。
从图中可以看到，此时CN1并不知道MN已经离开pMAAR,依然向pMAAR发送 数据，即CN1与MN之间的通信Traffic： Prefixl首先到达家乡锚点pMAAR,再 由pMAAR通过隧道转发至节点当前所在锚点nMAARo节点切换后与CN2之间新发 起的通信Traffic： Prefix2则可以直接路由到MN的当前锚点nMAAR,再由nMAAR 转发给MN,而不需要家乡锚点的转发。
由上述通信过程可知，为了在节点的家乡锚点和当前锚点之间进行数据的转 发，需要在节点的家乡锚点和当前锚点之间建立双向隧道，因此方案需要额外的 隧道开销。而且随着节点的不断移动，隧道开销也会不断增加。
而且完全分布式移动性管理方案中移动锚点为了得到网络中移动节点的移 动上下文信息，锚点之间需要通过信令交换节点信息，目前在锚点之间交换信息 的方法有几种，可以采用广播方法或维护节点之前的路由前缀。但无论是哪一种 都要增加额外的信令开销，而且随着节点的移动，信令开销会不断增大。这对移 动性管理方案来讲是一个不小的开销。
因此尽管完全分布式的方案能够解决集中式移动性管理存在的一些问题，但 它本身也存在一些问题，如为了收集节点信息而产生的信令使整个网络的信令负 载过大。因此目前完全分布式移动性管理方案的研究并不多。

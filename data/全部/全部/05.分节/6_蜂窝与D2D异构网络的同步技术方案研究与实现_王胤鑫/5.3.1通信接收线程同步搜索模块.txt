5.3.1通信接收线程同步搜索模块
通信接收线程中的同步搜索模块用于D2D 终端开机时，建立同步关系[21]。 由于UE 同步搜索时建立在 Cell 下行同步的基础上，在开机时必然还没有建立 Cell同步，因此在通信接收线程中的同步搜索模块中并不进行UE 同步搜索，其 架构如图5-2所示，同步搜索模块中的流程是串行模式，首先从USRP 层获取接 收的无线帧数据，之后先进行Cell下行同步搜索，即调用Cell Search函数，若 搜索成功，将状态标志CELL STATE  置为 Active, 并将同步搜索得到的结果存 入存储Cell同步结果的Buffer中。之后进行Sync 同步搜索，即调用Sync Search 函数，若搜索成功，将状态标志D2D STATE 置为Active,并将结果存入存储Sync
41
(C)1994-2022 China Academic Journal Electronic Publishing House.All rights reserved.    http://www.cnki.net
图5-2 通信接收线程中同步搜索模块架构
由于所设计的异构网络，最多存在8个D2D 终端，每个终端在不同无线真 依次发送Sync 同步信号，因此，至少需要连续做8次Sync 同步搜索才能确定搜 索到相应D2D 终端。而Cell下行同步搜索，采取迭代方式，也需要多次搜索才 能给出准确结果，因此本方案设计为循环进行24次同步搜索，将每次结果存入
相应Buffer中，在同步决策模块中进行决策。

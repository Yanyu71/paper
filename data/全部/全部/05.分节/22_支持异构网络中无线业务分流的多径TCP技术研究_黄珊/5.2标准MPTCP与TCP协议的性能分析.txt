5.2标准MPTCP与TCP协议的性能分析
首先使用默认拥塞控制机制和调度策略的MPTCP和TCP协议在固定缓存 为64KB下进行仿真，子流2的参数变化如表5-1,可以观察到，当丢包率增加 时，MPTCP的有效吞吐量总体呈下降趋势，但仍然比TCP要高，一旦丢包率降 低，MPTCP的有效吞吐量显著提高，远远高于标准TCP。总的来说，默认设置 下MPTCP的吞吐量比TCP高，但在大量丢包的情况下，优势降低，最差情况 甚至和标准TCP性能一致。如图5-2。
图5-2默认设置下MPTCP与TCP性能对比图
第二个实验室的目的是观察MPTCP在不同缓存大小下的有效吞吐量变化， 并和最理想情况（即2个独立的标准TCP流，用2-TCP表示）的吞吐量进行对 比。可以观察到MPTCP在正常情况下的吞吐量始终不超过理想情况，这是正常 现象。当接收缓存大小为64KB时，MPTCP的总有效吞吐量远低于两个独立的 TCP流，且随着子流2的质量变差而差异变大。在测试用例1-5中，子流2的丢 包率范围在1%到50%之间时，实际吞吐量可达下降45.9% O这主要是因为 MPTCP需要在接收端聚集来自两个子流的数据分组，并将数据分组进行排序， 按序交付到应用层，一个子流的丢包会影响整体的有效吞吐量。在测试用例5-8
46
中，子流2的延迟从100毫秒变为500毫秒时，我们观察到MPTCP有效吞吐量 降低40.1 % 0当该缓冲区变大时，MPTCP的有效吞吐量越接近2个独立TCP的 吞吐量。然而，即使缓存大小设为128KB时，在有大量的丢包或者延迟的极端 的情况下，MPTCP的实际吞吐量仍然减少了 22.5%。
由仿真可以看出不同子流传输数据的路径多样性对MPTCP的影响非常大。 MPTCP中各个子流的分组都会被存储在同一个接收缓存中，直到他们有序的传 递到应用层。我们假设在接收窗口的第一分组发生经由性能较差的子流发送，并 没有被成功地接收到。一旦接收缓冲区发送阻塞，其他的子流将无法发送数据包。 因此，状态差(时延大，丢包率高)的子流限制了总体的有效吞吐量。
图5-3 MPTCP与2-TCP性能对比图

3.1.1用户接口定义
用户界面主要包括两大功能，一个是为了方便管理者与使用者利用已有的物联网资 源知识，需要提供面向用户的知识增、删、改、查，通过在已有的知识管理基础上，通 过增加中间索引层，完成用户可视化知识与底层存储的本体知识的美联，将诉件处理H 标与已有知识关联起来。
用户界面的另个功能则是提供用户'走义事件处理目标的功能，事件处理目标定义 功能主要涉及推理LI标(也即目标事件)定义，推理目标定义需要与事件以及资源模型 结合起来，所以在用户目标定义界面提供的选项需要与知识库中的信息相对应，因此这 需要后台提供映射功能，将I I标中的信息映射为知识库中相关的信息。用户在前端选择 相关的领域，并定义目标条件的参数，选择相关域的约束算子，然后输入参数值。完成 推理目标的定义之后，将请求送往服务器后台进行处理。服务器后台会根据推理目标进 行相关操作，包括分析推理冃标的事件接收主题来接收相关的实时的领域事件、对事件 进行推理处理并将推理结果写入数据库等操作。事件的推理结果需要在用户界面进行相 关的展示，因此需要响应用户的推理結果展示请求，将结果在界面以图表的形式动态的 展现出来。在Web前端推理界面，在用户提交了推理请求之后，用户可以选择推理结 果展示，这会触发结果展示功能，每隔一定时间通过Ajax技术向后台请求获取推理结 果，后台会对请求进行响应，获取推理结果信息后更新用户界面从而动态的展示结果。 例如，结合本课题使用的深圳出租车GPS数据，用户可以定义道路拥堵的条件：选择 相关的领域，包括选择具体道路、缓速定义、最少数据量、拥堵程度等，缓速定义表示 速度在多少之下可视为缓速，最少数据量表示至少需要在当前道路上观测到的数据，拥 堵程度则有严重、中度、轻微等情况，比如严重拥堵可以视为80%的车是缓速车，中度 拥堵对应60%的车是缓速车，轻微拥堵则对应40%的车是缓速车，通过将这些参数定 义提交给后台，由后台进行相关的处理并存储结果。具体的需求描述如下：
(1)需求划分
基本知识管理包括添加操作、删除操作、备份操作、查询操作。用户目标定义包括 选择领域、约束定义、结果展示，其中约束定义又包括参数选择、算子选择和数据输入。 具体的UML用例图如图3-1所示：
(2)需求描述
A.添加操作：
该功能主要包含添加数据集功能。用户输入要新增的知识库名，选择持久化模式进 行新建。
B.删除操作：
该功能主要涉及知识库的删除功能，在知识库管理界面，用户选择所要删除的的知 识库并确认，从而将选中知识库删除。
C.备份操作：
此功能主要涉及知识库的备份功能，在知识库管理界面，用户选择所要备份的的知 识库并确认，从而将选中数据集备份。
D.査询操作：
该功能主要涉及对知识库查询功能，采用SPARQL查询语言实现对本体的査询功 能，针对某一知识库，通过编写SPARQL査询语句，返回对应的知识信息，完成查询 功能。
E.选择领域：用户可以从领域选项中选择某一领域，然后会自动根据用户选取的 领域从后台知识库获取目标定义信息渲染界面，主要是选择目标定义选项。
F.约束定义：
■用户可以在界面上展示的选项中进行操作。
■对「简m的参数输入，选项给予-定的范围选择。
■对「复杂的函数选项，选项提供用户友好的函数命名。
G.结果展示：用户点击结果展示按钮之后，利用Ajax动态的获取后台推理结果， 并实时的将结果展示给用户。

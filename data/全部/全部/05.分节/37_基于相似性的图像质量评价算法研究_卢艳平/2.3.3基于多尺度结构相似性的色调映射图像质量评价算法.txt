2.3.3基于多尺度结构相似性的色调映射图像质量评价算法
由于动态范围的损失，色调映射转换器所进行的转换必然会造成图像质量的损失，色 调映射转换器不能保存高动态范围图像的所有信息，而人类视觉系统在观察这些经色调映 射转换器转换的这些图像的低动态范围的版本的时候也许并不会注意到这些信息的丢失。 然而结构的保真度在色调映射图像质量评价中占了很重要的位置口】。
2010年，Yeganeh等人提出来了基于结构相似性的色调映射图像质量评价方法⑵]。结 构相似性方法提供了一种有效实用的测量图像之间结构保真的思路。原始的结构相似性算 法是基于局部的亮度，对比度和结构三方面信息図。而色调映射图像势必会改变局部的强 度和对比度，所以直接对比局部以及对比度的方法变得不可取。分别令从高动态范围图像 与经色调映射转换的低动态范围图像提取得到的块分别用x和y表示。局部结构保真度测量
数学表达形式为：	耐（“）=爲?岩京終	C9）
其中（7乂，	，	分别是从高动态范围图像与低动态范围图像对应提取小块的局部标
准差和互相关系数。与结构相似性算法一样竜和％也是为了维持公式稳定的常量。与结构 相似性算法相比，舍弃了亮度的比较，而且结构的比较部分与结构相似性算法有一样的表 达形式。式中的第一部分比较的是从结构相似性转换而来的信号强度。进行变换的两个主要原因是：
第一，高动态范围图像与低动态范围图像块区的信号强度差异不应该受到它们的信 号强度的影响，比如会出现它们的信号显著性都超过了阈值或者它们的信号强食都没有达 到阈值。
第二，算法应该减小受到某张图像的信号强度尤其显著而另一张图像的强度尤其不 显著这种情况的影响
图2-2结构保真度插值
定为了符合上述的要求，定义。与/之间的映射为：
(	0, a<T±	、
b' = {	+ cos (b 一『2)]}，Tj < ct < T2 >	(2-10)
I	1, 丁2 < b	>
其中，T},弓是表示重要和不重要的两个阈值，一个升余弦函数提供HDR图像和色 调映射图像的动态范围的平滑变换。需要指出的是，当T2<a都非常的重要，当a<Tx都 不重要。
在Ssca心,V)中和％/分别是我与四的映射形式，它们的值都是0至1之间，0代表 完全即为微小，而1代表极为重要。局部结构保真度Sscai是使用一个滑动的窗来取整张图 像的。得到的结果就是一个反映整体图像结构保真度变换的图。图像细节的可见性取决于 对图像进行的采样密度，图像与观察者之间的距离，图像的分辨率以及观察者视觉系统的 感知能力。单维度的方法不能捕捉到这样的变化。而通过采用了一种多维度的方法：图像 迭代通过低通滤波器并下釆样来创造一个图像金字塔结构，如图2-2所示。局部的结构保 真度在每个维度都会生成。
在每一个维度中，结构保真度图的统筹信息由各个单独得分的平均值得到：
Si =^^ocaZ(%f,yi)	(2-H)
治代表被比较的高动态范围图像与低动态范围图像的第i个小块，M则表示这样的 块区的数目。总体的结构保真度可以通过这种方法得出：
S = Flf=i ^il	(2-12)
L表示维度的总数，而&表示各维度的权值。
结构保真度模型的实现仍需要几个参数：
第一，当计算S/ocaZ时，采用C1 = 0.01和0 = 10，结构保真度模型的整体表现就对这 些参数的具体设置值并不敏感。
第二，为了在各个维度得到保真度图，采用了和结构相似性算法中一样的设置：大小 为11x11标准差为1.5的高斯窗进行滑动取样⑼
第三，假设观察距离是32周每度，这样就能无损展示16周每度的信号，因此为了使 对比度敏感度函数获得最佳维度测量效果时使用16周每度作为空间频率参数。空间频率 参数应用在接下来更精细的维度分别就是8, 4, 2, 1周每度。
第四，平均亮度值设置为低动态范围图像的平均动态范围。
第五，取L = 5以及{&} = {0.0448.0.2856,0.3001,0.2363,0.1333}来结合我。这样的设 置符合心理学的测量结果図。

5.2.3复FFT变换模块仿真与测试
复FFT变换模块主要涉及FFT的时频域转换操作，因此此模块的仿真测试主 要是FFT_Wrapper模块的误差测试，测试方法釆用Modelsim仿真的结果与Matlab 仿真的结果进行对比。因为在RTL实现FFT的过程中，为了防止溢岀，采取了一 定的定点化方案，所以运算结果与Matlab的浮点运算结果难免有一些误差，RTL 的FFT例化过程中每级蝶形运算之间采取四舍五入的方式定点化，以尽量减少误 差。
图5-19和图5-20分别展示了 Modelsim结果与Matlab结果对比的实部误差 和虚部误差。从两个图中可以看出，实部和虚部的FFT结果误差范围均控制在±2
70
以内，这±2的误差是由FFT运算过程中不同的蝶形运算之间的定点化取舍，经 过一级一级扩大后导致的，误差值完全在正确允许范围内，能够满足系统对性能 的需求。
图5-19 FFT仿真Modelsim与Matlab对比的实部误差
图5-20 FFT仿真Modelsim与Matlab对比的虚部误差

2.2.2TDOA测量法
TDOA, Time Difference of Arrival算法是TOA算法的改进，该方法通过多 个基站发送给接收端的时间差来计算位置信息。与TOA利用三个圆在理想状态 下交于一点确定某一位置或三个圆相交确定某一区域不同,TDOA最终从图中来 看是至少三个基站两两组成一组，每组数据能做出一个双曲线，再根据两组双曲 线之间的交点确定移动端的确定位置，三组双曲面，至少4个信号发送端可以在 3D定位中确定移动端的位置。双曲面的公式定义如下：
4 丿=yl(xi-x) + (yi-y) + (zi-z) - ^(xJ-x) + (y.-y) + (z.-z)	(2-2)
其中，妇代表信号发送端i和信号发送端j得到的双曲面公式，(x,y,z)代表 发送端在三维空间中的位置坐标。
这一定位过程虽然不要求接收端与发送端精确的时间同步，但取而代之的是
13
图2-2 TDOA定位算法.
需要所有信号发送端之间进行精确的时钟同步，只有如此，才能确定两个发送端 之间从发送信号到信号传输过程中的时间差，这对于卫星定位系统比较容易实 现，因为卫星的时针每天都需要校正以保持精确同步，但对于其他的室内定位系 统，各个信号发送端之间的同步并不好达到，特别是针对WLAN系统的AP来 说，这种情况需要特殊定制，这样便失去了 WLAN室内定位系统几乎不需要成 本的优势。除此之外，移动信号接收端需要知道各个发送端的精确位置，如此一 来，移动端需要额外存储，或通过中心服务器获得各个基站的位置坐标或地图， 从而也增加了定位的成本。其他方面，TDOA与TOA算法相似，也需要视距传 播环境才能达到较高的精确率。

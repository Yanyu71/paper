3.2K近邻算法
K近邻算法是分类的基本算法。根据己给出的距离矩阵和定义的准则，找出 距离最近的前k个点坐标，并通过这k个点决定出最终的位置。分类准则可以做 如下定义：
p = arg max X F(p = Pi),i = 1,2,N;j = 1,2,,M	(3-5)
p' X冲*(x)
其中，定义F(p = Pi)当且仅当p = Pi，否则值为F(・) = 0。七(x)表示包含所 有最近邻k个点的集合。
室内定位K近邻算法的步骤如图3-2所示。
20
初始化生成样本训练数据集T,并将数据样本存入数据库； 离线阶段：
1.定义K近邻算法距离计算准则L,输入K值及距离误差阈值e ；
在线阶段：
1.将定位数据生成向量；
2.从数据库中取对应样本，与定位数据按照距离计算公式求得距离；
3.根据距离大小由小到大排列，取前臣小于距离误差阈值£的样本;
4.依据“举手表决”法求得位置参痈标注作为最终的位置坐标。
图3-2室内定位k近邻算法定位步骤

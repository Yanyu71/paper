4.3.1数据接收服务
D2D终端的同步功能由物理层实现，层0不需要清楚接收数据中ETE帧的起 始位置。出于这样的定位，层0的接收端向物理层提供连续不间断的数据流式的 接收服务。
数据接收服务由前端线程、变釆样线程和后端线程三个线程提供。前端线程 调用UHD接口从USRP读取数据，每次读取的数据量定义为一个packet,粒度为 625个釆样值，读取完成后，前端线程通过线程间接口将接收到的数据以及其对 应的USRP时间戳发送给变采样线程。变釆样线程每收到一个packet后，首先对 该packet执行滤波升釆样，转换为768个釆样值，然后计算该packet的USRP时 间戳对应的物理层时间戳，将转换后的packet及其对应的物理层时间戳发送给后 端线程。后端线程接收到的packet已经符合基带信号采样率，通过进程间通信接 口发送给软件系统的层1,由层1进行缓存。
58

4.2.4MAC层设计
D2D系统的CSMA/CA流程是LTE协议中所没有的，该部分功能由D2D协 议栈的MAC层管理，包括RTS、CTS和ACK信令的发送和接收、业务数据及其 随路控制信令的传递等。如3.3.2节所述，MAC层通过简单的数据分发实现了逻 辑信道到物理信道的信道映射：对于业务数据，MAC层与RLC层对接并向RLC 层提供数据传输服务，给RLC PDU增加一个简单的包头以形成MAC帧作为物理 层PUSCH的负载；对于控制信令，MAC层将根据流程需要独立生成并下发到物 理层相应的D2D-CCCH信道。
LTE协议中的MAC层具备HARQ功能，但其反馈是通过基站与蜂窝用户之 间的一些专用信道，如PUCCH等完成的。D2D通信流程中，CSMA/CA的ACK 信令可以代替这些专用信道完成链路的反馈，因此D2D协议栈中的MAC层可以
38 通过HARQ进行链路的自适应。
从功能上进行区分，D2D协议栈的MAC层可以分为RTS控制器、CTS控制 器、DAIA控制器和HARQ控制器四个模块。

2.5.2改进的比例公平算法
经典比例算法以系统吞吐量的减少换取了较好的用户间公平性，在一定程序 上改进了系统整体性能。而在实际的多用户无线通信系统中，不同类型的用户需 求的数据传输速率以及对平均时延的容忍度都不一定相同。基于此，也出现了一
些改进的比例公平算法。
a)  基于数据速率的比例公平算法
这种算法是以用户的业务需求为基础，对用户之间的公平性进行调整。实质
20
(C)1994-2022 China Academic Journal Electronic Publishing House.All rights reserved.   http://www.cnki.net
上是基于速率自适应RA 算法和公平性策略的一个综合改进。这里对其通用系统
模型进行介绍和分析。
假设 OFDM 系统的下行链路中有N个可用子载波，分别用n ∈ {1,2, …N}表 示，且每个子载波的带宽为B;  系统内待接入的用户总数为K,  分别用 k ∈ {1,2; …K}表示。Pumd是基站可提供的总发射功率，用户k在子载波n 上的发射 功率是Pk,n。另外假设用户信道状况已知且可靠，不同用户的信道状况信息为h,n, 基站根据不同用户在各种信道上对应的信道状况h,, 分配子载波和功率，然后通 过独立的下行信道将这些信息传递给各个用户。这一分配过程的抽象数学优化式
表示如下为：
(2-6)
c3:R:R2: … :Rx=P₁:P₂ ∵ … :Px,Px ∈N
在式(2-6)中，Hx=F²,/N₀B表示第k个用户在子载波n上的载波增益，N。 表示噪声的功率谱密度，h²,, 表示第k个用户在子载波n上的信道响应。αxn是第 k个用户在子载波n上的分配因子，其中 αn=1表示子载波n被分配给了第k个用  户，αxn=0 反之。A:P₂ : … :px是根据不同用户的业务类型而确定的比例关系， 这个比例在一定程度上反映了用户间公平性。 Rg 是第k 个用户在分配后可获得的  传输速率。约束条件cl 保证了总的分配功率不大于基站可提供的总发射功率，  这是硬件的客观限制；约束条件c2 保证了每个子载波只能在任一时间内被最多  一个用户占用，而不能同时被多个用户共享；约束条件c3 就是以用户数据速率  为基础的比例公平约束，在对无线资源分配过程中，需满足c3的要求，从而保  证不同业务类型用户之间的公平性。
从优化式的求解方面来说，这是一个典型的子载波和功率的二维分配优化问 题，约束式c2中的αxm∈{0,1}以及约束条件c3的非线性形式都极大地增加了求解 的复杂度，从而使得最优解的求解过程变得非常复杂甚至不可能。对于这种混合
的二元规划问题，许多文献往往将其分为两步，退而求其次优解。
两步法的思路相对简单，第一步先假设基站可提供的总功率在各子载波上平 均分配，根据退化的约束条件为每个待接入用户分配相应的子载波；第二步则根 据第一步中子载波的分配状况，利用注水法功率分配原理分配功率，这是一个非
常常见的求解框架。
21
(C)1994-2022 China Academic Journal Electronic Publishing House.All rights reserved.   http://www.cnki.net
b)  指数正比公平算法
上一节中介绍的基于数据传输速率的比例公平算法可以根据用户的不同业 务需求来设置优先级，从而保证分配的合理性和公平性。在实际通信系统中，业 务的不同不仅体现在对传输速率要求的不同上，而且体现在对时延的容忍度上。 例如普通通信业务中的语音通话业务要求做到实时传输，而相对地，用户对短信 业务中的时延要求则不会这么苛刻。以最大加权时延优先算法(Modified Largest  Weighted Delay First, M-LWDF)算法128]为基础，通过改进而提出的指数正比公平 算法 (Exponential   Proportion   Fair,EXP/PF) 就是基于以上考虑。通过对经典比 例公平加以改进，提高时延即将到期的用户(这里的用户实际上是指某一种业务 需求)的权重，从而保证实时业务数据的成功传输。
从上面描述可以看出， EXP/PF 算法把待接入用户的业务需求分为实时业务 和非实时业务，然后根据这两种业务对时延的不同要求来分别设置对应的优先级 计算公式，并进行分别调度。在任意1时刻，这两种不同业务的优先级计算公式
分别为：
(2-7)
Ra(1)和反(1)的意义与经典比例公平中的相同， R;(1)表示第k个用户在分 配时隙t时，在当前待分配信道上可获得的信道速率，R₁ (1)是第k个用户的平均 吞吐量。这里的D.(t)  是截止到1时刻第k个用户的等待时延，
止到t时刻系统中所有待接入的实时业务平均加权时延。 p.是根据用户业务的需 求而确定的时延权重因子，其表示如下：
px=-lg8k/xk                                                     (2-8)
这里的v,是用户k的业务能容忍的最大时延门限，即时延阀值；δ是允许的 最大丢包率。因此可以看出若一个待接入用户的业务只允许非常小的丢包率或能 容忍的时延门限很小，说明该业务对时延非常敏感，则其时延权重因子p₁ 会很 大，因此也会有较高的传输优先级。
EXP/PF 算法的核心是为当前待分配的子载波选出t时刻优先级最高的用户 业务k*进行传输，即：
k'=argmaxQ(1)                                       (2-9)
该算法具有很好的延迟特点，即使在高负载大负荷的情况下，系统也仍然能 较好地保证时延敏感的业务的QoS。
22
(C)1994-2022 China Academic Journal Electronic Publishing House.All rights reserved.   http://www.cnki.net

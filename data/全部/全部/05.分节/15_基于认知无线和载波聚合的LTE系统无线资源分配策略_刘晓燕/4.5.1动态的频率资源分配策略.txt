4.5.1动态的频率资源分配策略
动态的频率资源分配策略即对分量载波CC  和资源块RB 的分配。首先假设 功率(上文一直用能量，二者只是时间维度上的不同)在所有资源块上平均分配，
即功率分配给定。则原优化问题Q1可以简化为Q2:
(4-7)
现在，问题就转化为如何根据Q2 分配分量载波及其资源块的问题。在具有载波 聚合能力的系统中，每个eNodeB 通常都有一个处于激活状态的主分量载波和一 些辅助分量载波。所以我们关注的是如何把这些辅助分量载波及其资源块分配给 等待接入的用户，即认知系统中的次级用户。在我们提出的算法求解过程中，对
于每个等待接入的用户来说，都会依次执行下列过程：
38
(C)1994-2022 China Academic Journal Electronic Publishing House.All rights reserved.   http://www.cnki.net
1)对于用户k, 先找到它在每个分量载波上对应的信道状况rm”,n∈{1,2…N} 最差的资源块，组成数组 W。 再从 W 中找出最大值，即  则这个“最差信道情况是所有分量载波中最好的”的分量载波m 就被选为用 户k的优先分配分量载波。
2)检查约束条件 C₃, 以确保用户k 聚合的分量载波个数不超过聚合门限。然后 检查约束条件C₁, 如果当前分配的资源尚不满足其速率需求，则根据负载均 衡原则为其分配别的分量载波作为其辅助分量载波，并为其分配对应辅助分 量载波上的资源块。
3)把已经分配给用户k 的资源块标记为“已被占用”。然后计算并检查限制条件 G₁ 和 C₃, 如果全部满足，则该用户的资源分配过程结束，返回1)对下一个 用户进行资源分配。否则返回2)继续为该用户分配其他分量载波资源。重 复以上过程，直到所有用户得到所需资源，或者当前系统无可用资源为止。 这一阶段的分配过程框图如图4-2所示。
找出每个成员载波中信道状况最差的
资源块，形成数组M
找出数组M 中最大的元素m, 记录m
所属的成员载波n
将成员载波n设置为用户k的优先
分配分量载波
分配辅助载波阶段
当前分配的成分载波不满
足该用户需求&&
NO                                  有可用资源块?
标记已分配分量载
波对应的资源块位
置
结束
YES      按负载均衡原则给该
用户分配辅助分量载
波及其RB
图4-2分量载波及资源块RB 分配阶段流程图
39
(C)1994-2022 China Academic Journal Electronic Publishing House.All rights reserved.   http://www.cnki.net

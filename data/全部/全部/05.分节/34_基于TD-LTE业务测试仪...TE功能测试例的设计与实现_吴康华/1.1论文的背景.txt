1.1论文的背景
协议一致性及一致性测试
ISO/IEC 9646对协议一致性有如下定义：“一个一致性的实现应满足静态一 致性和动态一致性需求，并与协议一致性声明中所声明的功能相符合”。协议一 致性测试(protocol conformance test)是开放系统互连(OSI)产品的协议实现与 OSI协议标准一致性程度的测试。由于OSI协议标准本身具有许多可供选择的功 能和需要设定的参数，不同的OSI产品设计者和生产者也可能会对同一协议标 准作出不同的理解和解释，以及一些人为差错，都会使采用相同协议标准的OSI 产品有所差异，影响OSI产品之间的互操作。最终结果就是降低了用户体验， 甚至无法满足基本功能需求。在移动通信中，终端厂家和产品数量众多，不同厂 家生产的终端设备必须要同一网络中互联操作，所以必须进行一致性测试。3GPP 为终端协议一致性测试定义了大量的测试例，其中本文研究的Volte相关测试定 义于 TS 34.229-10
协议一致性测试标准化方法
3GPP只定义测试例，并不负责何时开展测试、如何开展测试、测试标准这 些工作。为此，全球运营商和终端设备商成立了 GCF(Global Certification Forum), 该组织负责一致性测试平台/测试例以及终端的认证。该组织通过独立的过程确 保终端的全球互操作，GCF定义了每个终端必须接受的测试，包括射频一致性 测试、协议一致性测试、无线资源管理一致性测试等只有通过GCF认证的 终端才能上市。同时所有测试例必须经过两款不同厂商的终端测试通过才能申请 GCF认证，因此测试例与终端是相互验证的。为了对测试进行GCF认证，厂商 必须提交测试通过结果以及测试过程中产生的logo
VoLTE技术优势
LTE作为当今最主流的新一代宽带无线通信技术方案，相对3G时代又有了 长足的进步。由于LTE面向数据业务的分组域(PS)的系统设计目标，在LTE 网络中没有传统的电路域结构。因此LTE不再支持传统的电路域交换的语音解 决方案。IP多媒体子系统(IP Multimedia Subsystem, IMS)控制的VoIP将是LTE 的终极语音解决方案，即Voice over LTE ( VoLTE)o VoLTE相对于传统语音解决 方案及过渡方案(例如CSFB)有着显著的性能优势和用户体验，例如低时延、 高清晰度和支持多媒体通信等。凭借全方位的性能优势，volte必将逐渐替代现 有方案，在运营商、设备商和芯片商的大力推动下，市场上将出现大量支持volte 的终端。
4现有测试仪表功能局限性
在整个LTE产业链中，无线终端协议一致性测试仪表的研发是重要一环。 目前，国外仪表厂商已做出了商用的支持VoLTE功能测试的LTE业务测试仪， 然而在本项目立项之时，国内现有平台尚无法支持VoLTE测试，因此支持终端 VoLTE的仪表的研发具有一定的必要性和紧迫性。
VoLTE测试功能实现难度
协议一致性测试仪表通过全面模拟网侧功能和信令流程对终端进行测试。 3GPP协议不仅定义了 VoLTE网络架构和业务信令流程，还在3GPP TS34.229-1 中为终端VoLTE测试定义了大量测试例。然而协议文本并没有给出测试例和系 统平台的具体实现。从协议文本到测试功能的完整实现需要经过大量的工作。
首先，测试仪表虽然对现网进行模拟，但始终不是实际网络，因此测试仪表 的实现虽然参考协议但又不能完全照搬协议。必须经过系统平台开发人员和测试 例开发人员反复沟通，充分调研。决定如何模拟协议架构。例如某个模块只需对 现有系统稍加修改即可完成，而某些模块需要直接添加。同样对于需要添加的模 块，是直接集成与现有平台的某个模块中。或者某个模块可以再细分为若干个子 模块。这些都需要不同模块开发人员共同进行大量研究。不良的设计将会给后续 调试工作增加困难，同时提升了维护成本，影响产品的商业价值。
其次，由于VoLTE对现有网络进行了重大升级，反映在仪表平台上则是在 EUTRA_PTC上增加了 IMS_PTC子模块。在平台上增加IP_PTC模块，其内部 包括SIP编解码模块、MUX/Filter模块等。在系统适配层(System Adapter)增 加IP Sec模块和IP Transmit模块等。新模块的添加和原有模块的修改提高了系 统的复杂性，增加了开发难度。在这一过程中，测试例开发人员要与平台开发人 员多次沟通，分析确定接口。
最后，没有测试例的平台没有意义，测试例也不能脱离测试平台而存在，因 此测试例开发人员不仅需要熟练掌握平台所提供的接口，同时也要了解接口函数 内部实现，同时结合自己对测试例的理解，帮助平台开发人员提高平台的执行效 率。同时VoLTE作为应用层服务，其测试例的流程更长更复杂，任何一个环节 出现问题都会导致测试例失败。例如某一条消息的配置与协议不一致，某一个函 数调用过程中产生bug,这些问题都需要平台开发人员和测试例开发人员一起配 合联调，一步步定位问题代码，分析代码执行结果不符合预期的原因。找到原因 后对代码重新修改，同时由于一个函数或者一个变量可能在不同模块、不同时间 被调用，所以要防止修改过程中引入新的bug,避免顾此失彼。
选题来源
基于volte功能测试的必要性和紧迫性，作者研究生阶段参与到了国家重 大专项课题"TD-LTE-Advanced TTCN终端协议仿真测试仪开发”的科研项目中， 并选择“基于TD-LTE业务测试仪的VoLTE测试例的设计与实现”作为作者研 究方向。该课题目标为研发出国内首款支持VoLTE功能的测试仪表。

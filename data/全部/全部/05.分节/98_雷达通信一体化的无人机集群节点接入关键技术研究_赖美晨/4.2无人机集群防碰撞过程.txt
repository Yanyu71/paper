4.2无人机集群防碰撞过程
无人机自主防碰撞系统分为感知、预测、防碰撞三大模块。感知模块将探测 的数据发送到碰撞检测模块，碰撞检测模块根据从传感器接收到的数据判断是否 会发生碰撞，而碰撞避免模块的功能是在碰撞检测模块检测到障碍物的情况下， 为无人机制定决策避免碰撞。一个有效的碰撞避免模块可以在无人机碰撞前完成 决策的制定，下文将详细介绍各个模块的工作流程。
4.2.1 _体化题
感知过程是无人机防碰撞的第一步，无人机首先需要发现环境中存在的危险, 才能进行碰撞避免。无人机感知的障碍物主要有已经在无人机网络中的无人机、 未入网的无人机和障碍物。在波形一体化的模式下，雷达和通信可以共用频谱资 源，在探测的同时发射感知数据，不需要等待雷达检测完成才开始发送通信信息， 可以对普通障碍物和未入网的无人机进行探测识别。
网络中的无人机在使用一体化信号通信的过程中保持定向探测并且A2G链 路也将周期性地广播自身和邻居节点的位置与飞行状态。而障碍物和未入网的无 人机的飞行状态是未知的，因此主要的难点是躲避环境中未入网的无人机和普通 障碍物，一体化探测的过程如图4-2所示。
(a)探测到障碍物场景示意图
(b)探测到无人机场景示意图 图4-2 一体化探测的过程
为了减少探测过程中一体化信号的收发碰撞，在探测阶段所有的无人机将以 一定的概率处于发送和接收的状态。无人机A首先处于RC模式向周边发送一 体化信号形式的Hello包，对周边环境进行扫描。如果目标是障碍物只会收到一
44
个雷达回波，如图4-2（a）所示。如果目标是无人机并且处于接收状态成功接收到 了一体化信号，将回复一体化信号，如图4-2（b）所示，无人机A收到无人机B的 一体化信号如果预测到没有碰撞将回复ACK确认信号，三次握手完成后即建立 了通信连接，完成一次邻居发现的过程。如果预测到两无人机之间有碰撞的危险, 无人机A将给无人机B发送紧急数据包，无人机A将在紧急数据包中标注碰撞 状态并且告知对方避障措施，两无人机之后将按照数据包中的决策信息执行防碰 撞措施。

4.2.3碰撞避免策略
在完成感知和预测之后，无人机在发现威胁时需要制定防碰撞的决策。无人 机间的防碰撞，在紧急状况下想要避免与对方的碰撞，可以协商多种碰撞避免策 略，例如一架无人机减速另一架无人机以最大角速度进行躲避，或者都以最大转 向角速度进行躲避。在一架无人机以最大角速度躲避，另一架无人机保持原路径 不变减速的策略下一架无人机可以不需要重新规划路径，但是在两无人机相向飞 行等情况下可能难以脱离险境;两架无人机都以最大角速度进行躲避的方式可以 避免这种问题，但是两架无人机都得偏离航线飞行，偏离航线之后还需要重新规 划路径。
不同的无人机外形和无人机的尺寸会影响碰撞模型»本文以无人机外接球作 为无人机的碰撞模型，外接球的半径即为碰撞模型的等效半径用R表示。假设两 无人机的碰撞模型半径为出和妁，轨迹预测误差为$，则两无人机不发生碰撞 需要保持的最小安全距离为：
“AB =RA + 心 + 了	（4-4）
由于无人机制动系统有一定的反应时间，还有无人机的运动约束等限制在采 取避障措施之后并不能马上脱离险境，因此需要计算无人机的最小反应距离，无 人机必须在达到最小反应距离前采取规避措施。假设无人机A和无人机B的起 始位置分别为屛,ZJ和巩血必忆2）,无人机A和无人机B的飞行速度分
47
别为X和匚，并且在短时间内飞行速度保持相对稳定。〃分别为两无人机 的飞行航向角，0为两无人机间的观测角，无人机间成功通信的时延为几，无人 机收到信息后的系统处理时间均为7；。
则两无人机的初始距离2为：
D。=	—兀）2 +（乙一乙）2 + （Z厂 Z2）2	（4_5）
两架无人机发生冲突时可以近似看成飞行在同一个平面上，以无人机A和 无人机B在XOY平面上发生冲突为例，经过系统反应时间7；后，无人机A和 无人机B之间的横向距离为：
^X = Docos0-Vi(Ts+T!)cosa-V2(Tsc+Ts )cos0
无人机A和无人机B的纵向距离为：
△Y = 2 sin&-% （： + 7；） sin a+耳（戛+0 sin 〃
则经过系统反应时间7；后，两无人机的距离为：
=VAX2+AK2
即:
姑相芯莎莎怎齐屈师蔽烦莎i茶莎而7 （4-9） 在式（4-刃中，必为两无人机的初始距离，其余值都是固定值。
如果两无人都以最大转向角速度紧急躲避，并且无人机最大旋转角速度为r, 如图4-5所示，则在执行躲避措施过程中，两无人机的实时横向距离为：
r y	v	1 [v	v
hx(t) = i\X		 sin yt cos a - - (1- cos 幷)sin a		 sin y/cos/?-—(1- cos yt) sin 0
(4-10)
两无人机的实时纵向距离为:
hy(t) = AY-
(4-11)
两无人机的实时距离为:
(4-12)
如果其中一架无人以最大转向角速度紧急躲避，另一架无人机保持方向不变
做减速运动,如图4-6所示。
假设在0<r</]时段，无人机B的加速度从0匀速增加到a,无人机B在此 时刻做变加速的减速运动，当无人机B的加速度增大到a之后不再增加，无人机 B做匀减速直线运动，直到右时刻速度减为0。则无人机B在/时刻的位移可以 表示为：
49
6右
化厶一上牢)+化一丄他)(/——丄	t}<t<t2	(4-13)
则在执行躲避措施过程中，两无人机的实时横向距离4(/)和纵向距离％(/) 分别为：
—sin//sina+—(1-cosyr) cos a +s(/)sin 0 y	Y	」
两无人机的实时距离为:
”a)=血2(0+的2(/)
针对不同的碰撞避免策略，令W) = 0,对式(4-16)进行求导求解无人机间的 最小距离。假设满足上式的时间表示为则对应无人机间最小距离为力亿)。当 两无人机的最小距离大于最小安全距离，可以成功避免无人机间的碰撞。当 h(tr)^RA+RB时，两无人机处于刚好碰撞避免的临界状态，联合两式：
WJ=0
"Or )=心 + 心 + 7
由式(4-5)至式(4-17)的计算过程可知，方程组中仅有两无人机的初始距离2 和两无人机距离最小的时刻一是未知的，由此可以求得两无人机都以转向的形式 进行躲避时并且能够躲避成功的无人机间的最小距离对应的时间—和初始反应距 离必，此时的初始反应距离即为最小反应距离。
无人机与动态障碍物的碰撞避免过程与无人机间的碰撞避免过程类似，只是 动态障碍物不做躲避措施，无人机可以以最大转向角速度躲避障碍物，假设动态 障碍物的碰撞模型半径为心加，障碍物的轨迹预测误差为/，则无人机A与动 态障碍物的最小安全距离为：
dAB=RA+Robs+C	件 18)
考虑特殊的情况，障碍物的运动为匀速直线运动，在执行躲避措施过程中， 无人机与障碍物的实时横向距离/(/)和纵向距离％⑴可以表示为：
hx(t) = AZ- —sin//cos cr—— cossin a -sohx(t)cos fl (4-19) U	Y	)'
r v	v	]
h (t) = AK - — sin yf sin a+—(1 - cos y/) cos a +s 伽(/)sin0	(4-20)
Lr	Y	」’
其中为障碍物的运动位移，按照式(4-16)和(4-17)可以计算无人机与障碍物间 最小反应距离。

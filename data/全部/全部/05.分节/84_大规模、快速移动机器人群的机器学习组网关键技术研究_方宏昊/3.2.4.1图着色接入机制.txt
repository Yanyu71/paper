3.2.4.1图着色接入机制
由于数据包的传输可能和广播信息收集节点重叠，所以本文存在多跳信道分 配问题，因此网络可以用图来表示，图中的每个点代表网络中的节点，连接两点 的边代表两点的发包通信，因此多跳网络的信道分配问题可以转换为图着色问题。
基于图着色的网络可以用无向图G= CG”, Ge丿来定义，其中G”为网络中无 人机节点的集合，Ge代表两无人机节点之间链路连通的边集合。图着色问题转
换为将集合7划分为K个不包含任何边的独立子集合。着色图问题主要是用来 计算最小的颜色组数K值，本文用信道数量代表问题中的颜色组数K。已知K个 信道反向利用图着色理论，来建立无冲突的无向图用来进行时隙分配信道接入。 信道接入的基本理论是当节点处于发送模式时无法接收数据包，而在接收模式下 可以同时接收多个节点的数据包，因此颜色代表的是占用信道来发送数据，在该 颜色代表的时隙下节点无法接收数据包。
在本文使用的着色算法中，需要定义以下参数：
1. 每个节点着色编号n,
2. 节点邻居着色编号表，
3. 着色到期时间。
建立无冲突的着色图的机制是在节点j转发数据包的过程中，通过在数据包 加入本节点的着色信息，与一跳范围内的邻居保持无颜色冲突的分配方式，即每 个节点需要保证本节点的颜色与所有邻居节点颜色不一样，着色后的多跳接入如 图3-7所示。
时刻T,信道分配给黄色	时刻T+1,信道分配给红色
图3-7信道着色示意图
无人机基站为了收集全网节点的数据包，需要规划合适的飞行路径来最大化 吞吐量，首先需要收集全网节点信息，本文通过无人机基站周期广播的方式收集 通知节点发送信息给基站，在广播通知的过程中通过图着色理论规划了节点多跳 信息回传的接入时隙。为了提高吞吐量，除了网络初始化时信息包直接传输，在 常规运行时间内信息放在数据包头发送，因此存在多跳信道接入冲突问题，采用 图着色避免冲突。
无人机基站对每个群内节点进行时分多址时隙分配，按照接触时间的优先级 顺序对无人机覆盖范围内的节点分配时隙传输数据包。并将实时吞吐量结果返回 给无人机轨迹优化模块，优化无人机飞行轨迹。基于位置分布加上无人机基站以及机器人节点的移动性导致接触时间发生 变化重构传输优先级，把这作为信道接入优先级的度量指标。传统的地空通信网络中按照无人机在地面覆盖范围和飞行方向给地面传感 器分优先级接入信道传输数据。在支持快速移动的无人机辅助网络中，无人机飞 行速度较快，且地面节点可以是具有移动性的移动机器人，因此采用接触时间划 分优先级的信道接入方法。

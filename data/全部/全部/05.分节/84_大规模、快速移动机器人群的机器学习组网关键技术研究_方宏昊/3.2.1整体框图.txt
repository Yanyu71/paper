3.2.1整体框图
系统整体框图如图3-4所示，其中信息更新模块负责收集全网节点的信息来 生成概率地图以及完成后续的路径规划和信道分配。无人机基站根据收集到的节 点信息生成概率地图，并通过离线训练得到的度量矩阵来预测往每个节点方向移 动的吞吐量，根据吞吐量最大来规划飞行路径。在规划好飞行路径后信道接入模 块负责基于着色图的无冲突接入，无人机节点根据与地面机器人节点的接触时间 来分配接入优先级，分配好优先级后讲对应色号广播给地面机器人节点，机器人 节点按色号接入信道传输数据。
35
信道接入/信息收集
路径规划
信道接入/信息收集
路径规划
■
r	周期T
<	周期T
图3-5算法帧结构
无人机基站在飞行过程中会周期性广播Becon包，目的是探测通信范围内的 节点数量和位置，以进行后续的时隙分配和轨迹规划。因为无人机是高速移动的， 所以无人机基站和地面节点之间的信道接入是动态变化的，时隙分配和无人机飞 行轨迹需要周期性的更新和规划，如图3-5所式这是相互独立的两个阶段，分别 对应本文的3.2.3节3.2.4节。
地面节点收到无人机广播的Hello包后，将自己的信息放入ACK包中传给 无人机基站，节点回传的ACK包结构如表3-1所示。
表3」ACK包结构
节点ID
节点IP
节点位置
剩余能量
包ID
令B居信息

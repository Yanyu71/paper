4.2.3.1.改进方法和原理
在具体讨论引入的协变量之前，本文先对引入协变量的方法和原理进行介绍。 根据Fader等(2007)的推导，在Pareto/NBD模型中加入协变量只需将参 数a和B作如下替换
a =。02邛(一产'1为)	公式(4-20)
6 =邛(一，’24)	公式(4-21)
Z1和Z2分别为调节用户间发文行为和流失行为异质性的协变量向量，力和 了2分别为两个协变量向量的系数向量，原模型参数I和S保持不变。
这种改进方法使用了比例危险模型(Proportional Hazards Models, PHM)的 思想，最常见的PHM,公式为：
h(t\e,Y，Zt) = /i0(t|e)exp(/z)	公式(4-22)
面⑶。)为原概率分布的危险函数，起着“基准线”的作用，Z代表对基准线 造成影响的协变量，起着调节基准线的作用，y为z的系数，决定z的影响程度。 根据这种思路，Fader等(2007)经过推导得出，只需将参数a和。作如上替换 即可成功引入协变量［4汉
4.	2. 3. 2.引入协变・
根据第四章第一节的研究结论，已经发现消费者的最高购买金额和评论次数 会对消费者的流失行为产生影响。，基于此，本文选取了目标个体用户在观察期的 总评论次数和最高购买金额两个变量作为预测用户购买行为的协变量。这两个变 量已在数据的获取阶段进行了搜集，由于它们的数值在不同用户间的差异比较大, 若直接将它们作为协变量代入到似然函数中，求极值时容易出现异常的值而导致 循环中断，因而本文在进行参数估计前使用了 Max-Min标准化方法对总评论次 数和最高购买金额这两个协变量的数据进行标准化处理。	-
为了观察各协变量对个体用户的行为规律产生的影响，本文做了以下三组实 验：
1	.假设总评论次数对流失行为影响显著，使用总评论次数作为流失行为的协变 量，即 6 = B oexp(-yitc)；
2	.假设总购买金额对流失行为影响显著，使用总购买金额作为流失行为的协变 量，即 B = B 0exp(-y2tp)。
3	.假设总评论次数和总购买金额对流失行为影响显著，使用标准化后的总评论
44
次数和总购买金额之和作为流失行为的协变量，即B = Boexp[-y2 Q+tp) ]o
其中tc和tp分别为总评论次数和最高购买金额做了 Max-Min标准化处理后 的数据，力、yz和丫3分别协变量向量的系数向量，原模型z中的参数Y和s保 持不变。实验结果发现，这三组的实验结果均比较显著地提高了原Pareto/NBD 模型的预测效果，这其中尤以第三组模型的改进结果最好。接下来，本文将分别 展示模型改进的效果。

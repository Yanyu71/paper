3.6.2AllSeen标准设备发现
由于标准设备对于特定AP的状态只有入网和离网两种状态，而只有在AllSeen 标准设备入网的情况下控制设备才能发现标准设备。因而对于标准设备的发现，暗 含标准设备和控制设备连接在同一网络。在此种情况下，由于标准设备有自己的路 由，在标准设备连接到个人AP之后，会通过About广播设备相应的信息，具体广播 信息格见表2-5,控制设备在加入到标准设备所在的AP之后，会根据控制设备的路 由匹配规则，接收总线上符合规则的消息从而找到提供感兴趣的服务的设备。本系 统中控制设备路由通过调用wholmplements ()接口将路由消息的匹配规则设置为: “org.*"，这代表控制设备可以接收包含org.前缀开头服务的设备消息。在接收到相 应的广播信息后，控制设备会根据这些信息抽象为具体的设备。本智能家居系统根 据广播端口号，总线名称和应用ID确定标准设备的唯一标识性。
42

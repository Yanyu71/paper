2.3.1用户兴趣表达与建模
用户兴趣的表达与建模在个性化检索中占据比较重要的作用，是处理用户意 图鸿沟的主要手段。只有准确获得用户兴趣模型，才能给用户提供高质量的检索 结果。一般而言，对于不同的用户的行为数据建模方法也略有不同，常见的有用 户的元数据、查询或浏览日志、用户的社交网络以及用户社交媒体行为等等，不 同的数据也表达了用户长期或短期的兴趣。常见的用户兴趣的表示方法包括：关 键词表示法、主题表示法、基于本体论表示法以及其他方法，不同的表示对应不 同的建模方法，具体来说
(1)关键词表示法。该方法是一种常见的用户表示方法，它利用一组用户感 兴趣的关键词来表示用户兴趣。比如，如果用户对音乐感兴趣，那么基于关键词
13
表示法的用户兴趣模型可以表示为(音乐，摇滚，流行)。而且关键词一般带有 不同的权重，准确得到描述用户兴趣的关键词以及相应的权重该研究的核心问题, 一般是对用户的搜索或点击日志提取关键词，将这些关键词组合成向量，构成用 户兴趣模型。基于关键词的表示对应的建模方法可以分为两种：基于频率与基于 主题模型的用户兴趣建模方法。
(a)基于频率的建模方法
常见的基于频率的关键词提取算法包括词频-逆文件频率(Term Frequency -Inverse Document Frequency, TF-IDF)与 BM25124〕两种。其中，IF-IDF 的计算表 达式为
TFIDF(叫)=- logI—J-L-i	(2-2)
|{)：% 河}|
其中，。表示一个用户的所有文档集合，|必表示集合中文档数，力与)分别是词 与文档的序号，表词吗在文档当中出现的次数。TF-IDF可以看成是词频与 逆文件频率的乘积，如果一篇文档中某个词的词频较高，而且在其他文档中的出 现较少，这样的关键词具有很好的表达能力。因此，TF-IDF能够去除掉不具有 区分能力的常见词，具有较好的性能。此外，BM25也是常见的基于频率的建模 方法，其计算表达式为
=力DF(w)--£3% •	(2-3)
-	/+以1—6+方―)
avgal
IDF(w.) = log
“一口(吗)+ 0.5 "(叫) + 0.5
(2-4)
其中，N是文档总数，〃(吗)是包含该词的文档数，工是词吗在文档中的词频， M是文档长度，mg成为平均文档长度，而匕与b是调节因子。
(b)基于主题模型的建模方法
主题模型(或话题模型)是一种生成式的有向图模型，广泛用信息检索、自 然语言处理等领域。主题模型假设主题可以按照一定规则生成相应的词，相反, 在一个已经生成的文档中，可以根据概率方法推导出文档的主题分布情况。关于 主题模型的研究非常多，但大多可以看作是传统单模态主题模型一一潜在狄利克 雷分布模型(Latent Dirichlet Allocation, LDA)网的变式，因此，下面主要对主 题模型中经典的LDA模型进行阐述。
LDA模型是一种基于概率图的生成模型，主要对文本数据进行处理，但也 可用于图像数据。其基本思想是假定N篇文档中存在K个主题，每个主题下有 犷个词，LDA认为每篇文档都包含多个话题，用/表示文档d中包含的主题分
14
布，然后从篇文档中按照一定概率指派一个主题，再从这个主题中按照一定概率 指派一个词，不断重复此过程，便生成了一篇文档。LDA模型利用概率图来建模 这种生成过程，该模型中观测变量只有词w,要推导出其余所有的隐变量，包括 主题分布夕以及词频分布。。图2-3描述了 LDA的图模型，其相应的生成过程如 下：
图2-3 LDA模型的图结构
• 对于每个话题上,从参数为夕的狄利克雷分布中随机采样一个词频分 布直
•对于每篇文档e[LN],从参数为a的狄利克雷分布中随机采样一个主题分 布％
•对于文档明中的每个词叱：
•根据％进行主题分配，得到文档斗中词吗的主题町，
•根据分配的主题所对应的词频分布私随机采样生成词吗」 于是，LDA模型对应的概率分布为
=。⑸ I1P) Hp(z〃 1I Zj M)
\ /=1	7
其中，p© | a)与|/)分别是参数为a与2的狄利克雷分布。通过对6与。 的积分以及z”的求和，可以得到w”的边缘分布：
15
p(w\a,fl')
W
=00⑸ I a)，S I 力)I1Xp(z/ 4)。(吗/ Zji，* 狙的 I T %	,
因此，整个样本分布为
N
p(D | 以,6)=PJpO | a,£)
j=i
(2-6)
(2-7)
LDA模型是一个比较复杂的模型，难以直接求解，因此实践中经常用变分 法或吉布斯采样㈣来推导。其中，吉布斯采样是马尔科夫链蒙特卡洛模拟的一种 特殊情况，经常用来推导高维模型，因此本文中也采用吉布斯采样法对提出的模 型进行推导。下面对吉布斯采样过程简要说明。
在LDA模型中，观测变量为叱/相应的隐变量为每个词所属的主题z”。
J I1	J
因此，模型中的参数主题分布e以及词频分布。可以通过观测到的W,.,以及z,.,积
J>*
分求得，这种方法称为collapsed Gibbs sampling»为了推导目标分布p(z | w),首 先推导与之成正比的联合分布：
P(z, w\a,ft) = p(w\z, Pyp{z | a)	(2-8)
此公式中第一项独立于a,第二项独立于因此，可以分别进行处理。对于第 一项，可以得到
p(w I z/) = I 1 AW"
_.仅巩+尸)	(2-9)
△(/)
其中，效={〃£)}[ 碎)表示词吗在主题女中出现的次数。△(•)为Delta函数，是 Dirichlet分布的归一化系数。对于第二项，可以简化为
p(z | ㈤=J p(z | e)p(e । d)d&
昔 A(〃j+a)	(2-10)
=U A(a)
其中，表示主题上在文档当中出现的次数。因此，可以得到联
K { J ) J	J
合分布为
行公(%+。)6仅9+0
* A(a) if MB)
(2-11)
根据上述联合分布，利用贝叶斯法则，可以得到隐变量句,的后验概率，如 式(2/2)所示。
16
P(z〃 =用 Z“ J) =
p3,z)
〃:I +%
'K	：
壮…
W
(2-12)
之(〃猥+4)-1 £(限+⑷
_k=l
/=1
其中，飞,表示除了当前词。%与用表示向量a与尸相应位的值，一般情况下, 为了防止模型过拟合，本文取向量中的所有位相同，即取一个标量表示a与夕。 由此，得到了蒙特卡洛算法的直观表示。为了使马尔科夫链收敛，每次迭代
中，都通过式(2-12)对每个词所属主题进行更新，而式中右侧表达式可以直接计 算，那么，可以不断更新马尔科夫链的状态，直至收敛状态，收敛后，根据贝叶 斯法则和Dirichlet先验，可以得到参数主题分布。以及词频分布工 其中每一项 的表达式为
(2-13)
4+A
4,=万5——	(2-14)
7=1
得到相应“文档-主题”以及“主题-词”分布后，则相应关键词的权重可以表示 为
K W
Weight(yJ)= 小雨	(2-15)
叁=1 W=1
借鉴传统的基于频率与基于主题模型的方法，许多研究者开始利用这些方法 构建了不同的用户兴趣模型来进行个性化检索。其中，Chen等人闽构建了基于 向量的用户兴趣模型，每个向量对应一个文档中重要的关键词，而词的权重是通 过TF-IDF计算得到。同时，在个性化检索系统中限制用户兴趣簇的个数以及每 个簇中的用户关键词个数。宋艳梅等人［261提出了一种基于文档结构和网页权重的 用户关键词提取算法，该算法是对传统TF-IDF算法的改进，从而获得用户兴趣 模型。
(2)主题表示法。该方法是通过一组用户感兴趣的主题来表示用户兴趣，它 一般是获得粗粒度话题层次的用户表达。比如，如果用户喜欢文学和军事，则相 应的兴趣模型可表示为(文学、军事)。相关研究一般利用主题模型来得到用户 感兴趣的主题，其中，Qiu等人mi提出主题驱动的用户兴趣模型，该模型能对用 户在网页中兴趣与用户点击间的关联进行建模，即能够挖掘用户点击与兴趣之间
17
的相关性。Veningston等人网等人利用用户的主题与文档主题之间的相关性得到 个性化的查询结果。与传统无监督的主题模型不同，作者通过开放的检索系统获 得用户在每个具体类别下的数据，利用贝叶斯理论得到用户的主题分布；然后再 通过训练集每个词的多项式分布计算文档的主题分布，最后计算具体查询、用户 主题分布条件下每个文档的概率得到个性化排序的结果。
（3）本体论表示法。本体是一种概念化的模型，描述了具体领域中术语、术 语含义、各术语之间的关系等信息。基于本体论的表示方法主要由两部分组成： 节点与关联的节点，它能捕获词以及词之间的语义关系（链接）。基于本体论的 用户兴趣建模方法［29］即］不仅可以层次化的表示用户的兴趣，而且能对关键词之 间的关系进行建模，比如同义词或一个文档中共现的词。然而该方法需要人工设 计本体，很难保证有效性。
（4）其他方法。除了上述的表示方法外，还有很多种用户兴趣表示方法。针 对文本不能有效表达用户在图像中的兴趣，Sang等人即］提出了利用基于实例的 用户兴趣模型来进行个性化搜索的方法，该方法利用社交媒体中的数据构建一个 混合的图，将用户兴趣建模问题转化为链接预测问题，预测用户与不同图像之间 的关系权重，最后利用这些有权重的图像对检索的结果进行重排序，得到个性化 的图像搜索结果。该方法首次感知社交行为对用户进行建模，然而基于实例的方 法未能对多模态数据建模，未能利用模态间的关系更准确地理解与挖掘用户兴趣, 而且也不适合跨模态检索场景。
尽管存在研究在用户兴趣的表达与建模方面取得了一定成果，然而这些方法 大多针对的是用户查询点击日志、用户元数据、社交行为数据等单模态的文本或 图像数据，应用的场景通常是基于文本的信息检索，不适合跨模态检索场景。在 跨模态检索中，构建的用户兴趣模型需要适应不同任务的检索需求，因此模型中 应该包含多种模态的信息。

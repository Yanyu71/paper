4.3.2评估方法
不同与传统基于关键词的检索，跨模态检索没有成熟的检索系统，缺乏相应 的用户数据。因此，设计个性化的评估框架并不容易。本章通过感知社交媒体中 的用户数据来对用户兴趣建模，同时，社交媒体中的信息也可作为个性化的评价 数据语料。因此，本章利用真实社交媒体中的数据来对模型性能进行评估。下面 从如下几个方面对评估方法进行阐述。
(1)产生查询。在跨模态检索中，数据语料都是一对一匹配的，描述一张图 像的文本内容相对比较丰富。但是实际应用中，用户查询的文本一般较短，一般 不能准确地描述相应的图像。因此，为了模拟真实的跨模态检索场景，首先需要 对跨模态语料进行处理，模拟用户可能的查询。具体来说，对于每个用户，首先 利用TF-IDF计算多模态文档中每个词的权重值，相应的计算公式如式(4-13)所 示，其中，。表示一个用户的所有文档集合，|。|表示集合中文档数，i与/分别 是词与文档的序号，表词吗在文档内中出现的次数。然后取前L个词作为初 始的查询词，其中L服从参数为7的Poisson分布。
7FTOF(w, |%)=兽」—n	(4-16)
2^nk,j 1+"：叱河｝|
(2)相关性判断。检索结果中存在两种相关性：一种是检索结果与查询间的 相关性，另一种是检索结果与用户间的相关性。一般需要权衡二者关系得到较好 的检索结果。本章侧重验证用户兴趣建模的性能，因此,只判断与用户的相关性。 用户喜欢的列表中，一般文本与图像是成对出现的，因此，当检索结果是与查询 成对出现的另一种模态时，这种结果是强相关，实验中评价指标P@1 (Precision ofthe top one)依据这种相关性进行计算的。此外，如果检索结果在用户喜欢的列 表中，这种结果也是相关的，实验中评价指标MAP就是依据这种相关性进行计 算的。
(3)比较的方法。为了验证所提模型的有效性，将所提模型与存在的几种 主题模型进行比较。具体包括：
,非个性化(non-personalized)：即原始跨模态检索结果，它仅考虑与查询间 的相关性，为了验证个性化建模的有效性，将个性化结果与原始查询结 果(即非个性化结果)进行比较。
51
•	潜在狄利克雷分布模型网(LDA)：该方法利用单模态的主题模型LDA分 别对两种模态数据进行建模。这种方法没有考虑两模态间的关系，分别 得到用户在两种模态中兴趣表达。
・	多模态主题模型囱(皿员口人)：该方法考虑用户多模态数据间的关系，对 多模态联合建模。模型中，同一用户的多种模态数据共享一个兴趣分布。
•	多模态主题相互增强的模型(MMMR)：该方法对模态间的关联进行建模， 对同一用户不同模态数据学习不同的主题分布。而且该模型是对存在的 跨模态主题模型网的变式，使得同一用户的不同模态间的主题相互增强， 具体模型的图结构如图4-6所示。
• 社交多模态主题模型(social-mmLDA)：本章中的所提模型。该模型在传 统多模态主题模型的基础上，考虑用户的社交关系，使得与好友共同的 主题得到增强，不一致的主题得到减弱。
图4-6多模态主题相互增强模型的图结构
(4)评价指标。在检索中，一般需要将相关的结果排在前面，因此，采用两 种基于排序的评价指标对算法进行评价，分别是P@1与MAP。其中，P@1是判 断检索中排在第一位结果的相关性，经常用来判断检索性能；一般而言，排在最 前面的结果是比较关键的，决定了用户的满意程度，其计算公式为：
1 M
尸 @1 =/6况1)	(4-17)
M ,=1
其中，N是测试集查询个数，如果第k个检索结果是相关的，则3(左) = 1,否则 3(左)=0。MAP也是一个基于排序的评价指标，经常被用于信息检索中，一般检
52
索出来的相关文档越靠前，MAP就越高，其计算表达式为：
—[I]毅时
其中，T是检索集合中相关的个数，n为测试数据的个数，&表示前k个检索结 果中相关的个数。

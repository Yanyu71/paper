4.1.2训练语料产生和配置
本文针对实现的为智能客服点餐机器人，所以训练语料也根据垂直领域进行
设置，其基本的格式如图4-1。
图4-1训练语料标注格式图
其中可以看到“酒水”标注为实体dish_type,用于实体提取器直接提前并 设置对应插槽，而“喝的”其实在句子中意思同“酒水”所以这里标注使用同义 词的标注方式，这里是基于前文叙述的使用了同义词的实体提取器来实现的，在 训练语料中通过人工标注的方式，不再额外做声明，Rasa框架的NLU模块就会 自动将同义词的实体提取归类到一起，在识别的时候同样能进行识别。
同时，在训练语料的格式上可以看出，同样的意图可以有非常多种的表达方 式，这就为之后的扩展和模型训练调优提供了比较好的基础，当然对于一些简单 的意图语句其实是没有实体存在的，如图4-2所示。
图4-2无实体标注训练语料格式图
这里的bye、about和defeult意图就是简单的意图分类语句，不需要实体的 提取就能完成识别，每种意图也有多种可能的问法语料，其回答其实也是简单的
45
文本回复，不需要用到Action服务器来处理。
除了意图的语料外，本文中Rasa NLU模块的训练语料还包括了场景story 语料，该语料即是对一个对话场景的归类，可以理解为一个完整的对话流程语料, 基本的格式如图4-3所示。
图4-3对话情景训练语料格式图
如图中所示，一个完整的对话场景是由意图和回复动作来共同构成的，比如 order a dish这个对话情景，首先是用户表达了一个获取菜品信息的意图，然后机 器人进行实体提取和意图识别后交给Action动作服务器处理，这就完成了一轮 的对话，接下来用户表达了一个点餐的意图，机器人按之前相同的步骤提取了实 体和识别了该意图后交给Action动作服务器处理，然后机器人再执行一个默认 的消息回复，这两轮的对话就构成了整个情景的对话。我们用很多的对话场景语 料就能让机器人学会在点餐客服这个领域可能出现的各种对话情况。

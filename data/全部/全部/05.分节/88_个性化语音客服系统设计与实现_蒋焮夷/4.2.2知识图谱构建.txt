4.2.2知识图谱构建
本文实现采用json配合rasa知识图谱接口格式实现了一个适用于智能客服 机器人的简单知识图谱结构，其基本的函数结构如前文第三章中所述，这里介绍 下各个函数具体的实现和功能。
•初始化加载：将json文件读取，由一个键值对结构进行存储在内存中（后 续可以根据需要扩展到数据库中），可以存储多种服务类型（本文只使用了点餐 机器人一种服务场景）。
•得到满足条件的所有对象值：根据传递进来的属性值（可能为空）然后 遍历整个对应服务的满足属性条件的所有实体对象，作为列表返回。
•得到服务对象的标识值：本文使用了 ID属性作为菜品这个服务对象的标 识值，如果扩展服务，可能有不同的标识值。
•得到服务对象的显示值：本文使用了名称name属性作为菜品这个服务 对象的显示值，用于返回显示，如果扩展新的服务类型可以使用其他的显示值。
•得到服务对象的所有属性值：本文使用了菜品这个服务对象，所以该函 数返回菜品的所有属性，作为列表返回。
•设置实体的显示属性：本文这个函数保留，可以修改用其他属性取代上 文默认的name属性。
•设置实体唯一标识：本文这个函数保留，可以修改用其他属性取代上文 默认的ID属性。
该知识图谱其实是做了一个抽象服务层功能，未来可以从各种数据库、远程
55 读取、文件读取等地方完成加载，可以支撑多个服务（不止是智能点餐机器人） 同时每个服务的标识字段和显示字段也可以单独设置，具有高度的抽象和扩展性。 初始化的json文件设置如下表4-5所示。
表4-5菜品实体存储表
ID
name
dish type
taste
price
0
宫保鸡丁
炒紊
甜
15
1
红烧鸡块
红烧
麻辣
22
2
米饭
主食
正常
1
3
小面
主食
麻辣
13
4
干锅兔
干锅
麻辣
48
5
干锅鸡
干锅
麻辣
38
6
干锅牛蛙
干锅
麻辣
56
7
红烧狮子头
红烧
咸
21
8
柠檬汁
酒水
酸
7
9
可乐
酒水
甜
3
10
燕京啤酒
酒水
正常
5
11
矿泉水
酒水
正常
2
上表展示的是目前设置的各个菜品的各项属性情况作为基础的底层数据支 撑，存储在json文件中，提供给知识图谱调用，再由Action动作服务器调用知 识图谱的函数进行访问，这里的数据可以很简单的进行扩展和修改基本实现了配 置驱动开发的目的。

3.3.2声码器模型选型
声码器作为声音波形生成的关键部分，能够利用频谱信息生成对应的波形, 其中也包含了传统的Griffin-Lim声码器，也包含机器学习算法模型的MelGAN 和WaveFlow等声码器。
1) Griffin-Lim声码器：Griffin-Lim是在仅已知幅度谱、不知道相位谱的条 件下重建语音的算法。算法的实现极其简单。它是一个迭代算法，首先初始化一 个相位谱然后将这个相位谱和已知的幅度谱经过ISTFT变换，得到一个语音波 形，接下来对这个合成的波形进行SIFT变换，得到新的幅度谱和相位谱，最后 丢弃新的幅度谱，用相位谱和己知的幅度谱合成语音，如此重复。
2) MelGAN声码器：MelGAN是Lyrebird基于GAN框架设计的Neural \bcoder 模型，其基本的构建参考论文《MelGAN: Generative Adversarial Networks for Conditional Waveform Syntitesis》卩］
该模型采用了轻量级的架构设计，通过结合GAN框架和空洞卷积将模型的 训练压力转移到判别器上，保持了生成器部分的轻量，加速了整个推理的过程。
其基本的结构包含四层上采样层、残差空洞卷积块和判别器，其中上采样层由反
卷积构成，虽然参数量大，但实际是起到辅助作用；残差空洞卷积块的结构如图
3-5所示
在图中可以看到该卷积结构将三个DHation为3的空洞卷积层相互堆叠组成
空洞卷积块，可以看出其感受野为3的三次方，即前后相关27个点。然后把嵌
入残差结构的空洞卷积块，再堆叠三次，从而得到最后的卷积结果；判别器部分 是该模型训练的关键,MelGAN的判别器部分采用多尺度判别器通过多层的下采 样计算最后的得分。实际操作十分简单，就是用三个输入频率尺度不同的判别器,
打三次分，三个判别器的输入分别是正常采样率语音，下采样过一次的语音，下
24
采样过两次的语音。
3）	WaveFfow声码器:该模型在WaveGfow基础上采用了更小的生成流来对 原始语音进行建模，采取了最大似然估计的方法进行训练。同时提供了针对一维 数据的似然模型的统一视图。生成语音效果可以达到WaveNet, WaveFlow模型 的水准，与此同时取得了高达几个数量级的提速。论文《WaveFfow:A Contact Flow-based Model for Raw Audio》⑷中介绍相比 WaveGfow 小了 15 倍。在单 VI00 GPU上，可以生成22.05 kHz的高质量音频，提速42.6倍。
本文同时使用了 Griffin-Lim声码器算法，并迁移训练了 MelGAN声码器模 型和训练了 WaveFfow声码器模型，结合本系统音频输出清晰自然和实时性的两 个需求，基本选用了 Griffin-Lim声码器算法和MelGAN声码器模型作为本文的 声码器选择，后续章节将会详细说明训练的细节以及相关数据的对比。

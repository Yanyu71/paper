2.2.2Zigbee协议体系
Zigbee协议规范体系结构（图2-3）基于标准开放网络互连（OSI）七层协议模型， IEEE802.15.4 I作组负责物理层（PHY）和媒体接入控制层（MAC）的标准化工作卩可， Zigbee联盟负责制定网络层（NWK）和应用层（APL）协议闽。其中Zigbee设备对象 （ZDO）可以和多层进行交互，负责对整个设备层面的操作进行管理。各层之间通过服 务节点传递数据服务和管理服务进行交互。
(1)物理层
IEEE802.15.4定义了两个不同频段的物理层：低频段物理层包括868MHz欧洲采用 868MHz的低频段物理层，美国、加拿大等国家在915MHz的低频段物理层进行採作。； 高频段物理层工作于2.4GHz,为全世界所通用。物理层还监控无线信道的状况，控制 无线发射机状态、对信道进行评估和选择、发送和接受数据等。
(2)MAC层
Zigbee协议栈的MAC层使用的无线信道接入模式为CSMA-CA冲突检测模式，它 的职责包括传输信标帧、保持整个网络的时钟同步和保证通行的可靠性【23】。
MAC层位于物理层之上，网络层之下，处理信道接入相关内容。保证网络同步、 接入信道和网络、维护GTS机制，保证端到端的可靠通信。
(3)网络层
Zigbee网络层处理与网络相关的功能内容。主要负责节点网络接入和离开过程、利 用网络层密钥对数据进行加密，最重要的是负责消息的转发。网络层通过一系列原语完 成路由建立和路由发现过程，维护设备邻居表和路由表。同时也监控整个网络的通信情 况。Zigbee协调器还负责新建网络并在网络新建完成后，向新节点分配网络地址。
10
(4)应用层
Zigbee应用层包括APS, ZDO和AF三个部分。APS子层为应用支持子层，负责 维护设备绑定表。绑定表能够绑定具有逻辑关系的设备，使上层应用能够不关注具体设 备信息而实现消息的发送。ZDO负责与设备整体相关事务，包括设备的设备描述、设 备和服务发现、安全信息的管理等。AF是应用对象和Zigbee设备连接的环境，定义了 最多240个应用对象，端口标识从1到240,另外定义了两个特殊标识：0为ZDO数据 接口，255用于应用对象的广播数据接口，241-254保留作其他用途【22〕。

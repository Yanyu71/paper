4.2.2功能模块设计
如图4-2所示，本文设计的工业设备运维系统主要包括四个功能模块：实时 监测与预警模块，历史数据统计模块，任务管理模块，设备资产管理模块。每个 功能模块下又包含了多个子功能。
图4-2系统功能设计
如图4-3所示，设备状态的实时监测与诊断模块是运维系统的核心模块。对 于设备的实时监测，前端页面显示当前所有设备的状况，包括正常运行设备和已 故障设备，通过点击正常设备查看所有正在运行的设备情况，包括工况情况，设 备某个特征一段时间的历史趋势，当前预测的剩余使用寿命等。这里的诊断是指 通过设定设备的安全剩余使用寿命阈值，当预测RUL低于当前阈值，则判定为 故障，同时发出警报，提醒对应的外勤技术人员进行维修。对于设备实时监测与 诊断结果的展示，外勤技术人员和调度中心的运维管理人员都有权限查看。
图4-3运维系统实时监测模块
运维系统的RUL预测模块是基于本文提出的多工况条件下的域自适应RUL 预测模型，利用预测模型对输入的数据进行实时预测，预测结果显示在前端界面。
40
采用的RUL预测模型首先会在本地进行构建和训练，模型采用Python语言构 建，训练完成后可使用joblib将训练好的模型保存为本地的.model文件。保存完 成之后，将.model文件上传到搭建的PHM平台，封装成可调用的API。然后通 过平台返回的API在小程序端进行直接调用，用于设备的RUL预测。设备的 RUL预测结果将会作为核心监测指标。
工厂的运维管理人员有对历史数据进行分析的需求，因此对历史数据的查看 是运维系统的主要功能。历史数据通过表格形式展示，如图4-4所示，前期的设 备运行数据己经记录在数据库，包括数据统计模块，一段时间内的工单数量统计, 设备状态统计。其中，数据统计模块又分为维修记录查询、工单记录查询、人员 信息查询、部门考勤查询、通讯录查询。
图4-4历史数据统计
运维系统面向的用户是运维管理人员和外勤技术人员。运维管理人员主要负 责任务的调度，当设备被系统诊断为故障状态时，系统发出预警，由调度中心的 管理人员进行工单的派发，如图4-5所示，指定相应的外勤技术人员进行维修。 外勤技术人员主要负责设备的维修和更换。当设备被系统诊断为故障状态时，外 勤技术人员收到预警以及管理员派发的工单，开始进行设备维修，在维修完成后 进行维修工单的填写。
图4-5任务管理流程

4.2.1架构设计
如图4-1所示，运维系统总体架构包括视图层，逻辑层，数据服务层三部分。 每一层都有各自的功能，从而实现总体任务的划分。
视图层
ft页界面
我的界面
业务逻辑层
实时监测与预警
历史数据统计
设备资产管理
任务管理
数据存储层
人员信息数据
设条历史数据
设备台账数据
维修工单数据
图4-1系统架构
视图层即展示给用户的操作界面，包括界面渲染功能和交互功能，即用户在 操作界面进行点击或输入数据后，视图层将逻辑层处理得到的数据渲染在前端页 面，进行可视化展示。微信小程序页面包含了 wxmR wxss、js和json四个文件， wxml用于描述小程序的页面结构，wxss文件用于描述小程序的页面样式，js文 件用于描述小程序的逻辑结构和部分数据,json文件用于描述小程序的配置信息。 结合功能
逻辑层作为视图层和数据服务层的桥梁，是整个系统的核心，主要功能是数 据处理和逻辑交互，使用Javascript语言进行开发。当用户在操作界面输入数据 时，视图层会将数据传递给逻辑层进行处理，并将结果返回到视图层。当需要进 行数据的存储和读取时，逻辑层和数据服务层会产生交互，即进行数据存储时由 逻辑层将数据传递给数据服务层，进行数据读取时由逻辑层将数据服务层返回的 数据传递给视图层。
数据服务层主要是用来进行数据库的访问，根据收到的请求进行相应的数据
39
库增删改查操作。微信提供了云数据库功能，开发者不用自己建立数据库。云数 据库是JSON格式的数据库，数据以集合的形式存放在云数据库中。开发者可以 利用云函数或者云开发控制台对云数据库进行增删改查操作，同时可以设置用户 访问数据的权限。

3.3.5实验结果与分析
这一小节我们在刀具和轴承数据集上对比了所提出的模型和其他模型的性 能，评价标准采用均方根误差(RMSE)和评分函数(SCORE)。对比模型包括：
(1) LightGBMRO】是基于GBDT算法提出的改进模型，使用基于直方图的 分割算法取代了传统的预排序遍历算法，在训练速度，内存消耗，以 及准确性上均优于传统的GBDT模型。
(2) DNN使用了多层神经网络构建。
(3) LSTM是长短期记忆网络，适用于处理时序数据预测。
(4) SAE-LSTM基准模型，叠加SAE与LSTM构成基础的深度RUL预 测模型。
(5 ) DASL(Domain Adaptation SAE-LSTM)是在 SAE-LSTM 基准模型上增 加了域自适应机制，但是没有考虑工况的影响。
(6) DAMOC(pl)考虑了工况影响，在相似工况间进行域自适应，但是没 考虑工况重要性的影响，即所有工况权重均设置为1。
(7) DAMOC(p2)不仅在相似工况间进行域自适应，还考虑到了工况重要 性的影响，工况权重“为动态调整，设置方法采用A-distance。
首先在刀具数据集上对比了提出模型与其他模型的性能，表3-2和表3-3分 别展示了以RMSE为指标和以SCORE为指标的实验结果。刀具数据集上设置了 3组实验：实验A的训练集为TD001,测试集为TD003；实验B的训练集为 TD001,测试集为TD002；实验C的训练集为TD002,测试集为TD003。为了 验证域自适应的有效性，将SAE-LSTM算法与DASL算法进行了比较。可以看 出，域自适应模型DASL在实验A和C中的性能更好，而SAE-LSTM模型在实 验B中的性能更好，说明了域自适应机制并不总是有效的。
31
由于不同的工况条件可能导致不同的数据分布，所以设计了实验A和实验 C来说明工况的影响。TD003包含两种操作工况，而TD001和TD002均只包含 一种工况，并且TD001与TD003的第一种工况相似，TD002与TD003的第二种 工况相似。实验A和C中对相似工况进行了域自适应，即运行了 DAMOC(pl)o 可以看出，DAMOC(pl)方法的性能优于其他方法，这意味着在相似的工况条件 下进行域自适应可以在一定程度上避免负迁移影响。由于DAM0C(p2)适用于源 域和目标域包含多个相似工况的条件，因此只在轴承数据上与其他模型进行了对 比。刀具数据集上主要说明了相似工况之间进行域自适应的有效性。
表3-2不同模型在刀具数据集上的RMSE指标对比
LightGBM
DNN
LSTM
SAE-LSTM
DAMOC (pl)
表3-3不同模型在刀具数据集上的SCORE指标对比
LightGBM
DNN
SAE-LSTM
DAMOC (pl)
表3-4和表3-5总结了不同模型在轴承数据集上的实验结果。实验只采用了 转速1条件下的轴承数据集，包含7个从正常到损坏的全寿命子数据集，7个数 据集依次作为测试集，剩下6个作为训练集分别进行模型训练，最后平均6个模 型的结果作为该测试集的结果,因此有B1至B7共7组实验。可以观察到DAMOC 模型(相似工况进行迁移)在所有数据集上的表现都明显优于LGB、DNN、LSTM、 SAE-LSTM,特别是采用RMSE作为评价指标优势更明显。与刀具数据集划分工
32
况方式不同，本文使用文献［35］提出的方法来划分退化阶段。实验结果表明 DAMOC (pl)和DAMOC (p2)在所有实验中性能都比DASL有所提高，并且 在大多数实验中都有明显的提高，这再次证明了在相似工况之间进行域自适应的 有效性。不同于DAMOC (pl)对所有操作工况赋予相同的权重，DAMOC (p2) 可以在训练过程中实现对不同操作工况权重的动态调整。值得注意的是， DAMOC (p2)在使用RMSE作为评价指标的所有实验和使用SCORE作为评价 指标的大多数实验中都取得了较好的性能，这表明使用A-distance方法设置工况 权重的有效性，从而也说明不同的操作工况的权重设置对域自适应有影响，后续 会对这一影响进行分析。从SCORE指标的实验结果可以看出，即使两个模型的 RMSE结果接近，SCORE的结果也可能有很大差异，这是由于早期预测和后期 预测的权重不同造成的。
表3-4不同模型在轴承数据集上的RMSE指标对比
表3-5不同模型在轴承数据集上的SCORE指标对比
不同模型的运行时间差异很大，本文在轴承数据集上对比了不同模型的运行
33
时间，实验所采用的GPU为Nvidia Tesla M40,时间窗长度为2560。LightGBM, LSTM, DASL, DAMOC(pl), DAMOC(p2)的平均运行时间分别为 可以看出DASL和DAMOC模型的运行时间明显更长，这是因为域 自适应过程需要对两个域的最大均值差异进行计算，消耗了时间。同时，由于 DAMOC(p2)需要在域自适应的基础上进一步计算工况的权重“，因此会比 DAMOC(pl)的运行时间更长。
动态域自适应因子的影响
通过轴承数据集上DAMOC(pl)和DAMOC(p2)的对比，可以发现工况的权 重分配对模型的影响，这一小节对工况权重的影响进行分析。在轴承数据集中, 工况被划分成两种：缓慢退化状态和快速退化状态，即数据集包含两种类别。令 类别1 (缓慢退化状态)的权重为“，则类别2 (快速退化状态)的权重为1-“。
为了证明权重“对模型的影响，我们分别从0至1每隔0.1递增设置“的值, 共进行了 D1至D4四组实验来运行DAMOC模型。实验D1的训练集为轴承3 数据，测试集为轴承7数据。实验D2的训练集为轴承5数据，测试集为轴承6 数据。实验D3的训练集为轴承2数据，测试集为轴承4数据。实验D4的训练 集为轴承1数据，测试集为轴承6数据。实验评价指标采用RMSE,需要注意的 是，在每项实验中，我们从实际值中减去平均值再记录下来，用RMSE-SUBM表 示，不同“取值下的结果如图3-9所示。显然，评估值随“的取值不同而变化，这 表明不同操作工况的权重设置对模型有影响，即不同工况在域自适应过程中有不 同的重要性。
图3-9轴承数据集上不同权重的RMSE指标对比
34
同时，本文对三种权重赋值方法进行了比较，如表3-6所示。第一种方法是 基于A-distance计算方法的动态赋值法，第二种方法是随机赋值，即随机在0到 1之间选取一个值赋给“，多次重复找到最优值。第三种方法是最大最小搜索， 即从0至1每隔0.1递增赋值给“，从而找到最优值。从实验结果可以看出，本 文采用的基于A-distance计算方法的动态赋值法明显优于随机赋值，同时和最大 最小搜索法结果接近。然而，随机赋值和最大最小搜索均需要多次运行模型来获 得稳定的结果，这表明我们采用的动态赋值法更高效，在模型运行过程中就可以 进行权重的动态设置。
表3-6不同权重赋值方法的RMSE指标对比
D1
D2
D3
D4
随机赋值
最大最小搜索
动态赋值法

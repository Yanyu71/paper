4.3.3.1仿真场景一的仿真结果及分析
在仿真场景一中紫色的点划线代表802.11a MAC协议，绿色的代表TDMA MAC协议。通过将不同的数据发送速率得到的仿真结果连接成一条线来展示不 同协议对网络性能影响的差异。
1 I	1	।	।	i	t
802.1 la —'—
TDMA
0.2
200	400	600	800	1000
data rate (kb/s)
0
图4-II 802」la和TDMA平均时延随发送速率的变化
横坐标为数据包发送的速率，纵坐标为平均时延。从上图可以看出TDMA 协议在速率到达400kb/s以后时延逐渐增加，最终达到0.5秒，802.1 la协议在速 率到达600kb/s以后时延逐渐增加，最终同样达到0.5秒。
时延最终达到0.5秒是因为MAC队列设置的最大时延为500ms,时延超过 500ms的数据包就会被丢弃. TDMA产生时延的原因是节点等到了自己的时隙 才发送数据，并且在自己的时隙时如果剩下的时间不够发送数据包，则会再次到 达自己的时隙再发送数据包。802.11a产牛时延的原因是因为wifi模块使用的是 载波监听多路访问/冲突检漫方法是一种争用型的介质访问控制协议，使用了退 避算法。从图中可以看出在时延方面802.1 la协议比TDMA协议好。
49
8 6 4 2 o o o O ogf 9SQI S3CNUC5C1
0
0
200
400	600	800	1000
data rate (kb/s)
图4-12 802.1 la和TDMA丢包率随发送速率的变化
横坐标为数据包发送的速率，纵坐标为丢包率。从上图可以看出TDMA协 议在速率到达400kb/s以后丢包率逐渐增加，802.1 la协议在速率到达600kb/s以 后时延逐渐增加。
发生丢包是因为当发送数据包速率增加的时候,MAC队列的长度逐渐增大, 速率到400kb/s时TDMA的MAC队列变满了。继续增加发送速率，当新的包准 备入队时发现MAC队列已经满了就会直接丢弃。速率到600kb/s时802.11a的 MAC队列变满了，丢弃策略同样是丢弃最新的数据包。
50
o o o o O o o o o O
0 8 6 4 2
(s户GXOBd)户 ndqmno匚一口
0
600
800
1000
400
200
0
data rate (kb/s)
图4-13 8O2.Ha和TDMA吞吐量随发送速率的变化
横坐标为数据包发送的速率，纵坐标为吞吐量。从上图可以看出TDMA协 议在速率到达400kb/s以后吞吐量达到了恒定的值400packets/s, 802.11a协议在 速率到达600kb/s以后吞吐量达到了恒定的值600packets/so可见802<la的吞吐 量比TDMA高。

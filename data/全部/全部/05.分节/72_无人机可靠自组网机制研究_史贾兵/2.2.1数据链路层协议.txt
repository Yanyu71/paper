2.2.1数据链路层协议
数据链路层是OSI七层模型中的第二层，它处于物理层之上和网络层之下， 不管是发送数据还是接收数据都需要经过此层。数据链路层接收物理层提供的服 务，并且在物理层提供服务的基础上为网络层提供服务，它最主要的服务是把发 送端的网络层的数据可靠的传输到接收节点的网络层上。为了完成这个可靠的任 务，数据链路必须具备一系列相应的功能，主要有：怎样组合或者拆分数据为数 据链路层的最小数据单位帧；怎样控制帧在物理信道上可靠的传输，其中包括怎 样处理传输差错，为了匹配接收端的接收怎样调节发送端的速率；它还需要控制 管理两个节点之间链路的建立，维持和释放。
8
由于无人机网络节点的移动性，数据链路的易变性，和无中心性，这些都增 加了 MAC协议的设计难度。从而设计出节省能量、可扩展性强、时延低、吞吐 量高、信道利用率高以及较好的公平性的MAC协议，已成为无人机自组织网络 的研究热点。
由于无人机自组织网络中各个节点地位平等，不存在中心控制设备来协调管 理网络的资源，所以传统的集中式的资源调度不适用于无人机自组织网络。无人 机自组织网络MAC协议可以根据不同的方式进行分类，可以根据分布式控制思 想，信道数量的多少以及网络类型进行分类。
无人机自组织网络的MAC协议根据分布式控制思想可以划分为三类，即竞 争类型的MAC协议，分配类型的MAC协议，将竞争类型和分配类型MAC协 议相结合的混合类型MAC协议。这三种MAC协议类型主要的不同之处是节点 对于信道的访问策略不同，下面我们分别介绍着三种类型的MAC协议。
竞争类协议
竞争类MAC协议，顾名思义就是节点通过对信道资源的竞争策略来获得接 入信道的机会。随机接入信道的ALOHA协议是一种典型的竞争类MAC协议。 它的原理其实非常简单，节点可以随时发送数据，这样很容易会造成冲突，但是 可以通过广播信道的反馈性将受到的数据与发送缓冲区做对比进而就可以判断 自己发送的数据是否被正确的接收，如果发生冲突而导致数据发生破坏，那么经 过一段随机时间再重新发送被破坏的数据。一般情况下，竞争类的MAC协议工 作在异步模式，为了避免发生碰撞的问题通常会在协议中加入控制信令来避免碰 撞的发生。如果网络中发生碰撞，竞争类MAC协议也会通过重传机制来发送由 于碰撞破坏的数据，知道接收端成功接收。
竞争类MAC协议的工作原理相对比较简单，不需要复杂的时间同步和控制 调度算法实现起来比较容易，在网络负载较低的情况下对网络的性能也有不错的 表现，数据冲突概率小，因此重传率低，传输时延较小，信道的资源利用率很高。 通常简单的策略遇到复杂的问题就没有那么有效了，随着网络节点数量的增加， 网络整体性能存在明显下降，碰撞频繁，重传率高，传输时延较大，信道的资源 利用率大大降低。网络性能的这些负面表现说明了此时网络资源分配的极度不合 理，严重的情况甚至导致服务不可用，从而导致成功发送接收数据的概率很低。 常见的竞争类协议有ALOHA、S-ALOHA、CSMA、CSMA/CA等。
分配类协议
与竞争类的MAC协议不同的是分配类MAC协议通常需要时间同步。这种 分配类的MAC协议的基本思想是将时隙或者频率或者正交码分配给各节点，每 个节点只能使用自己被分配的时隙或者频率或者正交码来获取信道的资源完成
9
自己的通信任务。TDMAMAC协议是典型的分配类协议，它的原理是将不同的 时隙分配给各个节点，每个时隙对应唯一的一个节点，当到达节点自己所拥有的 时隙时才可以获得到信道资源进行数据的发送和接收。由于这种方式在开始就已 经把每个节点的时隙都安排好了，这样就使得灵活性较差。协议的分配可以是静 态的也可以是静态的。为了提高协议的可扩展性，提高信道的利用率可以根据节 点的密度和负载合理的设计出发送时间。
通过学习分配类MAC协议的特点，可以发现在节点密度大，网络繁重的情 况下使用分配类的MAC协议才能发挥出它的优势。因为不论网络压力有多大， 由于其固定的分配方式，网络中发送的数据都不会因为碰撞而丢失。而在节点密 度小，网络负载压力小的情况下，由于时隙的固定分配，使得延迟较大从而分配 类MAC协议的性能表现较差。网络中常见的分配类型的MAC协议有：TDMA MAC 协议，FDMAMAC 协议，CDMA MAC 协议。
混合协议
由于竞争类MAC协议和分配类MAC协议都有自己的优缺点，但是可以发 现这两者的优缺点可以互补，于是很容易让人联想到将这两种MAC协议结合起 来，于是就出现了混合类MAC协议。混合类MAC协议吸取了竞争类MAC协 议和分配类MAC协议的优势，在设计混合类MAC协议的时候，当节点密度小 网络负载压力小的时候,混合类MAC协议就会表现出竞争类MAC协议的特点， 而如果节点密度大网络负载压力大的时候，混合类MAC协议则会表现出分配类 MAC协议的特点。通过这种灵活的特点，网络的性能必然会提高。目前常见的 混合类协议有结合载波监听的竞争类MAC协议和分配类协议TDMA所形成的 混合时分多址访问协议，结合TDMA和CCSMA的混合MAC协议，ADAPT协 议等。
下面介绍另一种分类方式，即按照节点所接入信道的数量可以将其划分为单 信道MAC协议，双信道MAC协议和多信道MAC协议。
（1）单信道MAC协议，这个协议的实现是所有的节点都共享同一个信道。 节点发送的的控制报文和数据报文都将会通过这个共享信道进行传输，很明显这 样很容易出现各种数据之间的冲突。（2）双信道MAC协议，这个协议的实现是 所有节点都共享两个信道，分别用于传输节点发送的控制报文和数据报文。将数 据报文和控制报文传输到不同的信道上，从而免去了控制报文和数据报文间的冲 突，并且可以解决网络的两大问题，隐藏终端和暴露终端从而避免了数据报文间 的冲突。（3）多信道MAC协议。这个协议的实现是在双信道MAC协议上的扩 展，首先有单独传输控制报文的信道，其次它有添加了多个传输数据报文的信道， 使得相邻节点之间可以通过多个数据信道同时通信从而大大提高了通信的效率。
10
在设计无人机自组织网络MAC协议的时候需要考虑到多个方面才能设计出 高效，节能，扩展性强，网络性能良好的MAC协议。
节省能量。无人机自组织网络一个重要的问题就是能源问题，目前大多数无 人机仍然使用的是有限的电能，为了使得无人机可以尽量长时间的有效工作，设 计出的MAC协议需要在满足性能的前提下尽量节省能源。目前已经研制出了一 些通过太阳能来充电的无人机。就在前不久，中国航天科技集团研制出了彩虹太 阳能无人机，这种无人机在机电条件允许的前提下可以在天上工作数月甚至数年。
可扩展性。在无人机自组织网络中包含多个无人机，随着无人机的移动，无 人机的密度也在不断的发生变化。在网络运行期间，可能会有无人机加入网络或 者脱离网络所以在设计MAC协议的同时需要考虑到协议的可扩展性来适应网络 不断变化的拓扑关系。
延时。延时是数据包从发送端发送到达接收端所经历的时间。有一些应用场 景对时延并不敏感，在这种情况下可以不考虑延时，只考虑性能。还有一些应用 场景则需要对数据进行实时的监控，以便通过监控到的数据做出相应的反应。无 人机自组织网络的延时根据不同的MAC协议的策略而产生的。因此在敏感的应 用场景下设计MAC协议需要考虑延时。
吞吐量。吞吐量为在单位时间内发送端成功向接收端发送的总数据量，单位 是比特每秒。影响吞吐量的因素有信道利用率，延时，数据包冲突等。不同的应 用场景会对吞吐量有不同的需求，这些因素和吞吐量是此消彼长的关系，根据不 同的需求可以舍弃其他的因素来提高吞吐量。 -陷
信道利用率。信道利用率体现了无人机在自组织网络中对信道带宽的利用率。 当无人机采用平等分配信道方案时，由于实际情况对信道的需求并不相同，这样 就会导致信道的利用率降低，进而影响网络性能的提升。在这种情况下MAC层 如果可以动态的分配信道带宽则可以大大提高对信道的利用率。
公平性。在无人机自组织网络中，每个无人机都公平的共享信道。但是公平 性对于无人机自组织网络来说并不是那么重要。由于多个无人机协同完成一个任 务的时候，在不同的时刻无人机需要发送的数据量并不相同，一些无人机发送转 发的压力较大而一些无人机的压力很小，如果将每个无人机平等的接入到信道， 平等的划分了信道的带宽，这样一来信道的利用率就会大大降低，所以在无人机 自组织网络中公平性并不重要。
上述六个因素对无人机自组织网络对MAC层协议设计来说，前五项都非常 重要，虽然在能源方面各国已经研制出了一些可以长久使用的无人机初步解决了 能源问题，但是在我看来节省能源还是必要的因为这些东西并不是可再生的。可 扩展性可以给无人机自组织网络产生多种可能性，将会推动多场景无人机的发展。
11
而延时，吞吐量和信道利用率则是承担自组织网络性能的基础，只有打好基础才 能更好的将无人机自组织网络运用于各种真实情况。

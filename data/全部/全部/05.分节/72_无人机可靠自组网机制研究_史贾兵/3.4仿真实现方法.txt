3.4仿真实现方法
本文的仿真实现的环境是：电脑的操作系统为ubuntu 16.04, NS-3的版本号 是3.25,绘图工具为gnuplot,可视化动画工具为NetAnim。
想要做NS-3的仿真，首先需要搭建仿真环境。
1,虽然NS-3支持多种操作系统，但是还是建议在linux操作系统下做仿真。这 里就不说操作系统的安装步骤了，网上有许多教程。
2,操作系统准备完毕后，去官网下载NS-3 www.nsnam.oiY，后缀为.tar.bz2。将 其进行解压，使用命令为 tar xjfns-allinone-3.25.tar.bz2
3, 一切准备就绪后，就开始安装NS-3仿真平台。虽然NS-3仿真平台需要依赖 许多插件，但是我还是建议首先不需要搞清楚都需要哪些插件，也不需要事 先安装，直接安装NS-3,根据控制台的信息然后进行安装。通过上面的解压 会看到一个名为ns-allinone-3.25的文件夹，进入文件夹后使用命令./build.py 对NS-3进行编译。然后再进入NS-3.25文件夹使用命令./waf configure-enable-examples -enable-tests,开启例子和帮助，再使用命令./waf build进行 编译。在编译期间可能会出现错误，不过不用紧张，这是因为缺少插件产生 的，只要根据提示去下载对应的插件即可解决。
4,工欲善其事，必先利其器。只有单单的NS-3仿真平台，编代码进行仿真是很 痛苦的。就需要有编译器来达到事半功倍的效果。本文所用到的是eclipse来 完成的仿真，eclipse 的下载网址是 https:/Avww.ecliDse.org/downloads/,安装很 简单这里就不再熬述了，接下来就需要将NS-3配置到eclipse中去。这个配 置网上同样也有很多博文，我推荐一个实验成功的网址 *\v.cnbk>gs.com/zlcxbb/p凸852810.html,这篇博文图文并茂，只要顺着 一步一步的做就可以成功。在这里有一点需要提醒，就是在打开eclipse的时 候最后在前面加上sudo使其拥有最高权限，以防由于一些文件的访问权限的 问题而影响到仿真的进度。
5,仿真的代码一般放在scratch文件夹中，仿真人员可以使用eclipse运行程序， 同时也可以使用命令行运行程序，如./waf-run文件名，使用者可以使用shell 脚本来控制改变仿真程序的仿真次数，每次仿真的参数等，然后运行.sh文件。
6,程序运行结束后可以通过控制台显示日志或者Tracing,如果信息超出了控制 台显示的最大容量也可以通过eclipse的设置或者命令行的命令将其存入文件 中。NS-3还支持统计模块，可以通过使用sqlite3数据库将关心的数据存入到 数据库的表中。
25
7,	NS-3同样集合了 gnuplot,它可以通过API进行图片的绘制，不过这个API 还是有一些不全，如果你想使用好这部分的API同样得花时间阅读文档和代 码。你也可以使用shell脚本来读取sqlite3数据库中的数据，然后通过gnuplot 工具绘制仿真结果图。
8,	NS-3还集合了可视化动画工具为NetAnim,可以很方便的输出.xml文件。只 需要引入netAnim模块然后在代码Simulator::Stop();和Simulator::Run();之间 增加一行代码 Animationinterface anim("xxx.xml");就可以生成 xxx.xml 文件。 通过软件NetAnim打开xxx.xml文件就可以对其经行解析，然后呈现在界面 中，通过此软件可以看到节点每时每刻的运行状态和发包，收包的状态，还 可以看到各个节点中的路由表信息，使用的传输协议和路由协议等。还可以 通过NS-3的设置来显示一些仿真结果统计图，如丢包率，吞吐量等。

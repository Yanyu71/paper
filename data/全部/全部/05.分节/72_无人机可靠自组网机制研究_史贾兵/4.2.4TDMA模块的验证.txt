4.2.4TDMA模块的验证
以上已经引入了 TDMA模块，分析了其设计架构，且简要介绍了其使用方 法的说明。本节将通过实例验证引入的TDMA模块的正确性。其中公共的参数 有：
表4・1基本参数表
参数类型	参数值
传输信道类型	Simple WirelessChannel
MAC类型	TdmaCentralMac
MAC队列模型	TdmaMacQueue
35
MAC队列长度	400
MAC队列最大时延	500ms
MAC队列丢包策略	DROP_NEWEST
路由协议类型	AODV
传输层协议类型	Udp
天线类型	OnmiAntenna
节点有效通信半径	110m
仿真场景一
场景中只有两个节点相距50m并且一直处于静止状态，节点2向节点1发 送数据。发送的速率从50packets/s至U 1000packets/s,间隔为50packets/s。下图 横坐标为发送速率，纵坐标为平均时延，从图中可以看出发包速率达到400 packets/s后时延很快趋近于0.5s。这是因为设置的数据包在队列存在的最长时间 为0.5s。因此验证了其的正确性。
0.8
0.6
0.4
0.2
0
0	200	400	600	800	1000
data rate (kb/s)
图4-6平均时延
仿真场景二
在这个场景中节点的数量从2个增加到10个，节点间的距离为50m且处 于静止状态。节点2向节点1发送数据包，发送速率为1 packets/s。下图横坐 标为时间，纵坐标为时延。从图中可以看出随着仿真场景中节点数的增加，数 据包传输的时延越来越大。这是由于每加入一个节点都会给其分配时隙，每次 轮询到节点去发送数据的时间就会增大，从而验证了其的正确性。
36
time (s)
图4-7每个包的时延

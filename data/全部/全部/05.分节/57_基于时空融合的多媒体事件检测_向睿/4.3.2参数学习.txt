4.3.2参数学习
q可以由此和”表示出，但由于表达形式中含有相除的形式，在进行链式法则 求导进行梯度计算时会产生较为复杂的表达式，一方面减慢了反向传播的速度，另一 方面更容易引起梯度爆炸，所以我们采用其他的方式来对,进行表示，一般有两种思 路：
第一种思路，对样本的投影到某个聚类中心簇下的特征进行均值统计，由于投影 的映射关系会随着训练不断改变（即队和'的更新），需要随着迭代缓慢更新这个 均值，使得短时间内的迭代均值近似不变，但最终会趋近与聚类中心，这种思路可参 考 Batch Normalization 的实现方法；
第二种思路，将Q作为一组参数进行学习，这种方式相比于原始VLAD更能够 利用有监督学习的优势，而学出的&不一定对应着原来的聚类中心，而是通过最小化 损失函数得到的一个点，但这个点既然能够使损失函数更小，我们也认为相比于原始 聚类中心，这个点能够使VLAD向量更好地表达。
本文采用了第二种思路构建了 netVLAD结构。
52

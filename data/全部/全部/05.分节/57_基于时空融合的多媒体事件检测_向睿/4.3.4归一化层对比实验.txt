4.3.4归一化层对比实验
1	.实验设置
由于在原始的VLAD当中使用了三种归一化，本文认为在netVLAD当中使用类 似的机制可提升网络性能，本文就不同的归一化层进行了实验。需注意的是，该实验 中的归一化层并非对提取出的特征做后处理，而是在网络训练过程中引入归一化操 作，这些归一化操作对网络反向传播也产生了影响。
本文基本网络输入为由GoogleNetl2988c提取的视频密集局部特征，网络采用通 道数为256、尺寸为1X1的卷积核进行降维。然后使用通道数为256、尺寸为1X1 的卷积层接上softmax层进行软分配系数的计算，软分配系数和降维结果作为VLAD core的输入进行编码，其中VLAD core中的参数可由0进行初始化或用随机值迸行
53
初始化，本文在实验没有发现VLAD core初始化对结果造成的明显影响。VLAD core 的输出使用归一化层进行归一化，然后通过通道数为21的全连接层和softmax层进 行训练和分类。
本文比较了了 12归一化和intra归一化对事件分类准确率的影响，没有进行平方 根归一化的相关实验。本文认为在神经网络中引入平方根归一化层从原理上考虑是没 有效果的。
由于归一化层的引入，改变了 netVLAD的特征输出响应尺度，本文为了使网络 能够用随机梯度下降法进行正常的优化，采用了 Power层使归一化后的输出乘以约 10倍将输出尺度还原到与未进行归一化时对等的程度，该操作也可由加大归一化层 后一层的学习率和降低正则项系数代替，缺少尺度还原的操作将使网络在添加归一化 层之后难以优化。
网络由softmax损失进行训练，各个类别的置信度由softmax层的响应得出，由 此得到不同的归一化层在SMALL_90EX数据集上的mAP如表4-7所示。
表4-7归一化层对比实验结果
方法	mAP
无	0.402
12	0.498
Intra	0.433
2	.实验结果分析
由上述结果可知，12归一化为netVLAD的最佳归一化方案。

5.3.2线程调用
本文提出的框架大部分计算均使用了多线程。具体地线程调用说明表如表5-1所
不。
表5-1线程调用说明表
线程分配	模块
单线程	PCA投影矩阵计算
外部多线程	解码、CNN特征提取、PCA降维、VLAD 码书训练、VLAD编码、SVM训练、 类别预测
内部多线程	解码、CNN特征提取、VLAD码书训 练、SVM训练
在本文的线程调用设计上，由于解码、CNN特征提取、PCA降维、VLAD编码、 类别预测的执行对各个视频而言都是独立的，直接使用了 OpenMP进行并行计算，即 外部多线程。其中解码由FFMPEG库提供了对于单个视频的多线程实现，CNN特征 提取依靠Mini-batch的形式也提供了对单个视频的并行方法。对于需要将视频训练集 作为整体输入的部分，无法直接从外部直接用多线程调用，VLAD码书训练由vlfbat 库提供了多线程的支持，对于SVM训练考虑到各个二分类的模型都是独立进行训练 的，也可由OpenMP实现模型间的并行训练。
最终仅有PCA投影矩阵由单线程方式实现。

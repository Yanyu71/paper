4.3.1基于PDR约束的NLOS路径判断方法的验证
为了验证基于PDR约束的NLOS路径识别方法的准确率，我们在二维坐标系内建 立仿真环境，如图4-7所示，假设整个空间大小为100*100m,基站位于(50,50)米的 坐标处，在该空间范围内随机生成定位点A,在A点的基础上随机生成定位点B,两个 点的距离表示为〃PDR。
图4-7 NLOS路径识别方法仿真场景图
接下来通过实验仿真的形式寻找合适的判决门限值2和〃。在本次实验中误差来源 主要包括NLOS误差、角度和时延估计误差、惯性导航器件引入的PDR误差。
首先假设A、B两点的收发信号均为NLOS信号，假设NLOS传播距离误差是在 (10,50)米上服从均匀分布的随机变量，NLOS传播角度误差是在(-込刃上服从均匀分 布的随机变量，用标准距离偏差b血和标准角度偏差7”孕表示大规模天线阵列的估计误 差，用表示PDR的估计误差。信号在传输和估计过程中的误差参数(6血,巧,輕QPQR) 分别取(lm, 0.5°,0.75m)、 (2m, 0.5°,0.75m)、 (lm, l°,0.75m)、(lm, 0.5。,1.5m), 在上述仿真环境下，对4.1所提岀的方法进行了 1000次蒙特卡洛实验仿真，仿真结果如 图4・7所示。
图4-8不同误差下Q、少和NLOS识别正确率之间的关系
通过图中(a) (b)两图的比较，可知随着距离估计误差b為的增加，要想保持较 高的NLOS识别正确率，需要提高"的值；比较(a) (c)两图，可知随着角度估计误 差5”如的增加，同样需要提高提高4的值；比较(a) (d)两图，可知NLOS识别正确 率对PDR估计误差并不敏感。由于A、B连续的两个点都处于NLOS的情况，在 实际非视距环境下移动时，反射墙体表面的光滑程度并不理想，信号在经过反射时，导 致镜面反射定律失衡，表现在时延和角度的估计误差中，从而影响NLOS判断的结果。 而对于PDR的估计误差刃册来说，其大小与NLOS引起时延和角度误差表现在距离上的误差较小，因此可以忽略其对参数2、少的影响。以上实验是基于A、B两点都处于 NLOS的情况，研究了 NLOS识别正确率和信号传输过程中各个误差之间的关系。接下 来将固定误差参数(OdisQggieQpDR)为(Im, 0.5°,0.75m),研究A、B信号状态不同的 情况下，NLOS识别正确率和参数2、帀的关系，同样进行1000次的蒙特卡洛实验，仿 真结果如下图所不。
图4-9 A B两点信号状态不同时，几、"和NLOS识别正确率之间的关系
通过上面两图的比较可以发现，相比起A、B两点都位于NLOS的情况，A、B两 点的信号状态不同时，NLOS识别正确率和◎的取值关系不大，而且在久取值较小时即 可实现较高的NLOS识别正确率。结合4.1小节的理论分析可知，当A、B两点的状态 发生变化时，基站侧估计得到的时延和角度值发生较大的变化，由此计算得出的A、B 两点的距离在2取值较小时，依然能够满足大于threshhold的条件。
因此，综合上述仿真实验，得出如下结论：当A >0.5且77»2.5时，能取的较好的 NLOS识别率。
通过以上实验，得出了 2和乃的取值范围，因为在进行上述实验时将NLOS误差设 定为均匀分布的参数。所以，接下来的实验将固定门限参数2和研究NLOS识别正 确率和NLOS误差之间的关系。进行1000次蒙特卡洛实验后，仿真结果如图4-9所示。
49
图4-10NLOS误差和NLOS识别正确率之间的关系
由图4-9可以看出，当NLOS误差增加时，经过反射的信号径与直射径之间的距离 差将会显著增加，因此导致NLOS识别正确的概率增加。
表4-1相同条件下不同方法之间的NLOS识别正确率
方法
NLOS识别正确率
基于PDR约束的NLOS识别方法
在表4-1中，将本文提出的NLOS识别方法将其他方法做了比较，可以看岀，由于 增加了 PDR的约束条件，NLOS识别正确率有了显著的提升。

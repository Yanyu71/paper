5.5公平性考虑
5.2小节的模型中以每个子帧的D2D总吞吐值作为目标函数，如果在一段时 间内DUE和CUE的位置变动比较小，就可能出现某些DUE ?直受到强C2D干 扰或到基站路损较小，从而导致这些DUE分配到的资源-直很少，速率维持在 -个很低的水平，DUE之间出现了比较严重的速率不公平问题。
为了解决这个问题，可以使用基于比例公平计算DUE吞吐的方法，即将模 型的目标函数改为最大化式5-19中的这个值伝％
￡,”5〃	（5-19）
其中》是第秫个DUE在当前子帧能达到的速率，是第秫个DUE在前T -1个 子帧实际达到的平均速率，在每个子帧的资源分配结束后按式5-20更新值为 pNew。
*,=加_］）3听	（5-20）
其中T为当前的TTI数目。
将最大化式5-19中的比值作为目标函数之后，资源分配算法用一个相对的 比值取代了一个绝对的值作为判决指标，即不再以DUE在此子帧中能达到的吞 吐值作为判断指标，而是倾向于将更多资源分配给在当前子帧能达到的吞吐比其 历史平均吞吐高的DUE。因此，即使某个DUE无法在单个子帧上获得较高的速 率，但如果其较低，与心的比值较高，算法还是可能将一部分资源分配 给这个DUE；反之，若某个DUE信道条件及干扰环境都比较好，则它的&?比 较高，虽然其&也比较高，但4与夫“,的比值并不高，算法可能会减少分配给此 DUE的资源。所以，本节提出的算法可以增强DUE之间资源分配的公平性。

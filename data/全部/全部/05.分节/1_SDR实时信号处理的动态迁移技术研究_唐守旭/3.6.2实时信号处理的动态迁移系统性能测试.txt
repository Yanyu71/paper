3.6.2实时信号处理的动态迁移系统性能测试
针对动态迁移系统测试，首先在IBM Server!输入DS指令，启动实时信号 处理相关进程，然后在IBM Server3上利用指令ping 192.168.40.9 -i 0.1,向IBM
55
Server发送数据，建立起IBM Server3与IBM Server!之间的通信数据链接，并 进行数据业务通信。然后在IBM Server 1输入M或者Migration指令，启动动态 迁移操作。迁移完成后，IBM Server3会失去IBM Server 1的数据链接，而与IBM Server2建立起数据链路链接。也可以进行实时信号处理从IBM Server2向IBM ServerI的迁移，相应的流程与操作类似，指令为DSR与MB,在此不再赘述。 如图3-30中所示，先进行IBM Server3与IBM Server 1之间的ping数据业务， 然后进行动态迁移，实现IBM Server 1上的D2D程序向IBM Server2上迁移，实 现IBM Server3与IBM Server?之间的ping数据业务。迁移过程中会系统会记录 各个环节的时间花费，同时通过观察ping数据业务的丢包的数量也可以大致计 算出数据业务中断时间，如式3-1所示。
Time numberx 100ms	(3-1)
其中7?糜表示业务中断时!'□], number表示丢包数量，每个包的花费时间为lOOmSo
图3-30ping数据业务迁移实现图
表3-4动态迁移过程中各处理环节耗费时间
动态迁移系统各个环节	时间花费(单位：ms)
获取迁移发起端虚拟网卡ip, 并配置迁移目的端虚拟网卡	6
向迁移目的端传送控制信息并 启动D2D程序进程	53
创建USRP实体	55
修改迁移目的端eth3端口	6
链接USRP实体与USRP设备	1743
实时信号处理程序同步	106
动态迁移过程总花费时间	1969
数据业务丢包个数	19个
通过对搭建的实时信号处理的动态迁移系统进行测试。测量出动态迁移系统
56
各个环节的花费时间如表3-4所示。数据业务中断时间为修改eth3端口和链接 USRP实体与USRP设备所花费的总时间以及实时信号处理业务同步所需时间花 费，为1855ms,丢失19个数据包，几乎不会对通信业务造成影响。
通过图3-31可知，对于实时信号处理这种具有高实时性要求，并且数据处理 量大，占用较高的CPU资源和内存资源的任务，实时动态迁移系统方案无论是 在总迁移时间花费，还是在数据处理业务中断时间方面相比于基于虚拟机系统的 迁移方案都具有非常明显实时性的优势。实时动态迁移系统迁移过程中，数据业 务只有不到2s的中断现象，这对用户不会产生明显的影响；而基于虚拟机系统 的迁移技术，则会给用户带来无法容忍长达20s以上的业务中断现象。因此，针 对于实时信号处理，该动态迁移系统具有巨大的应用优势“

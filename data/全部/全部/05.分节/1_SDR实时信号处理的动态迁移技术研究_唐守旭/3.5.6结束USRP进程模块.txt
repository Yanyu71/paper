3.5.6结束USRP进程模块
当主控程序通过ZMQ机制接收到由迁移发起端发送过来的“kill_usrp”控制 指令之后，主控程序会跳转到结束USRP进程的模块，并进行相应的结束进程相
49
关处理操作。
首先将迁移目的端的eth3端口的ip修改为192.168.20.2o如果ip修改成功, 则进行后续操作；如果ip修改失败，则向迁移发起端发送ip修改失败的消息， 并结束本次处理。
在ip修改成功之后，调用killProcess函数，该函数将执行结束USRP进程的 操作，如果函数成功结束了 USRP进程，则向迁移发起端发送结束USRP进程成 功的消息，结束本次结束进程操作；如果函数执行失败，则向迁移发起端发送结 束进程失败的消息，终止本次操作。
迁移目的端结束USRP进程的处理流程如图3-22所示。
图3-22迁移目的端结束USRP进程处理流程

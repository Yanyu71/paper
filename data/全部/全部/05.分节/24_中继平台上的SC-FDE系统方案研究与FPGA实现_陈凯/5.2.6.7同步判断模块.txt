5.2.6.7同步判断模块
使用能量计算模块计算出的信号能量与总能量，得到噪声能量。进行除法运算，得 出信号能量与噪声能量的比值。
测度函数宀$件—
Sum 一 Signal _ sum
则模块的流程图如下：
SOP
图5・9同步判决模块流程图
通过理论分析与仿真得知，在同步头进入滑动窗的几个相邻数据块中，该比值先增 大然后减小。因此，设定判定模块的工作原理如下：
首先判决模块将缓存前几个数据块的测度函数的增加或者减小的关系。用一个bit 表示，如当前数据块的测度函数大于上一模块的测度函数，就用1表示否则用0；其次，
45
需要缓存前两个数据块的测度函数值。如此，便会得到一个4bit的表示大小关系的移位 寄存器和3个表示测度函数值的移位寄存器。假设依次进入的测度函数值为名或，M_x, M，Mx, M2,那么对于应该判定为同步的情况应该为：
M_2 <M_x <昭 > 域〉心，此时，表示大小关系的移位寄存器中的值应该为HO。。 同时只要昭大于判决门限，就可以认定同步成功，输出一个同步标志位与同步位置信 ，息、O
模块计算中使用了一个除法器以完成归一化的工作。一般来说，在FPGA中实现 一个除法是很困难的，但由于本模块只需要在256个时钟周期中计算出除法值，对除 法器的时序要求并不高，故在实现中釆用自己设计的除法器，使用流水线设计，对于32 位无符号除法会有32个时钟周期的延迟。
对于该模块的吞吐率与延迟的计算显得稍微复杂，首先数据的吞吐率为1符号/SOP； 对模块的延迟与除法器的采样延迟有关，对32位的除法器，使用32级流水使用可以完 成，此处的延迟釆样设为40个CLK。

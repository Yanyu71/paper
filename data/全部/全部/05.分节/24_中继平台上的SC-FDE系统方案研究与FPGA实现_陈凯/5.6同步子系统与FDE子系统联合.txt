5.6同步子系统与FDE子系统联合
同步子系统的最终目的是为SC-FDE系统服务，进行方案设计的时候，便将SC-FDE 系统纳入了考虑范围。一般的研究中，将两者结合研究并不太多，大多是将两个系统直
50 接进行串联的结构，而在本项目中，同步子系统与SC-FDE系统紧密相连，釆用几乎同 一套处理结构，为此，在本节扩展同步子系统，让系统成为一个同步SC-FDE系统。
系统框图结构如下
图5-18同步与FDE系统的联合设计
从系统框图可以看出，SC-FDE整体系统的框图与同步子系统的框图没有太大的区 别。其原因是，同步与均衡系统的主要计算，都通过算法转化到频域进行。唯一需要特 别设计的是两个数据选择器与一个数据分支输出器。
FFT计算之前的数据选择器主要负责切换同步前未知数据与同步后有效数据。当找 到有效数据后，针对每一帧数据，可以将FFT和1FFT模块用于均衡运算。在找到有效 数据之前，FFT与IFFT用于寻找同步码字。在复乘模块处的数据选择模块则主要决定 FFT之后的数据的运算方式，同时决定了当前计算数据的作用。对没有找到帧数据起始 位置的数据块，选择本地同步数据；当找到帧起始位置后的第一个数据块，选择本地 FDE数据，表明正在进行信道估计；其他的数据块，则应该选择信道估计的均衡系数, 表明该数据块正在进行均衡。IFFT模块之后的数据输出分支则表示当前数据的作用， 输出至同步计算模块的数据应当是还未进行帧同步的数据；输出至信道估计RAM的数 据应当是信道估计的结果，如果采用更复杂的信道估计方案，则在RAM与数据分支输 出之间加上更复杂的处理模块；而输出至数据输出的数据则应当是均衡之后的数据，如 果釆用判决反馈频域均衡结构，则在此之后应当加上反馈结构。
从上面的分析可以看出，SC-FDE整体系统能够复用FFT与IFFT模块，从而达到 节省系统资源的目的。不过这样做有一定的缺陷，即需要保证对同步头过釆样之后的数 据与均衡头或数据块的长度保持一致，这样才能达到FFT模块复用的目的。但是如果在 FPGA中己经有支持变长FFT计算的模块，则无论是否满足该条件都可以使用该结构。
从联合设计框图中可以看出，系统资源的消耗在同步子系统上不会有太大的增加， 唯一增加比较多的将是RAM资源的消耗。
同时还需要增加一个信道估计模块，因为在系统中，均衡过程使用乘法器实现，求
51
解均衡系数的过程需要除法器的参与。

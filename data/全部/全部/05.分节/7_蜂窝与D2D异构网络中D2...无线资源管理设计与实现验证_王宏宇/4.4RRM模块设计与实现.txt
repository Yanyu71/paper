4.4RRM模块设计与实现
第三章指出，D2DRRM需要蜂窝网络调度信息感知获取机制、D2D网络内 部信道接入机制、完备的异构网络间干扰控制机制、链路自适应机制及D2D的 资源选择决策机制，以共同完成无线资源管理目标。
为完成以上功能，在实现中将RRM分为网络监控模块、SSCA模块、干扰 控制模块、AMC模块、HARQ模块、资源决策模块。子模块间关系如图4-7。
在TD-LTE D2D硬件验证系统中，调度器使用消息处理和时序双重驱动的形 式。物理层接收数据上报、状态上报使用消息处理，时序主要用来驱动发送调度。 调度器按照调度队列的子帧分配，以一个固定提前量调度对应功能模块。
上图中，红线内为RRM模块及其子模块。紫线为数据流，橙线为认知消息 流，绿虚线为参数流，蓝虚线为定时控制流。
以一次成功的数据传输为例，发送端简化的交互流程如图4-8。此交互流图 仅为了说明一次成功的数据传输各类间的交互信息与顺序，以建立整体的调度逻
53
辑，其余处理分支流程，例如等待超时、RTS0/RTS1共存等，将在各个子模块设 计时进行阐述。但需要指出，在发送端接收CTS后，SSCA需要：1）在调度时 序队列中记录已经应答的数据发送帧号、子帧号，以便在对应时刻触发DPSCH 发送调度；2）在调度时序队列中记录对应ACK反馈接收的帧号、子帧号，以
便在对应时刻使能ACK-CCCH物理层接收。
图4-8发送端简化模块交互流程图
在本次成功的数据传输中，对应的RxDUE简化交互流程如图4.9。其交互 过程与发送端配合，不再赘述。
54
图4-9 接收端简化模块交互流程图 下面对每个子模块进行设计及实现。

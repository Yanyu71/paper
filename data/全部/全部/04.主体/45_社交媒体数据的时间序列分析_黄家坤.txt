

第一章绪论
伴随着互联网的蓬勃发展，社交网络由于其开放性、实时性和便捷性逐渐 成为人类社会虚拟化社交中必不可少的一部分。社交网络呈现出典型的复杂网 络特性，分析社交网络的传播行为具有重要的价值。而社交网络中的热点事件， 代表着真实社会中人们的看法和观点，研究热点事件在社交网络中的传播规律， 对舆论导向和舆论控制具有重要的意义，既能促进正面言论的传播，又能及时 抑制负面言论，是分析决策者非常关注的问题。
1.1研究背景与意义
社交网络已成为人们生活中必不可少的一部分，在大数据时代，人们在互 联网中的虚拟社交产生了大量的用户行为数据，而这些数据代表了用户的真实 看法和观点。近年来，随着无线网络技术以及智能终端的进步，移动社交网络 取得重大发展，人们逐渐从传统的PC社交转向移动社交。研究信息在社交网 络中的传播规律具有重要的理论意义和实用价值。
1.1.1社交网络的兴起与发展
社交网络即社会性网络服务或社会化网络服务(Social Network Service, SNS),是在互联网上与其他人虚拟社交的一个平台，起源于网络社交。网络社 交指的是人与人之间的关系网络化，在互联网上表现为各种网络社交软件，例 如Blog、WIKL MicroBlog、RSS等一系列Web2.0核心应用而构建的社交网络 服务平台。
社交网络以用户的基本兴趣为中心，用户需要上传个人基本信息，通常包 括照片、兴趣清单以及个人动态，向朋友发出请求，得到确认后形成朋友圈。 有些社交网络平台会提供多种额外服务，如发动态，建立用户群组，即时聊天 等等。当用户建立了社交网络后，它在很大程度上等价于人们面对面的真实交 友网络。然而真实网络受到时间、空间等因素的限制，网络规模较小，而且网 络中的节点互动频率较低。社交网络将虚拟社交和现实社会有机结合，克服了 现实交友网络的局限性，提供了更大的交友空间，依托于飞速发展的互联网技 术，成为扩大化的社会性网络。
社交网络背后的理论依据是哈佛大学心理学教授Stanley Milgram于1967 年提出的“六度空间理论”(Six Degrees of Separation)。六度空间理论指出：任 何两个人之间至多通过六个中间人就可以取得相互联系。Stanley Milgram根据 这个理论做过一个连锁信实验，证明了平均只需五个人就可以联系到任何两个 陌生的美国人[1][36]。
依据六度空间理论，社交网络中的任意两个节点，总能存在一定的路径， 连接到这两个节点。真实交友网络中，人们受到时间、地域的限制，与陌生人 产生联系的成本较高，所形成的网络只是局限于朋友或亲戚间的熟人网络。而 社交网络将线下的真实交友网络转到不受时空限制的互联网虚拟社交平台，用 户更容易联系到陌生人，从而扩展了真实网络中的熟人网络。用户通过朋友的 朋友来进行社交扩展，逐渐扩大朋友圈。另一方面，社交网络平台根据用户的 基本信息提取用户的兴趣特征，提供额外的服务，将兴趣相似的用户划分到一 块，并向用户推荐具有相同兴趣爱好的人，用户便可以在社交网络中了解到自 己朋友的兴趣和动态。这样，每个人在社交网络中都会形成一个属于自己的局 部网络，亦即朋友圈，用户可以在任何时间、任何地点了解到朋友圈中发生的 任何事情，而不同的局部网络之前相互连接则会形成更大的局部网络，所有的 局部网络组成整个社会的社交网络，在这个网络中，任何两个节点都可以相互 连接，消息源可以从任意一个节点传播到整个社交网络。消息在社交网络中的 传播较真实交友网络会更快，人们能更及时地从社交网络中获取社会中最新最 热的消息。
国外社交网络发展较早，MySpaceFacebook> Twitter为主要的社交网站。 MySpace为最早的为全球用户提供集交友、及时通讯、博客、个人信息分享等 功能于一体的互动平台，目前是全球第二大社交网站，截至2015年，具有10 亿的注册用户。而在2008年，Facebook用户数超过MySpace成为全球第一大 社交网站[2]。虽然MySpace和Facebook都取得了重大成功，然而他们仍具有 熟人网络的局限性，即使在虚拟网络中，用户仍然倾向于只在自己的熟人网络 中互动，信息传播在这种网络中仍然受到限制。
中国社交网络的发展主要经历了四个时代：早期社交网络一BBS时代，休 闲娱乐型社交网络时代，微信息社交网络时代，垂直社交网络时代[3][4]O随着 社交网络在国外的兴起，国内的社交网络平台也如雨后春笋般迅速涌现岀来， 其中以人人网，开心网，QQ,新浪微博为代表。人人网是中国最早最大的面向 校园的社交网络，在全国各大高校推广，风靡一时，成为当时最大的校园社交 网站。而面向白领市场的开心网在同一时期也逐渐流行，同样具有个人动态分 享，即时通讯交友等功能。随着移动互联网的普及，以微信为代表的移动互联 网社交产品逐渐取代了传统PC时代的社交平台。如今智能终端集GPS,摄像 等多种设备于一体，能够为用户提供图片、视频位置等多种多媒体数据，移动 社交依托于这些优势，能够更精准地绘制用户画像，使社交网络更贴近于真实 社会。相对于传统的平台，用户能够随时随地进行信息交流，这为信息在社交 网络中的传播带来了新的机遇和挑战。
1.1.2微博的兴起与发展
Twitter首先将微博(Microblog)这种服务应用到社交网络中，允许用户将 自己的最新动态和想法以短文本的形式发布，文本不超过140个字符。微博不 同于传统的交互形式，用户之间以关注(follow)的形式相互联系，不需要通 过好友验证，用户只需关注好友或者感兴趣的人，便能获取到其他人的最新动 态，而不需要主动与好友或感兴趣的人交流。这样，用户能够第一时间从社交 网络中获取最新的消息。另--方面，关注是双向的，用户不仅可以关注别人， 也能成为被关注者，具有听众和广播者的双重身份，用户也可以将自己的动态 或者对于某些事物的观点以精炼的语言广播到社交网络。微博服务真正地使社 交网络进入一个“人人都能发声、人人都能被关注” ［5］的时代，打破了熟人网 络的局限性。这种完全开放的沟通方式，使得人人都能向社会表达自己的看法 和观点，而且受到大多数人赞同的观点会在网络中迅速流行，表现为热点事件、 网络流行词、网络红人等。微博成为人们获取社会最新动态的主要平台，反之， 这种最新动态很大程度上影响了人们的观点，成为现实生活中重要的一部分。
新浪微博为中国影响力最大、用户数量最多的微博平台，截至2015年，新 浪微博已经具有13亿注册用户和1.5的月活跃用户，显然微博己经完全改变了 人们获取信息的方式。由于其便捷性和实时性，人们更多地在微博中消费和分 享信息，使得微博成为信息传播的主要平台。新浪微博具有大量认证的知名公 众人物，这些名人具有数量庞大的粉丝，可信度较高，会产生“名人效应”，很 大程度上影响了公众的观点。名人的活跃能极大地促进消息在社交网络中的传 播，许多名人的粉丝并不具有判断的能力，因而热衷于分享或转发名人的言论 来表达自己的观点。社交网络中类似知名公众人物的意见领袖为消息传播提供 了重要的途径，加速了消息传播的速度，在-定程度上，这些意见领袖决定了 社交网络中的舆论导向，具有重要的意义。
1.1.3微博热点事件的重要意义
微博的出现彻底改变了信息传播的方式，其开放性使得人人都可以作为社 交网络的消息源，人人都可以作为消息的传播途径，这虽然提高了信息传播的 速度，然而在另一方面它也为虚假、谣言、反社会等负面言论的传播提供了有 利条件，而这些言论是危害社会安全、引发社会动荡的前者诱因［6］。危机舆情 事件在微博中的曝光比例逐年提升［7］,因此对微博的舆论检测已成为迫切需求。
微博中的热点事件是网络舆情的代表，反映了社会的公众观点，对热点事 件传播规律的研究已成为国内外的研究热点。热点事件的社会影响力不容小视， 近年来，“文章出轨”、“马航失联”、“郭美美事件”、“方舟子打假”、“刘强东和 章泽天恋爱”等一系列热点事件在微博中曝光后引起了社会和主流媒体的广泛 关注。热点事件通常来源于突发事件的报道，能够引起人们广泛关注的言论或 者具有重要价值的新闻，一旦作为消息源在微博社交网络中传播，在一段时间 内能够引起大量的转发或评论。
热点事件不同于热点话题，人们参与到热点话题的讨论中并不意味着对人 们对消息的未知。由于人们参与热点话题的重复性，热点话题呈现出周期性， 因而热点话题仅仅代表了信息随着时间的热度变化，并不能直接反映信息在社 交网络中的传播过程，而热点事件中的转发行为相同的用户只能参与一次。另 一方面，信息的传播过程与微博中的转发行为直接相关，当消息在社交网络中 发布时，用户的所有粉丝都能够实时获取到其动态。二次转发行为使得消息从 粉丝传播到粉丝的粉丝，从而在互不相连的节点之间形成信息级联，更多层次 的转发会传播到更多地听众，最终扩散到整个社交网络。
微博中的热点事件是真实社会消息传播的映射，然而它的传播更为迅速， 热点事件传播规律的研究对社会的舆论控制有着重要的意义，是近年来国内外 研究的热点。
1.2国内外研究现状
1.2.1传播动力学概述
具有自组织、自相似、吸引子、小世界和无标度的部分或全部特性的网络 被称为复杂网络。社交网络，如微博，人人，facebook等，都属于复杂网络， 具有复杂网络的一般特性。社交网络是典型的复杂网络。在社交网络中，节点 之间会通过关注相互连接，与一个节点相连的所有边的数量就是这个节点的度。 整个网络的度分布服从幕率分布，即少部分节点拥有较大的度，而大部分节点 只有很小的度。这与实际场景相对应，社交平台汇聚了主流领域中的少数关键 人物，这些人物拥有大量的粉丝，处于核心地位，而大多数用户都是一般受众， 影响力也较小，在一定程度上会受到核心人物的影响。
网络传播动力学是复杂网络领域的重要研究方向之一，信息在复杂网络中 的传播直到1998年小世界与无标度网络的发现而引起重视。复杂网络的基本模 型有四种。一是规则网络。常见的规则网络包括全局耦合网络，最邻近耦合网 络和星形耦合网络［8］。二是随机网络模型。ER图作为典型的随机网络，成为 研究的热点。三是小世界网络模型。人们对小世界网络模型研究起源于“小世 界现象”规律的发现。在实际的社会网络中，我们往往会发现某些看似与我们 “相隔很遥远啲人实际上就在我们周围，这种现象就是典型的“小世界现象”，
学术界对“小世界现象”的研究直到Milgram的“六度分割”实验才开始，典 型的小世界网络模型有WS小世界模型和NW模型。四是BA无标度网络模型。 BA模型体现了网络的动态增长和择优连接的本质特征，但是仍存在局限性， 不能实现有向网络的特点。许多学者继续结合万维中网页链接的有向性，建立 了更加符合真实网络特性的无标度网络演化模型。此外，BA网络模型的平均 度是常数，而许多实际网络的边的数量比节点增长快的现象［9］。
复杂网络上的流行病传播模型在近年来获得了巨大的成功，对整个传播动 力学的研究起到了颇为重要的推动作用。其成功的主要原因是整个社会对流行 病的重视，因为流行病传播的速度相当快，并因此会引起-系列的社会问题， 如因特网上的病毒蔓延，人类社会中的非典型肺炎（SARS）恐慌及各种性疾病 尤其是艾滋病的广泛传播等，而这一系列问题都与人际关系网络的结构特性密 切相关。
SIR （Spreader Ignorant St由er）和 SIS （Spreader Ignorant Spreader）是两种 最典型的流行病传播模型［10］o在SIS模型里，人群被划分为两类：易感人群 （S）和染病人群（I）。染病人群是复杂网络中的感染源或信息源，它会以一定 的概率把传染病或信息传递给易感人群。染病人群以一定的概率被治愈；易感 人群被感染同样会以一定的概率传播给网络中的相邻节点。
SIR模型是SIS模型的扩展，人群增加了新的一类：免疫人群（R）。这里 的免疫人群是指治愈并获得了免疫能力，一定成为免疫人群，就不可以再被感 染，即成为不再对相应的动力学行为产生任何影响的节点。
社交网络的信息传播规则与流行病传播相似，微博网络的信息传播是其中 的代表。在微博中，人们以关注（follow）的形式相互连接，即每个人都会有 -定数量的粉丝，用户之间既可以单向连接，乂可以双向连接。微博具有转发， 评论功能，当一个用户发布条消息后，便会同步到其所有粉丝的微博首页， 这样就完成了一次消息传递的过程。当其粉丝转发次消息时，消息又从粉丝传 递到这些粉丝的关注者，粉丝中既有传递者又有非传递者，对应着流行病传播 模型中的易感人群和免疫人群。如此重复这个过程，信息得以大规模的传播出 去。
1.2.2热点事件研究概述
在社交网络信息传播方面，热点事件和热点词汇的传播是其重要的研究方 向。这类传播行为的研究方法主要包括两种：基于社交网络结构特性的分析方 法，基于时间序列的分析方法。前者从网络结构的角度分析和预测网络节点的 传播行为，而后者研究热点事件传播过程中的时间特性。
Kwak［ll］通过采集Twitter用户信息，全面系统讨论了 Twitter ±用户粉丝 与追随者的分布特征、用户影响力排名、热点事件分类以及热门事件持续时间 等问题。文献卩2］研究了热点事件在Twitter和Digg上的传播情况，包括其传 播广度和速度，时长分析以及网络结构对事件传播的影响。文献［13］分析了 Twitter上影响话题转发次数的相关因素，分类讨论了热门事件转发次数和各因 素的相关性，但该文没有定量分析事件流行度，也未提出话题转发次数的预测 模型。
Yang［14］提出了计算事件相似度的新度量以及K-SC聚类算法，与传统的 K-Means聚类算法相比，具有更高的准确度，并且设计了增大事件传播率的方 法。进一步，文献［15］设计了新的线性影响模型，用于分析热门事件传播网络 中每个节点的影响因子，有助于识别传播环节中的关键节点。
Leskovec［16］使用多达9千万的网站和博客文章研究社交网络中热门短语 的使用、传播和循环过程，发现了热门短语具有的时间序列特性。Eisenstein］ 17］ 研究发现热词传播主要聚集在地理位置相邻的地区。Romero ［18］针对Twitter 热门标签所属的不同领域类别，研究了各自的传播影响力，虽然分类中涉及了 热点词汇，但并未展开深入研究。
以上方法或模型都只利用了热点事件或热点词的部分特征，然而社交网络 的结构特性和时间序列特性都是描述热点事件或热点词的重要因素。结合网络 结构与时间序列两种特性，才能够更有效地刻画热点事件传播的完整规律。另 外，目前的研究都是采用特定的分析方法或模型，缺乏针对热点事件或热点词 的传播规律的系统分析方法。
热点事件时间序列传播规律的分析为热点事件传播的预测提供了基础。时 间序列按统计特性可以分为平稳时间序列和非平稳时间序列两类，热点事件的 时间序列都是不平稳的，如果能够正确的预测这些序列，可以对热点事件进行 控制和指导。小波分析、协整处理、Kalman滤波、Back Propagation神经网络、 MCMC模拟检验等方法均可以完成对非平稳时间序列的预测。
针对社交网络热点事件的非平稳特性，并且由于大部分的热点事件具有不 完全信息特性，MCMC (Markov Chain Monte Carlo)算法［19］［20］能够解决热 点事件的预测问题。它构造一个或多个平稳分布为双x)的马尔可夫链，利用 这些模拟样本进行统计推断。主要采用两种主流的MCMC算法：Gibbs抽样方 法和 Metropolis-Hastings 抽样方法。
MCMC算法的主要思想，首先利用热点事件的时间序列数据构造参数空间, 使用抽样方法在参数空间随机取值，作为起始点。算法的关键在于随机参数的 生成，它首先根据算法中未知参数的概率密度函数来生成随机参数，然后将此 随机参数与起始点的概率密度比较，计算两者的比值。如果比值大于1，即随 机参数的概率大于起始点，那么保留这些随机参数，并利用此随机参数生成新 的样本点，并在此基础上继续重复随机选取参数的过程，直到所有的样本点满 足要求。如果比值小于1,即随机选取的参数不能用来构造新的釆样点，那么 需要将这些参数抛弃，并再次选取新的随机参数，直至能够被接受。
针对单一的热点事件时间序列在多数情况下是非平稳的，采集同一热点事 件的相关时间点的时间序列或相关联事件的时间序列，文献［21］提出了采用协 整检验的方法，决定一组非平稳序列的线性组合是否具有稳定的均衡关系。如 果这个线性组合存在稳定的均衡关系，则非平稳时间序列的分析问题退化为平 稳时间序列的分析。抽象为数学模型，可以表示为考虑若干个非平稳的尤其是 单位根过程劣况,,……，为，，如果存在着常数知弓，?…，瞥。使得它们的内积 ￡,?W(0,<?),或者§是平稳过程，则称这些时序变量之间存在协整 (cointegration)关系。协整的含义是通过协同作用，非平稳的序列转化为平稳 序列。
利用Kalman滤波方法不断地将观测资料同化到动态系统中的特性，解 决针对热点事件非平稳时间序列的预测问题。动态的增加观测时间点，以数值 模式为动力约束条件，在使观测和模式结果误差方差达到最小的条件下，得到 基于以前所有观测和当前观测的系统变量的最优线性估计。同时基于Kalman 滤波方法的另一个递推特性，即借助于前一时刻的滤波结果递推出当前时刻的 状态估计值，减少计算量和存储量，适应于大数据读取量的情况下。
社交网络领域已成为国内外学术界研究的重点，人们对社交网络中的传播 动力学更是付出了深入的研究和应用实践，热点事件是其中的代表。目前大多 数的研究工作都源自于流行病传播模型，即在SIR模型或SIS模型的基础上， 结合复杂网络的结构特性分析信息的传播规律。这种研究方法在早期能够显示 出一定的成效，然而随着数据挖掘领域以及互联网技术的发展，这些传播模型 逐渐表现出很多的缺陷。比如随着移动互联网的发展，社交网络呈现出多元特 性，而且网络逐渐发展成时变网络，其在不同的时间表现出不同的特性。另一 方面，互联网的信息以爆炸式增长，基于节点状态的分析方法由于其较高的复 杂度在实际应用中表现的越来越吃力。
时间序列分析方法随着近年来时间序列挖掘的发展而逐渐兴起，这种方法 不仅具有较低的复杂度，而且其分析的效果并不受复杂网络的演化或多元化的 影响而变差，本文的研究结果表明时间序列分析方法具有更高的准确度。此外， 目前己有的一些时间序列分析方法仅考虑了信息在社交网络中的时间特性，这 样会丢失传播过程的一部分特征。本文在此基础上结合了社交网络的结构特性， 兼具两种分析方法的优点，具有更好的性能。
1.3论文的主要工作和结构安排
1.3.1本文工作
本文主要主要研究微博网络中热点事件传播的时间序列特性。在本文中， 首先从统计分析的角度发现热点事件传播模式的统计规律，发现其传播模式具 有两个波峰，而且意见领袖在整个传播过程中起到了至关重要的作用。为了验 证以上规律，将两个波峰中用户的粉丝数分为四个等级，分别统计在属于四个 等级的用户个数，对比意见领袖和普通大众所占的比例。然后，利用K-SC时 间序列聚类算法对采集到的热点事件时间序列数据聚类，得到三个聚类中心， 即微博中热点事件的传播模式具有三个典型的类别，并分析每个类别所代表的 事件类型以及成因。最后根据以上分析结果，在SpikeM模型的基础上，提出 适用于具有两个传播阶段的微博热点事件传播模型SpikeM-G,仿真结果表明 SpikeM-G具有更好的拟合结果。
1.3.2本文结构安排
第一章绪论，首先介绍了近年来社交网络的兴起与发展现状，以及微博这 种特殊的社交网络对人类社会获取信息的方式产生的影响。然后介绍了微博中 热点事件的重要性，对信息在微博网络中传播规律的研究已成为数据挖掘领域 的研究热点。最后介绍了网络传播动力学的研究现状，第-部分从复杂网络的 角度概括了传播动力学的发展现状，第二部分针对近年来兴起的对热点事件传 播规律的研究做出了简要概括。
第二章主要阐述了时间序列相关的基础理论，包括时间序列的基本概念， 传统的应用于金融学分析领域的时间序列分析方法，和近年来发展起来的时间 序列挖掘方法。时间序列是指一系列观测值组成的有序序列，时间序列分析源 于传统的信号与系统领域，从线性系统的角度对时间序列建立线性模型，包括 自冋归模型，滑动平均模型，以及自回归滑动平均混合模型。接下来介绍了时 间序列挖掘领域中最主要的研究方向时间序列，首先介绍了几种可以用于时间 序列聚类的聚类算法，然后介绍了几种适用于时间序列的相似性计算方法，最 后介绍了时间序列的三种主要的聚类算法:基于原始数据的时间序列聚类策略, 基于特征向量的时间序列聚类策略和基于模型参数的时间序列聚类策略。
第三章阐述了微博网络中热点事件的聚类分析结果，首先介绍了本文所用 到的新浪微博热点事件数据集和意见领袖与普通大众的概念，通过统计分析方 法发现了两个传播阶段的规律，并通过分析两个波峰中具有不同粉丝数量的用 户所占的比例来研究意见领袖和普通大众对热点事件传播过程所起到的作用。 接下来介绍了 K-SC事件序列聚类算法，它的优点在于在聚类过程会通过平移、
缩放和归一化，使得不同的时间序列在聚类之前仅存在波形的差异，这样的聚 类过程会把具有相同传播规律的事件划分到一个类别。针对海量数据的应用场 景，本文提出了一种基于MapReduce的并行聚类算法，可以提高聚类的性能。 然后釆用K-SC算法对整个热点事件数据集进行聚类，并得到三个典型的传播 模式。最后对聚类结果分析每个传播模式所具有的特性，两个传播阶段所具有 的不同特点。
第四章通过对热点事件的传播模式建模来分析其数学规律，首先介绍了基 于经典流行病传播模型的SpikeM模型，通过理论分析和仿真发现SpikeM只能 拟合微博热点事件传播过程中的第一阶段，本文结合社交网络的暴律特性和经 典的两级传播论，对SpikeM模型进行修正，提岀了适用于微博热点事件传播 的两级传播模型SpikeM-G。仿真结果表明SpikeM-G能更具有更好的拟合结果， 另外通过结果分析，发现热点事件类型的不同点在于两个峰值的时间点，以及 峰值点的幅值比例。
在第五章为对本文工作的总结，并对下一步的研究方向提出了展望。

第二章时间序列相关理论
学术界对时间序列的研究开始地较早，主要运用概率和统计学来分析具有 随机性的时间序列所具有的规律，并在金融领域取得了重要的成功。而近年来 时间序列挖掘领域随着数据挖掘的发展而逐渐兴起，其中最具代表性的就是时 间序列聚类。本章介绍时间序列的基础理论和时间序列聚类算法，并分析了传 统的时间序列方法在热点事件分析中的不足之处，以及时间序列聚类在热点事 件传播规律分析过程中的重要作用。
2.1时间序列的基本概念
时间序列是一个随机变量按时间顺序釆样取得的一系列观测值所构成的有 序序列[25]o在统计研究中，通常按时间顺序排列的一组随机变量Xx,X2,...,Xr 来表示一个事件的时间序列，其中7>0代表时间点。用X“X2，...,X,表示该随机 事件的有序观测值[23][24]O现实生活中很多数据都是以时间序列的形式出现的, 如北京市2015年11月每日的平均气温构成一个具有30个时间点的时间序列。 对于社交网络中热点事件的时间序列数据，表现为热点事件在不同时间的转发 次数，将所有时间点连接起来就是热点事件的转发曲线，代表热点事件在社交 网络中的传播随时间的动态变化过程。
2.2时间序列分析
时间序列分析就是用数据统计学原理分析时间序列中所包含的规律。时间 序列分析起源于20世纪20年代，在金融学领域取得重大成功。时间序列分析 主要有频域分析方法和时域分析方法两大类。
频域分析方法也叫做“谱分析”，它源自于传统的信号与线性系统领域。这 种方法从频率的角度研究时间序列隐含的数学规律，它假设任何一种时间序列 所构成的无趋势的波形都可以表示为若干个不同频率的正弦分量的和。然而频 域分析方法过于复杂，在数学方面往往需要很强基础，成本较高，而且分析得 到结果较为抽象，具有很大的局限性，而且直观解释性差。
而时域分析方法主要从时间序列自相关的角度揭示时间序列的内在发展规 律。这种方法没有从时域到频域的转化过程，因而算法复杂度低，便于分析， 是目前科研各领域的主流分析方法。此外，分析的过程直接在时域，得到的分 析结果解释性强。时间序列分析的本质过程就是寻找一个最优的函数模型来拟 合观测到的时间序列样本，函数的自变量是时间，因变量是时间序列的值。常 用的函数模型为自回归模型(AR, Auto Regressive),滑动平均模型(MA, Moving Average)和自回归滑动平均混合模型(ARMA, Auto Regressive Moving Average)。
自回归模型自回归模型主要的思想是自回归，即当前的时间点表示为历 史时间点的有穷线性组合，另外再加上一个随机冲击项：
便称为p阶自回归(AR)过程。其中，z,,z,t，z_2,…为时间序列在具有相 同间隔的时间点上的值，…为关于均值〃的偏差，此外 iW 足 Z, = Z,—卩。
定义P阶自回归算子为
妍)=]_伸_人32	州 BP	(2-2)
则自回归模型可以简单记为
。(明=。，	(2-3)
该模型中包含p + 2个位置参数卩艰奴,?..,齢*,其中a：为高斯白噪声过 程的方差，在实际中这些参数都是通过时间序列样本的训练得到。时间序列具 有平稳性和非平稳性，为了使AR模型满足平稳性，它必须满足零点在单位圆 外的约束条件，即自回归算子＜KB) = 1-臥BfB——°,3〃的零点都在单位圆 外，即对满足等式伽8) = 0的所有根到圆点的距离都必须大于lo
滑动平均模型 自回归模型把过程的偏差彼表示为尸个历史值 z,,zz_?v2,...的有穷线性组合，另外需要再加上随机冲击项q。滑动平均模型本 质上与自回归模型相同，把所有的方,都分解为随机冲击项的和，实际上就是q的 无限加权和。在实际运用中，由于时间序列都是有限的数据，因而在对时间序 列样本建模时，有限滑动平均模型更为实用。Z线性依赖于有限的q个的历 史值：
Z	- 喝-I - %-2	%a,_q	(2-4)
称为q阶滑动平均(MA)过程。同样，q阶滑动平均算子的定义如下：
8(B) = \-e,B-02B2	"	(2-5)
则滑动平均模型可简记为
Z= 0(B)%	(2-6)
该模型中包含0 + 2个位置参数〃，印％ ' ? ? ?，为高斯白噪声过程的 方差，在实际中这些参数同样都是通过时间序列样本的训练得到。
自回归滑动平均混合模型自回归滑动平均混合模型同时加入了自回归过 程和滑动平均过程，使得在实际时间序列的拟合中能具有较大的灵活性。
2 =格+。2泛一2 + * ? ? + ?礼p + 0 一 。2%_2	財_『	(2-7)
简记为以上几种模型往往在阶数不超过2的情况下能取 得较好的效果。
平稳性是时间序列中一个很重要的概念，如果一个时间序列是平稳的，它需要同时满足以下两个条件：
(1)均值函数是一个常数函数
(2)自协方差函数只与时间差值有关，而与时间点无关
事实上，在实际中许多时间序列数据都是非平稳的，比如微博热点事件的时间序列，具有非平稳特性。然而这种非平稳的时间序列在某种程度上仍然可 能具有一定的共性规律，这些序列的广义特征很有可能是相似的，比如具有季 节因素的时间序列，虽然整体的时间序列是非平稳的，然而其具有周期性，即 在每个季节是分段都是平稳的，每个季节分量围绕各自的均值而波动。这种典 型的周期特性或者广义特征通常可以用一个广义的自回归算子9(8)来描述，自 重自回归算子仞(B)的所有零点都在单位圆上。假设其存在d个单位根，则算子 夕(3)可写为
(2-8)
其中。(B)是平稳算子。这样，能够描述同质非平稳特征的模型具有如下形 式
甲(B)z产臥 B)Q_B)dz,=0(B)Zi	(2-9)
即
=0(B)a,	(2-10)
其中
w, =V"z,	(2-11)
因此，非平稳非遍历的时间序列数据可以通过这样的d阶差分转换成平稳 遍历的时间序列，然后用平稳的线性模型来描述，而在实际中，d通常取0或 1,最多为2。
以上公式表示为
叫=域叫_| +叫一2 + ? ? ? + 如叫_〃 + 劣 一	- 02a,_2	財^ (2-12)
称为(p,d,q)阶自回归求和滑动平均过程(ARIMA)o其中，如果取d = 0, 并用z,-n代替吗，则ARIMA模型变为基本的ARMA模型，包括了纯自回 归(AR)模型和纯滑动平均(MA)模型。
目前ARMA模型己被有些学者用来分析热点事件的时间序列特性,然而本 文通过仿真发现ARMA并不适合描述热点事件，热点事件的传播特性，以及其 时间序列的非平稳性使得时间序列分析方法解释性很差，而且拟合模型的阶数 并不固定，因而并不能作为分析热点事件传播规律的通用模型。然而时间序列 分析的基础理论，无论对后续的聚类分析还是建模分析，都具有重要的指导作 用。
2.3时间序列聚类
时间序列挖掘是在大量的时间序列数据中挖掘出有用信息，即从海量的、 不完全的、有噪声的实际数据中，发现隐含的、有规律的信息和知识的过程。 热点事件传播规律的分析就是时间序列数据挖掘的过程，即从海量数据中过滤、 筛选出有用数据，并对这些数据建立传播模型，从而得到隐含的、一般化的传 播规律。
2.3.1聚类算法概述
随着国内外数据挖掘领域的逐渐发展，聚类作为其中最重要的方向之一， 至今已经提出了很多聚类算法。这些聚类算法往往都适用于专用的领域，它们 虽然都源于最基本的聚类算法，然而其基本思想却有很多不同，针对不同的场 景它们也会具有不同的优缺点。
时间序列聚类是时间序列挖掘领域中的主要研究方向[26],同传统的数据 挖掘聚类方法类似，时间序列聚类需要聚类算法来对未分类的时间序列数据聚 类，聚类算法的选取依赖于数据的类型和具体的应用场景。在实际中，时间序 列数据可能具有很多种类型，比如时间序列的釆样点有连续的或者非连续的， 取值有归一化的或者非归一化的，而且时间点有定长和非定长的。对于非归一 化的时间序列数据，必须要将其归一化才能进行聚类。归一化的方法有很多种， 既可以用简单的基于大致采样间隔的采样方式，也可以用复杂的建模和估计方 法。
近年来针对不同类型的时间序列数据，产生了许多时间序列聚类算法。总 体来说，时间序列聚类算法分为两种，-种通过修正现有的针对静态数据的聚 类算法，使之适用于时间序列数据；另-种通过将时间序列数据转化为静态数 据，然后使用现有的静态数据聚类算法聚类。前者直接使用原始的时间序列数 据，称为基于原始数据的聚类算法(Raw-data-based approaches),核心的思想 是修正聚类算法中的相似度计算方法，使相似度度量完全基于时间序列数据。 而后者首先将原始的时间序列数据转换成低维的特征向量或者一系列模型的特 征参数，然后对这些提取岀的特征向量或特征参数进行聚类，称为基于特征

(Feature-based approaches)或者基于模型(Model-based approaches)的聚类算 法[27]o图2-1为基于原始数据，基于特征和基于模型的三种时间序列聚类算 法的基本流程。



图2-1时间序列聚类策略：(a)基于原始数据，(b)基于特征，(c)基于模型
2.3.2时间序列聚类算法
迁移聚类算法迁移聚类算法主要分为以下三个步骤：
(1)初始化聚类个数左以及初始聚类中心C;
(2)对于每个时间点计算相异矩阵，并为计算轨迹相似性存储所有时间点 的结式矩阵；
(3)根据广义离差平方和函数计算出比C更优的新聚类中心CL	通过
迁移q中的一个成员到q或者交换q和q中的两个元素得到，其中，
Cp,Cq e C, p,q =	p 二 q	(2-13)
如果新的聚类中心不存在，算法停止；否则将C更新为C'并重复步骤3。 这种算法只适用于等长的时间序列数据，因为当两个时间序列中的一个在 某些时间点具有缺失值的时候，相似性计算方法不适用。
凝聚层次聚类算法层次聚类算法通常具有两种类型，自底向上的凝聚方 式和自顶向下的分裂方式。凝聚层次聚类算法是更为流行的方式，它基于自底向上的策略，算法的基本思想是首先将每个时间序列数据分组成簇（cluster）, 最基本的簇为原子簇，然后通过计算簇之间的相似度，不断地将原子簇合并为 越来越大的簇，直至最后的簇只有一个，最后形成类似树的数据结构。合并过 程通过计算属于两个不同簇中的两个数据的相似度，并把距离最小的两个数据 合并到一起，重复这种合并的过程知道最终形成一个簇。Ward最小离差平方和 算法在合并的过程中，能使聚类过程的离差平方和降到最低。在每一个聚类的 迭代过程中，会遍历所有可能的合并方式，并取其中使离差平方和最小的合并朿略。
层次聚类算法可以适用于非定长的时间序列数据，只需要选择正确的相似 性度量方法，如DTW （dynamic time warping）□然而，无论是凝聚层次聚类算 法还是分裂层次聚类算法，当一次簇合并发生之后，调整策略很难选择，错误 的调整策略很容易导致整个层次聚类性能降低。
k-means 聚类和模糊 c-means （Fuzzy c-means, FCM）聚类算法 k-means 是经典的聚类算法，它的基本思想是最小化一个目标函数，通常是所有样本与 聚类中心点的距离之和。优化的过程依赖于一个迭代过程，首先随机选取初始 的聚类中心，然后通过最小化目标函数来计算新的聚类中心。K-means算法的 核心步骤就是最小化目标函数和更新聚类中心两个步骤，通过不断地迭代这两 个步骤直到目标函数到最小或者到达一定的阈值。
假设有〃个时间序列数据（xA. | k =	, k-means算法通过最小化以下目
标函数来计算聚类中心{v, |z =	:
协WU/） = ￡力*|| 叫一財	（2-14）
/=1 R=1
%k G {0,1）, Vz,^
￡ ufk = Wk
迭代过程的步骤如下：
（1）	初始化聚类中心个数c和迭代停止的阈值8,选择初始聚类中心丫°, 使迭代次数/ = 0；
（2）	对于每个时间序列样本X”，计算其与每个聚类中心的距离，并将样 本划分到最近的聚类中心，从而使得目标函数最小；
（3）	更新聚类中心尸；
（4）	如果目标函数的变化小于& ,则算法停止；否则增加/,重复步骤2 和3；
模糊聚类算法扩展了 k-means算法，使用模糊划分而不是k-means的硬划 分，其目标函数为
11叫-vj|2	(2-15)
/=1 A=1
其中U = [uik]代表模糊划分矩阵，与k-means不同，它的限制条件为
%k e[O,l],VzJ
=1耿
i-\,c
o < 2X < 〃
k=\,n
即样本X*可以被划分到多个类别，而用介于0和1之前的权重值代表划分 到当前类别的可能性大小。通过扩展JgV),可以得到一个通用的目标函数：
M/nJm(tZ,n = Z￡(?,*r II也-v,||2	(2-16)
/=] k=l
通过对丹微分(固定U)和对％微分(固定〃)，可以得到
'一 EW"
? =(1/临-排产T	(2 17)
* 乙(1/|国-5)5
i =	左=1,…,m
FCM算法初始化的时候需要指定聚类中心个数，聚类中心，权重系数和阶 数m,其迭代步骤如下：
(1)初始化c,m,e,选择初始聚类中心尸，使迭代次数/ = 0,初始化模 糊划分矩阵5；
(2)计算聚类中心
(3)如果x^v',,更新模糊划分矩阵UM,否则使褊=1；
(4)目标函数的变化小于￡,则算法停止；否则增加/,重复步骤2和3；
FCM算法在时间序列数据为定长的时候性能最好，因为非定长的时间序列 在计算聚类中心的时候不准确。
自组织映射神经网络(Self-Organizing Map, SOM)算法SOM算法是类 似大脑思维的一种人工神经网络方法，是一种竞争学习算法，可以被认为是一 种从N维(通常是二维)模式空间各点到输出空间少数点的映射。这一映射 由系统本身完成，没有外部的监督，即聚类是以自组织的方式实现的，釆用自 训练的机制建立类别规则，将相似的用户样本划归一类，而将不相似的分离开 来，实现用户样本的类内相似性和类间分离性[28]0 SOM算法适用于定长的时 间序列数据。
2.3.3相似性度量
聚类算法的关键是计算两个样本之间的相似性，样本的数据格式可以是任 意类型。
欧式距离欧式距离是最经典的相似性计算方法，假设均为P维的时 间序列，欧式距离的计算方法如下：

& =\ 支（頌-标）2	（2-18）
V k=]
皮尔逊相关系数假设均为P维的时间序列，皮尔逊相关系数的计算 方式如下：



其中//和S分别为均值和残差，计算方式如下
(2-20)
(2-21)
短时间序列距离（Short time series distance, STS）,考虑到时间序列具有 分段性，可以将时间序列先进行分段，然后计算每一段的相似性，再进行求和， 分段的策略直接影响相似性度量的准确性。STS距离的计算方式如下：

动态时间规整距离（Dynamic time warping, DTW） DTW是计算连续时 间序列与非连续时间序列相似性的经典算法。DTW定义了代表两个时间序列 对应关系的时间规整函数通过优化方法，使得两个时间序列的总相似度 最大来优化W（刀）函数。设两个长度为〃、所的时间序列数据。、C：
。=如务，…，①
C …,综
如果它们的长度相等，则直接计算两个序列的距离。但如果长度不相等, 则就需要对齐。平移和缩放是最经典的对齐策略，即通过线性地缩放采样间隔 （或时间间隔），使时间序列具有相同的时间点。然而这种策略假设时间序列的 所有分段在不同的情景都具有相同的特性，即无论如何缩放，不同段的特性是不变的，然而实际并非如此，这就使得聚类效果较差。因此更多的是釆用动态 规划(Dynamic Programming )的方法。
在对齐的过程中，需要构造一个“xm的二维矩阵矩阵中的元素代表两 个时间序列的分段之间的距离：
心。)= (2 -C)2	(2-24)
即矩阵中保存了两个时间序列所有分段相互之间的距离，而动态规划算法则是 通过寻找使得距离最小的分段，所有的分段在刀中构成一条路径，而这条路径 则就是对齐的策略。假设〃为最优的路径，其定义如下：
W =叫，比，…，w,.
1 2 a	(2-25)
max(w.n)< K <m + n-\
其中，所满足= (/,/),,代表。、CZ冋的映射关系。路径/需要满足连续
性和单调性，即如果叫=0狗,那么叫的卜-个元素只有三个方向，即
(z +1,；),(/,； +1),(?+	+	而冃标就是选取上述几个方向中最优的一个。
算法的代价函数为：
(0 O = min ] 纺 /K	(2-26)
其中，K主要是针对长度不同的路径来进行补偿。DTW的思想就是通过 对两个时间序列进行平移和缩放，即寻找使他们的总距离最小的路径。根据这 条路径所计算的距离就是两个时间庁列的相似性。事实上，这个距离就是最优 路径的累积距离(cumulative distances)<,累积距离/(/,j)可以按F面的方式表 示，累积距离y(i,j)为当前格点距离d(i-j),也就是点g,和c,的欧式距离(相 似性)与可以到达该点的最小的邻近兀素的累积距离之和：
河，丿)= d(q,、) + min{y(,；./ -1),/(i 一 1,丿 一 1)}	(2-27)
寻找最优路径的过程中，首先从(0,0)坐标开始匹配时间序列。和C,每添加一 个新元素，之前所有的点计算的距离都会累加。到达终点(〃,《?)后，所得到的 累积距离就是上述总路径的累积距离之和，也就是序列。、C的相似度。
时间序列数据具有自身的特点，因而要将传统的聚类算法应用到时间序列， 就必须针对时间序列作修正，相似性度量是聚类算法的核心，要达到较好的聚 类效果，就必须提出适用于时间序列的相似性度量方法。上述的几种相似性度 量都可以应用于时间序列，不同的方法应用于不同类型的时间序列数据。其中 DTW算法在计算相似度的时候会对时间序列进行缩放，这种方法适用于热点事件的时间序列，因为其到达峰值的时间点是不一致的，DTW方法能得到较 好的聚类效果，本文采用了这种方法。
2.4本章小结
第二章主要介绍了时间序列相关的基础理论，包括时间序列的基本概念， 传统的应用于金融学分析领域的时间序列分析方法，和近年来发展起来的时间 序列聚类方法。时间序列包括自回归模型（AR）,滑动平均模型（MA）,以及 自回归滑动平均混合模型（ARMA）。虽然ARMA已经用来分析热点事件，然 而本文通过仿真发现其并不适合。ARMA是一种线性模型，而热点事件的时间 序列不仅非平稳，而且是非线性的。此外ARMA模型反映了时间序列相邻时间 点之前的相关特性，即用阶数来定义相关距离，而热点事件的时间序列呈现一 种弱相关特性。虽然ARMA模型并不适合热点事件的建模分析，然而它的基础 理论对热点事件时间序列的分析有着重要的参考意义。
随着数据挖掘领域的逐渐成熟，对时间序列方面的研究具有很重要的意义。 本章接下来介绍了集中主要的时间序列聚类算法，以及相应的相似性度量。时 间序列算法来源于传统的聚类算法，并针对时间序列的特性作出修正。相似性 度量是聚类算法的核心，其计算的准确性直接影响最终的聚类的结果。本章介 绍了几种针对时间序列的相似性计算方法，其中DTW方法运用平移和缩放方 式，能够将不同长度的时间序列对齐，使得计算得到的相似性更为准确。主要 的时间序列聚类算法包括：基于原始数据的时间序列聚类算法，基于特征向量 的时间序列聚类算法和基于模型参数的时间序列聚类算法。时间序列聚类能够 发现大量的时间序列数据中所隐含的共性规律，分析不同类型的时间序列所具 有的特征。本文采用了基于原始数据的时间序列聚类算法，这种算法直接对原 始的时间序列进行聚类，并没有提取特征或进行建模。热点事件的传播行为直 接体现在时间序列的波形变化上，因而对原始数据进行聚类能更好地对热点事 件的类别进行划分，能得到更好的聚类效果。

第三章热点事件时间序列聚类分析
热点事件的类型很多，导致时序的变化也很多，这给分析带来了困难。然 后有些不同的事件虽然有所差异，但是它们的趋势是一致的，也就是服从相同 的传播规律，可以划分到一个类别。时间序列聚类方法可以有效地去除噪声数 据，发现热点事件时序特征的类别，找到热点事件传播的规律。聚类是根据数 据的不同特征，将其划分为不同的数据类，其目的是使得属于同一类别的个体 之间的距离尽可能小，而不同类别上的个体间的距离尽可能大。时间序列聚类 的核心是相似性计算，同时它也是分类，异常发现和预测等许多数据挖掘问题 的基础。热点事件的时序特征表现为不同的波形变化，时间序列聚类就是根据 不同热点事件时序波形之间的相似度来区分不同的类别，分为若干个类或簇， 相同类别之间的波形变化是一致的，表现为相同的传播规律，不同的类别之间 相似性差异较大，表现为服从不同的传播规律，即为不同类型的热点事件。
对热点事件的时序集合进行聚类分析，可以发现社交网络中热点事件的传 播过程可能具有的类别。不同事件的波形可能会有差异，但是时序趋势一致的 事件会分到一个类别，服从相同的传播规律，属于同一个热点事件类别，聚类 的结果会得到每一个热点事件类别的聚类中心。聚类过程仅将时序的形状和趋 势作为聚类的特征项，而不考虑具体时间点转发量的大小，因为两个形状一致 但是幅值不同的时序可以通过缩放得到，反映的是相同的传播规律。
聚类方法具有以卜两个核心部分：
相似度计算，用「计算两个时间序列的相似度，通过计算初始聚类中心与 每个时序样本的相似度，将时序样本划分到与其相似度最大的类别。
聚类中心的史新，采用虚拟中心点。在-个迭代过程结束后，每个时序样 本都划分到与其最相似的类别，然后更新每个类别的聚类中心。
3.1数据集介绍
本文使用的数据集来自新浪微博，数据采集过程使用爬虫或开放API,首 先将一段时间内的所有原始数据采集到数据库，然后提取出每条数据的转发或 者评论的时间信息，得到每个事件的原始时间序列。本文采集了 2012年到2014 年三年之间的2.5亿条微博，以及从新浪微博数据中心的月度报告中选取的300 个热点事件，每个热点事件对应一个原始的微博，而热点事件的转发列表从采 集到的微博数据集中提取出来。采集结束后，利用过滤方法将广告等噪声和普
通事件的时序过滤掉，得到热点事件的时序集合。通过对热点事件时间序列的 大量观察，转发率在距发表时间30小时以后基本趋于0,故所有的时间序列都 截取了从事件发生以后30小时的长度。
表3-1 2014年四个典型热点事件
符号	描述
#1	马航失联
#2	昆明火车站暴力恐怖事件
#3	文章对出轨事件的致歉信
#4	中国首个烈士纪念日
为简便本文用符号“#”加数字来代表具体的热点事件，如“#1”代表“马 航失联”，表3- 1给出了几个具体的热点事件。其中，每个热点事件都具有对 应的转发列表，需要将转发列表转化为时间序列数据。转化过程中，首先取定 长的时间间隔，设某个时间段为*,%】)，则转发时间点满足隹［板烦J的微博 数量即为七时间点的转发量。图3- 1 “昆明火车站暴力恐怖案件”转发量的 累积分布函数(CDF)图，从图中可以看出，CDF的形状在30小时之后就不 在变化，代表热点事件#2在30小时内已经完成了传播过程，微博网络中的节 点已经全部遍历到。为了减少时间序列数据的维度，便于计算，并把分析的重 点放在波形变化比较大的时间段，本文只取了前30个小时内的时间序列数据。 同时，通过仿真，发现时间间隔太小，会导致波形不平滑，具有严重的抖动特 性；而时间间隔太大，会丢失部分波形的形状。本文通过不断仿真，取两者的 折衷，选取10分钟为时间序列数据的时间间隔，这样能够得到更为平滑的波形, 而且不会丢失部分波形的形状。

从这些热点事件的时间序列数据中，首先可以发现两个比较明显的统计规 律：
传播过程分为两个阶段在这300个热点事件的时间序列数据中，所有的 模式都具有两个峰值，而且大部分第一峰值大于第二峰值，不同之处在于到达 峰值的时间点。图3-2为2013年到2014年之间最热门的四个热点事件，可以 看出，新浪微博热点事件的传播模式与Twitter的六个典型传播模式完全不同, 实际上，两个峰值代表热点事件的传播过程分为两个阶段。热点事件的传播过 程具有类似的传播规律，不同类型的热点事件第一峰值和第二峰值的时间点不 同，而且第一峰值和第二峰值的比例也不一样。
两个峰值的成因本文通过分析每个峰值中转发者的粉丝数来研究两个峰 值的成因。在微博网络中，意见领袖对公众的观点具有很重要的影响力，而通 常意见领袖的影响力可以用他们的粉丝数来衡量。实际上,他们的粉丝数越多， 在同一时间点整个微博网络中能够获取消息的节点数越多，从而能够影响到更 多地普通受众。因此，要分析热点事件时间序列中两个峰值的成因，只需要关 注两个波峰中意见领袖所占的比例。社交网络具有复杂网络幕律分布的一般特 性，即网络中度大的节点只占很小的比例，绝大多数的节点具有很小的度，对 于意见领袖来说，他们的数量很小，然而意见领袖数量的微小变化都有可能对 热点事件的传播过程产生重要的影响。

图3-2表3- 1中四个热点事件的时间序列

根据新浪微博的官方描述，意见领袖通常指粉丝数超过五百万的用户（大 微）。为分析意见领袖和普通节点影响力的不同，本文首先将用户的粉丝数取以 10为底的对数，分为四个等级，即4到7 （粉丝数为四百万到七百万），然后计 算两个波峰中各个等级的用户所占的比例。表3-2为四个热点事件的两个波峰 中用户粉丝分布情况，其中R >“（〃 = 4,5,6,7）代表第一波峰中粉丝数超过10”的 转发用户比例，鸟 > 旳=4,5,6,7）代表第二波峰中粉丝数超过10〃的转发用户比 例。《和马分别代表第一波峰和第二波峰中的转发用户分别所占总转发量的比例，代表粉丝数最多的用户转发的时间点，弓,为峰值点。从表中可以看出， 在大多数情况下，第一波峰的意见领袖占比明显大于第二波峰的意见领袖占比, 而对于粉丝数超过七百万的绝对权威用户，在第一波峰中仍然存在一部分比例, 而在第二波峰中几乎不存在。这种情况说明热点事件传播的第一阶段完全由意 见领袖主导，而第二阶段则是由普通节点主导。
表3-2图3-2中四个热点事件的转发用户粉丝分布情况
>4	F2>4	*>5	E>5	F} >6	F^>6	4 >7	E>7	*	p2
#1	22.9%	19.9%	4.02%	3.74%	0.71%	0.19%	0.36%	0	63.9%	28,9%	8	8
#2	6.27%	3.58%	1.47%	0,82%	0.35%	0.23%	0.07%	0	62.1%	34.3%	5	5
#3	17.0%	16.5%	2.01%	2.10%	0.16%	0.14%	0.04%	0	41.7%	52.7%	2	3
#4	10.1%	8.57%	1.56%	2.02%	0%	0,48%	0%	0	10.2%	82.8%	57	58
对于比较特殊的热点事件#4,第二波峰的峰值大于第一波峰，而且意见领 袖也大多分布在第二波峰，代表着完全相反的情况。在数据集中这种热点事件 所占的比例较小，说明有一小部分热点事件的信息源首先由普通节点引发，而 意见领袖起到放大的作用，在第二阶段传播到整个网络。
这种现象与经典的两级传播论相吻合，即大多数普通受众的观点受到意见 领袖的影响，而普通受众反过来也会影响意见领袖。少数情况下信息源来自普 通受众，信息只在小规模的局部网络内传播，然后意见领袖经过一定时间的延 迟再将信息扩散到整个社交网络。除此之外，%的相关性证明峰值点取决于 大微用户的转发时间点，可以看出意见领袖在传播过程中起到了至关重要的作 用。从表3- 2的最后一行可以看出，像#1和#2这种社会事件的第-波峰转发 总数大于第二波峰，而像#3和#4这种娱乐事件第二波峰的转发总数大于第一波 峰，这表明人们通常对涉及到自身的社会安全事件更为敏感，而对娱乐事件会 有一定的延迟。
通过上述初步的统计方法，可以看出社交网络中的热点事件具有一定的共 性，也即热点事件具有相似的传播规律。进一步的分析可以发现，虽然它们总 体的传播过程存在一定的共性，然而不同的热点事件在时间序列上仍然有自己 的特点，故热点事件可以划分为一定的类别。本节的分析过程为后续的聚类分 析和建模分析提供了方向，事实上，聚类分析就是通过聚类算法来发现热点事 件具体的类别，建模过程则从模型的角度发现热点事件所具有的共性规律，并 反过来验证、修正本节所发现的统计规律。
3.2 K-SC聚类算法
本文釆用K-SC聚类算法对数据集中热点事件的时间序列进行聚类，K-SC 算法属于基于原始数据的时间序列聚类算法，它把时序的波形特征或者趋势特 征作为聚类的依据，而不考虑时序的具体幅值大小，如果两个时间序列具有相 似的形状，然后总体的幅值不同，它们也会聚到一类。这些波形特征正是热点 事件传播状态的直接反映，因而K-SC聚类后所得到的类别，就是热点事件所 具有的类别。
K-SC算法和传统的K-means算法类似，包括类别划分和聚类中心的调整 两个步骤。在第一步，通过计算两个时间序列的相似度，把每一个时序样本划 分到与其相似度最高的类别；在第二步，根据划分到每个类别的时序样本更新 每个类别的聚类中心。通过两个步骤的不断迭代，最终得到收敛的K个聚类中 心。
聚类算法的核心是相似度计算和聚类中心的更新策略，K-SC算法不同于 经典的K-means,它特别适合于时间序列的聚类，其相似度计算过程只考虑时 间序列的趋势特征，不考虑时间点的具体值。对于两个时间序列x和_y,如果 他们的形状-致，但是它们的峰值大小差别很大，那么这两个时间序列反映的 是相同的传播规律，只是因为样本量的不足导致总体转发量的差异。K-SC算 法通过缩放或调整峰值点的操作，是x和N的峰值一致以后再更新中心点，这 样新的聚类中心会和X、*的形状一致，从而得到更好的聚类效果。
从图3-2可以看出，#2事件（昆明火车站暴力恐怖事件）和#3事件（文 章出轨）具有类似的波峰变化，然而其峰值点的转发量确差很多，另外，四个 热点爭件到达峰值的时间点也不尽相同。而这些因素，在计算相似度的时候都 应该考虑。2.3.3节介绍了几种主要的相似性计算方法，然而对于时间序列数据 与其他数据有很大的不同，因而像欧式距离或DTW方法并不适用，主要体现 在两个方俑:首先，如果两个时间序列具有相同的形状，然而其值的总量不同， 它们应该被认为是相似的；其次，不同时间序列到达峰值的时间点不同，即两 个时间序列通过平移之后的现状类似，它们也应该被认为是相似的。因此，时 间序列数据通过坐标轴缩放之后并不影响两个时间序列的相似度。
K-SC算法的相似性计算方法如下:
其中，d(mm)为时间序列x和v的相似度，d值越小代表两个时间序列越 相似。a是缩放系数，使x和夕的峰值达到一致，4是时间偏移系数，因为时 间序列初始点的原因，两个序列可能会在不同的时间点达到峰值，通过g个时 间单元的偏移，使得两个时间序列x和*在相同的时间点到达峰值。由此可以 看出，K-SC算法无论是峰值大小还是峰值点都做了归一化，屏蔽了可能由于 各种非趋势项的原因导致的时间序列的差异，从而将在时序上传播规律一致的 热点事件聚到一个类别。
K-SC算法的聚类中心更新策略并不是简单的对每个样本取平均，而是每 个样本与新的聚类中心点的相似性达到最大，即对属于类别G的所有样本x,, 与中心点旧相似性差异d(x,,Q的和为最小：
X = arg min ￡ d(x,,凡尸	(3-3)
其中，/为新的聚类中心，由此可以看出，夕；为虚拟中心。
聚类算法需要预先指定类别数目K和初始的中心点，K值需要通过不断地 试验，根据最优的聚类结果来确定。本文通过计算每次迭代过程的轮廓系数， 来评价聚类的效果。然而，实际应用场景中数据量庞大，直接运用K-SC算法 并不合适，每次的迭代成本很高，仅仅是确定最优的K值就需要很长实际，下 —节中介绍了一种基于MapReduce的并行聚类算法。
3.3并行K-SC聚类算法
由于热点事件的数据量较大，而且每一个事件的时间维度也较高，如何高 效地对时间序列聚类也是研究的重点。低复杂度的算法往往意味着要牺牲一定 的准确度，而且数据量极大的情况下低复杂度并不能解决根本的问题。采用并 行计算技术实现算法并行化，是一种很好地解决方案。Hadoop平台是目前最流 行、最具代表性的分布式处理框架，其中HDFS和MapReduce是它的两个核心 基础，是专门为海量数据应用场景设计的文件系统和并行计算框架。这种方式 可以在用户不了解并行处理机制的情况下完成分布式任务，大大提高了开发效 率和并行计算能力。
在数据量特别大的情况下，尤其是海量数据的场景，相似度计算需要接近 0(疽)的时间复杂度，而且聚类的过程需要不断地迭代，因而直接使用K-SC聚 类算法性能会很差。本文提出了一种适用于海量数据场景的基于MapReduce的 并行化聚类算法，主要步骤如下：
(1)设定聚类的个数，初始聚类中心，以及迭代停止阈值；
(2)Map过程计算每个热点事件时序与聚类中心的相似度，把相似度最大的聚类中心作为它的类别，每个样本与类别一一对应，输入为聚类中心与每 个热点事件样本的时序，输出为Key为聚类中心，Value为属于当前聚类中心 的时序样本，并将Key-Vaule输出交给Reduce过程；
（3）	Reduce过程的输入为Map过程的输出，两个过程中间会把具有相同 Key的Value合并，即将属于同一个聚类中心的时序样本合并到一块，然后再 输入给Reduce过程。Reduce过程利用聚类中心更新算法，得到每一个类别的 新的虚拟聚类中心，输出为新的聚类中心与每一个时序样本，并作为下一个迭 代Map过程的输入；
（4）	根据相似度计算方法计算每一个样本与其类别中心的相似性，并求和 作为算法整体的相似性，如果它小于停止阈值，则代表算法收敛，停止迭代， 将聚类中心作为聚类模块的最终聚类结果，如果大于停止阈值，重复（2）.（3） 过程；
对于Hadoop上的K-SC聚类，首先使用Map操作并行地将原始时间序列 数据转换成可聚类的格式，并给不同的服务器分配互不重复的时间序列数据（这 个操作步骤是用…个Map操作并行执行的）。然后，对这些时间序列数据开始 进行按样本划分以及类别划分、聚类中心更新的迭代操作。主服务器根据指定 的k值随机选取k个时间序列作为初始聚类中心，然后将聚类中心和样本分配 到各个服务器，每个服务器的聚类中心相同，样本平均分配。
在Map阶段，每个服务器首先分别读取本地的时间序列，完成时间序列到 编号key的映射，并计算每个时间序列到各个初始聚类中心的距离（通过计算 相似度），将其划分到最近的初始聚类中心（该步操作是并行进行的），再将本 次聚类结果在Reduce过程中返回。每个服务器在Map阶段读岀位于本地的数 据集，并行计算每个时间序列对应的聚类中心，大大缩短了聚类的时间。输入 为聚类中心与每个热点事件样本的时序，输出为Key （Map映射的编号）为聚 类中心，Value为属于当前聚类中心的时序样本，并将Key-Vaule输出交给 Reduce 过程。
Reduce阶段过程得到所有Map过程类别划分的结果，对各个服务器返回 的聚类结果进行合并以后，在每个聚类中计算与当前类别所有样本距离最小的 点（通过计算相似度），作为新的聚类中心（虚拟中心）。输入为Map过程的输 出，两个阶段之间会把具有相同Key的Value合并，输出为新的聚类中心与每 个时序样本，并作为下一个迭代过程Map阶段的输入，结束迭代。
重复执行上述Map-Reduce操作，直到聚类中心不再变化或者样本与聚类 中心的相似性差异降低到设定的阈值以下，就结束迭代操作，输岀为每个时间 序列的聚类信息。这样，就将原本逐个计算相似度的串行计算过程，分配给不同的服务器并行执行，提高了计算效率。
3.4聚类结果分析
聚类算法最后得到的类别K需要人工指定，通过仿真，本文得到了最优的 K值3。仿真过程不断地调整聚类的个数，发现当K值大于3的时候，聚类的 结果基本稳定，不再有新的类别，而且聚类的轮廓系数（轮廓系数值越大代表 聚类效果最好，然而K较小的时候轮廓系数比较大，故一般取轮廓系数曲线的 拐点）值在K等于3的时候到达拐点。图3- 3为微博热点事件时间序列的K-SC 聚类结果，其中转发量进行了归一化，纵轴的值为转发比例，q，G，G为三个 聚类中心，括号中为属于当前聚类中心的热点事件所占的比例。
聚类分析得到的3个聚类中心代表了热点事件的类别，反映了不同的事件 的不同传播规律，这个过程是初步的统计规律发现过程，是分析模块的预处理 阶段，对建模分析过程有着至关重要的作用。

图3-3热点事件时间序列的K-SC聚类结果
从图3-3中可以看出，所有的热点事件，在宏观上都具有两个阶段，这与 两级传播论一致，第一阶段热点事件首先传播到意见领袖，其粉丝数庞大，消 息也就从意见领袖覆盖到社交网络中与之相连的普通节点，意见领袖敏感，而 且其粉丝活跃，因而第一阶段的峰值上升过程和下降过程都较快，变化剧烈； 第二阶段则是普通节点之间相互传播的过程，普通节点的大量积累导致第二峰 值的形成，因为普通节点反应缓慢，在第一阶段处于“休眠”状态，而在第二 阶段不同节点“苏醒”的时间不同，导致整个第二阶段时间跨度较大，因而第二峰值上升过程和下降过程都较慢，变化平缓，拖尾较长，最终转发量趋于不 变，传播过程结束。两个阶段的峰值比例以及上升、下降过程的平缓与剧烈程 度反应了不同热点事件的具体差异。
图3-3中G到G代表三个不同的类别，可以看到，G类别的热点事件所 占比例最大，约占到所有热点事件的53.2%,是最典型的热点事件时序。另一 方面，G的形状也是三个类别的折衷，进一步证明G反应了最典型的传播规律。 在传播的第一阶段，它有一个短暂迅速的上升过程，到达峰值以后开始幕率下 降。这表明意见领袖的敏感度较强，能迅速感知到热点事件的源头，而且他们 的影响力较大，能迅速使其粉丝接受他所传播的消息，将传播范围扩大到整个 社交网络。第二阶段的时间跨度较大，意味着热点事件传播到普通大众需要很 长的一段时间。这与实际场景一致，因为大多数情况下，消息首先传播到…小 部分敏感的节点，然后通过意见领袖的重要影响力传播到广大普通受众。普通 受众接受消息会有一些延迟，因为他们大多数并不每时每刻关注网络中的热点 事件，在传播的初始过程处于“休眠”状态，通过-段时间的积累，普通节点 开始陆续“苏醒”，因为不同的人“苏醒”时间不一致，所以第二阶段的时间跨 度远大于第一阶段，上升和下降过程也较为平缓。大部分人的“苏醒”相差不 大，因而第二阶段普通节点的积累也会造成时序上的峰值。第二阶段的拖尾较 长，最终趋于不变，传播过程结束。
G与G在第一阶段和第二阶段的时序都有明显不同。首先，在第一阶段它 并没有上升的过程，这是因为消息源头是意见领袖，一旦消息发布，直接会引 起其众多粉丝的大量关注。尤其当消息涉及到名人的绯闻八卦的时候，普通受 众会比平常反应地更加敏感，所以第一阶段并没有上升过程，而是直接到达峰 值然后开始缓慢下降。相比G，第二阶段持续的时间较短，而且上升和下降过 程更快，同样反应了普通受众迅速的关注，这种热点事件具有高挥发性的特点。 #3为这种事件的代表，事件的源头为文章因出轨被曝光而在微博中发表的对社 会的致歉信，从图3- 2中可以看出，#3的时间序列在第一个波峰中并没有上 升的过程，而是在第一时间点直接到达峰值。
G类别较为特殊，与G、G的时序完全不一致。G与G都是第一峰值远 大于第二峰值，而C3正好相反，第二峰值远大于第一峰值。这种类别的比例仅 占到了 18.3%，代表着少数较为特殊的类别。这种热点事件类型的传播过程以 第二阶段为主，消息的源头往往是普通的普通节点，初始阶段仅仅在消息源头 的局部网络内传播，并不为意见领袖所察觉，因而第一阶段的传播量比较少。 一段时间以后，消息传播到意见领袖，随后爆炸式地传播到整个社交网络，从 而将普通事件升级为热点事件。这种事件的源头是普通节点，往往会涉及到谣言，意见领袖虽然不是主体，但是在传播过程中起到了关键的作用。
如2013年微博中转发量最大的热点事件“王力宏与李云迪同时大婚”，事 件的源头并不是王力宏与李云迪在同一天公布自己的另一半，而是源自一个普 通微博账号的恶搞，原文为“王力宏女友姓李，李云迪的女友却姓田。你以为 他不爱他吗？你错了，爱得深沉才这样，因为田字横竖都是王。”再如2015年 “赵本山被抓事件”，这两个典型的热点事件都源自于普通用户的谣言，并通过 意见领袖的扩散而成为热点事件。因而在舆论控制的过程中，应该特别关注这 一类热点事件。
上述的聚类分析与统计分析结果表明，社交网络中热点事件的传播过程在 时间序列上具有两个传播阶段的规律，在两个阶段中，意见领袖和普通大众分 别起到了不同的作用，事实上，热点事件根据意见领袖和普通大众的作用可以 分为两大类，第一类是意见领袖主导的，第二类是普通大众主导的，前者占多 数，而且又可以细分为直接源于意见领袖（信息源为意见领袖）和非直接源于 意见领袖的，这几种热点事件分别对应于上述的G，G，G，由此可以得出，社 交网络中热点事件的类型与社交网络的节点特性是紧密相连的，要分析其传播 规律，必须结合社交网络自身的特性以及时间序列特性。聚类过程将众多热点 事件划分为有限的几个典型类别，为后续的建模提供了基础，建模过程只需要 拟合这些典型类别，就可以描述社交网络中热点事件的传播规律。
3.5本章小结
本章主要针对热点事件的时间序列数据进行统计分析和聚类分析，首先采 集了新浪微博的热点事件数据，发现其时间序列具有两个峰值的特点，得到社 交网络中热点事件的传播具有两个阶段的初步假设。通过分析两个波峰中具有 不同粉丝数量的用户所占的比例，发现意见领袖和普通大众在热点事件传播过 程的两个阶段中起到了不同的作用，即意见领袖在传播过程中扮演了扩散的角 色，普通大众在传播过程中扮演了听众的角色。热点事件类别的不同，表现在 时间序列上波形的变化。
然后根据以上规律，针对热点事件的时间序列特征进行聚类。聚类结果表 明，新浪微博中的热点事件可以分为典型的三个类别，而每个类别都具有两个 传播阶段的特点，反过来验证了统计分析中得到的规律。通过进一步大量地分 析属于每一个类别的热点事件，发现根据信息源的流向可以分为从意见领袖流 向普通大众和从普通大众流向意见领袖两大类，即意见领袖主导的和普通大众 主导的，前者又可以进-步划分为消息源直接源于意见领袖和非直接源于意见 领袖两种。这些不同的传播行为直接体现在时间序列的波形变化上，因此要描述热点事件的传播规律就必须在建模的过程中将意见领袖和普通大众的不同传 播行为作为参数。
上述本章所得到的结论是进一步进行理论分析的基础，首先本章所得到的 规律为模型的建立指明了方向，即需要考虑两个传播阶段的特性，需要考虑网 络中意见领袖和普通大众不同的行为特性，能正确地刻画这些特征就能准确地 描述热点事件的传播规律。同时，聚类的结果为热点事件的判断和划分提供了 依据，为热点事件的检测提供了新的思路。

第四章热点事件时间序列建模分析
本章主要针对上一章得到的热点事件所具有的一般特性进行建模分析，从 社交网络的结构特性和热点事件的时间特性两个方面来描述其传播规律。首先 引入了 SpikeM模型，分析其针对热点事件的特点所具有的缺陷，并结合已有 的结论进行修正，得到更适用于描述社交网络热点事件传播规律的模型。
4.1热点事件建模分析概述
目前，大多数对热点事件传播的分析集中在微观层次，即从网络的具体结 构出发，对节点与节点之间的传播行为建模［29］。首先随机选择网络中的传播 种子，然后根据优先遍历算法或者贪心算法模拟传播过程，不断遍历，最后得 到信息在整个网络中可能传播到的范围。其中最著名、最具代表性的是信息级 联和独立阈值模型［30］［31］,前者认为节点到节点的传播具有一定的概率，而后 者认为一个节点是否传播消息取决于相邻节点的传播行为，当相邻节点的传播 量到达一定阈值，当前节点就会传播。这两种模型虽然在一定程度上模拟了热 点事件的传播过程，但是它们的缺陷也很明显，首先它们都假设节点是同构的， 即无论是传播的概率，还是传播的阈值，网纟各中的每一个节点都是相同的，这 与实际情况有出入，因为意见领袖和普通受众的传播行为是不同的；另-方面， 分析过程需要遍历整个社交网络，然而社交网络不仅规模庞大，大数据背景F 空间复杂度和时间复杂度都太高，而且社交网络是随时间动态变化的，这两种 模型都会产生误差。
对热点事件的时间序列特征建模分析可以避免这些缺陷。时序特征分析从 宏观角度岀发，将焦点定位于事件随时间的发展趋势，而较少考虑社交网络的 内容和结构。时序分析方法假设，虽然网络中每个个体的特征和属性不同，但 是所有个体的集体行为会抵消不同个体之间的差异，从而造成整体的趋势，表 现在时间序列的波形变化。
对热点话题的时序传播模式进行建模分析和预测是一个非常重要但是困难 的问题。两级传播论是对信息传播的经典定性解释，它认为信息从大众媒体传 播到受众，经过了两个阶段，首先从消息源头传播到舆论领袖，然后从舆论领 袖传到社会公众。两级传播论认为人际传播比大众传播在态度改变上更有效， 它描述的是现实生活中口碑传播的过程，社交网络是现实中人际关系的虚拟映 射，消息的传播过程类似现实中的口碑传播［32］-因而社交网络上热点事件的 传播过程也符合两级传播理论［33］：意见领袖的敏感度高，故第一阶段热点事件首先传播到意见领袖，消息也就从意见领袖覆盖到社交网络中与之相连的普 通节点；第二阶段则是普通受众之间相互传播的过程，扩散式的传播到整个社 交网络。
社交网络的热点事件遵循两级传播论，传播过程分为两个阶段，聚类分析 过程得到的几个类别中心相应的也具有两个峰值。不同类别的差异在于两个峰 值的比例，到达峰值的时间，以及峰值上升和下降的过程。由于社交网络具有 幕率分布的度分布，时序在上升过程会呈指数增长趋势，而在下降过程较为平 缓，服从幕率分布的趋势。
时间序列建模分析过程有两种方式，第一种只利用热点事件的时序特征， 完全不考虑信息在社交网络中的传播特性。ARMA模型是这种方法的代表，它 利用历史时序来推断出当前时间点的转发量，是典型的时间序列分析方法。时 间序列分析方法融合了随机过程理论和数理统计学的理论体系，用于研究随机 数据序列所服从的统计特征，专门用来解决实际问题。它的构成要素主要有趋 势因素，季节因素，周期因素和噪声因素。
本文根据2.2节的理论首先对热点事件的时间序列建立了 ARMA模型，发 现其无法正确描述热点事件的特性，而且结果解释性差。首先，ARMA是线性 模型，而热点事件的时间序列是非线性的，并且是非平稳的；其次，ARMA仅 仅考虑了时间特性，而未考虑社交网络的结构特性，导致模型拟合的结果在下 降过程中并不具有幕律特性；此外，ARMA的解释性差，模型中没有表不两个 传播阶段的参数，它并不能作为一个热点事件的通用模型，其自回归和滑动平 均阶数针对每一种热点事件都需要作调整；最后，ARMA的预测过程属于在线 预测，即只能根据已有的时冋点样本预测未来的N个时间点的数据，而不能根 据热点事件的类别预测整个传播过程。
热点事件的时序并非一个完全的随机过程，它有一定的传播特性，比如社 交网络的度分布服从幕率分布，热点事件的时间序列也有一部分服从幕率分布， 第二种建模方法则加入了这些社交网络的结构特性,典型的模型为SpikeM[34]。 时序波形在峰值的上升过程服从指数分布，即爆炸式增长，而在下降过程服从 幕率分布。这种时序分析方法结合社交网络的特性，可以对热点事件准确的建 模，是事件传播预测的基础。
4.2 SpikeM
SpikeM基于流行病传播模型中的最经典的SI ( Susceptible-Infected) [35] 模型。在SI模型中，每个节点都有两种状态，易感染状态(Susceptible, S) 和感染状态(Infected, I)。每个处于感染状态的节点都会以0概率感染相邻的节点，0代表当前节点的感染能力。当节点一旦被感染，它就永远处于感染状 态，假设网络中公有N个节点，B为处于感染状态的节点个数，那么可以得到 以下SI模型：
竺项 (4-1) at
其中时间，是连续的，初始条件反应了初始状态下感染状态的节点个数。P 是节点的感染能力，即处于非感染状态的人遇到感染状态的人时被感染的概率。 求得的结果B()为sigmod函数，它的微分在峰值点附近是对称的，具有指数上 升和指数下降的趋势。
自激霍克过程可以用来模拟YouTube中的每日浏览量，正面浏览量的时间 序列具有帛律上升和蓦律下降的过程，具体取决于模型的参数。然而，自激霍 克过程的激发状态并不是一成不变的，它取决于历史事件的总数，即如果最近 有很多浏览的行为，那么当前就会有许多类似的事件。



图4-1 SpikeM模型拟合效果图
SpikeM模型一方面从时间的角度假设网络中节点的传播概率随时间是一 个蓦律下降的过程：
(4-2)
其中r代表时间，这与本文中的统计分析过程和聚类分析过程得到的结果 一致，在图3-3中可以看出，所有的传播模式在下降过程都服从幕律分布。另 一方面，它假设社交网络中的总节点个数是有限的，从而使模型不会收敛到无 穷大。SpikeM模型的定义如下：
A5(? +1) = U(心 Z (AB(/) +	+1T) + ￡	(4-3)
其中，MQ)为t时间点的转发量，U(n)为网络中未传播到的节点总数，SQ)为在初始时间点勺的消息源节点个数。
尽管SpikeM模型很好地拟合了传播模式的指数上升阶段和幕律卜降阶段， 然而它只适用于新浪微博热点事件传播模式的第一波峰，因为SpikeM模型假 设热点事件的传播过程只有一个阶段。根据SpikeM模型，传播模式在第一波 峰之后社交网络中未被传播到的节点持续下降，忽略了网络中普通节点的作用， 因为普通节点在传播过程中的反应时间要比意见领袖长，当大量的普通节点开 始传播的时候，就会形成第二个波峰。图4- 1为SpikeM模型对#1事件的拟合 结果，从图中可以看出，SpikeM模型能很好地拟合第一个上升和下降的过程， 然而在第二阶段拟合结果持续下降，对第二个上升和下降的过程拟合效果很差。
本文利用均方误差(RMSE)来平均拟合结果的准确度：
RMSE = ^{XmM-Xr^	(4-5)
而图4- 1中SpikeM模型对#1事件的拟合结果RMSE为189,准确度较低。
4.3 SpikeM-G
上节中阐述了 SpikeM模型具有只能拟合微博热点事件传播模式中第一波 峰的缺陷，本文基于SpikeM,提出了更适用于微博热点事件传播模式的模型 SpikeM-G (增加了高斯分布，G为Gaussian函数的缩写)。SpikeM-G结合聚类 过程分析结果，基于以下两个假设：
微博热点事件的传播过程分为两个阶段。第一个阶段的变化比较剧烈，具 有短暂快速的传播过程，因而导致更为尖锐的波峰。经过，段时间之后，网络 中处于“体眠”状态的普通节点开始接触到消息源，并开始传播，进入到第二 阶段。普通节点的不断积累形成传播模式的第二波峰，由于普通节点的传播时 间各不相同，变化比较大，具有很长的时间跨度，导致第二阶段的变化较为平 缓，使得第二波峰较为平滑。
从宏观上来说，微博热点事件的传播模式具有两种类型。第-种情况比较 普遍，信息的流向为从意见领袖到普通大众，其中意见领袖起到了至关重要的 作用，普通大众只起到了听众并扩散的作用。第二种情况正好相反，热点事件 的消息源来自普通大众，在第一阶段只是小范围内的传播，很有可能并不能成 为热点事件，而在第二阶段在意见领袖的引导下不断地扩散从而成为热点事件。 这两种类型分别为意见领袖主导的和普通大众主导的。
SpikeM模型利用初始节点数S(/)来作为第一阶段的冲击项，对尸微博中热 点事件两个阶段的特性，需要第二个冲击项，本文利用高斯函数来拟合第一阶段的波形，SpikeM-G的定义如下：
(” + 1) = U(n) ? ￡ (AB(/) + S(f) + G。)) ? /(〃 +1T) + ￡	(4-6)
△U(" + 1) = U(〃)一A8(〃 + 1)
G(Z)为高斯函数，它拟合了第二阶段波形的幅值和持续时间，同时也具有 蓦律下降的特点，因为后面乘上了幕律函数/(r),其定义如下：
G(f) = a?eFf)
其中，。为峰值的幅值，W为第二阶段的时间跨度，七为到达峰值的时间 点。G。与S。)完全不同，SQ)反应的是初始阶段由意见领袖及其庞大数量的 粉丝在短时间内爆炸式传播消息的过程，是完全由，决定的冲激过程，波形的 上升和下降过程都很迅速。G。)反映的是第二阶段大量的普通节点由“休眠” 状态转为“苏醒”状态的积累的过程，根据中心极限定理，当大量独立随机样 本的和服从正态分布，即大部分节点的苏醒时间基本相同，小部分节点的苏醒 时间较早或较晚，这一项用数学公式真实地描述了现实中普通大众接受热点事 件的消息的过程。另一方面，G⑺在括号外面乘以了长尾项/(r),保证了在下 降过程仍然服从幕率分布。
C1	C3
Time
RMSE=0.0133
图4- 2 SpikeM-G模型拟合效果图
模型的训练过程把3.4节的三个聚类中心作为样本，通过训练使上述两级
传播模型SpikeM-G的参数最优，最终每个聚类中心都会得到对应的参数。这 个过程使初步的定性结论定量化，用具体模型的参数刻画不同类别的热点事件， 定量地描述传播规律。训练过程使用的是最小二乘法，通过最小化误差 O(x,9) = ￡：'；(x(〃)-A5(〃))2来得到最优的参数，其中。是未知的参数，x(”)为 原始的时间序列。
图4-2为SpikeM-G模型对三个典型热点事件传播模式的拟合结果，图的 下方为每个拟合过程的RMSEo从图中可以看岀，SpikeM-G模型与上述的两个 假设一致，首先，它弥补了 SpikeM模型的不足，正确地拟合了传播过程两个 阶段的特性，另一方面，无论信息的流向是从意见领袖到普通大众，还是从普 通大众到意见领袖，它都能正确地拟合时序特性。
4.4本章小结
本章主要根据热点事件已有的传播规律建立描述性模型，分析其数学规律。 首先介绍了两种时间序列模型，ARMA模型和SpikeM模型，并分析其所具有 的缺陷oARMA模型仅考虑了时间特性，而且热点事件的时间序列不仅非平稳， 而且不适用于线性模型，另一方面ARMA无法解释传播过程的两个阶段，不能 描述意见领袖和普通大众所起到的不同作用oSpikeM模型虽然结合了时间特性 与社交网络特性，其时间序列的下降过程具有幕律分布的特点，然而其传播过 程仅有第一阶段,而且并未考虑到意见领袖和普通大众所造成的不同传播行为， 对类别中心的拟合效果表现较差。
然后根据SpikeM模型的缺陷，结合第三章分析得到的结论，建立了适用 于热点事件的通用模型SpikeM-G。模型中加入了代表第一阶段传播过程的参数, 仿真结果表明SpikeM-G对所有的类别中心都具有很好的拟合效果。从拟合结 果中可以看出，传播过程的第一阶段持续时间较短，变化较快，具有高挥发性 的特点，而第二阶段持续的时间较长，变化平缓，说明第一阶段只是社交网络 中代表意见领袖的关键节点的传播，而第二阶段通过普通大众的积累才会覆盖 的整个网络。另外，模型中两个阶段所具有的不同峰值点表明，意见领袖往往 能较快检测到信息源，而普通大众在接受信息的过程中有-定的延时，这代表 意见领袖对热点事件的形成具有关键的作用，因而在舆论控制的过程中要首先 抑制意见领袖的传播。
第五章总结与展望
本文主要分析微博网络中热点事件的传播规律，通过对热点事件时间序列 的聚类与分析，发现热点事件传播的时序特征，结合社交网络的特性与经典的 两级传播论，提出一种微博热点事件的两级传播模型，把热点事件的传播分为 关键节点的扩散和基本节点的积累两个阶段，为热点事件的分类和热点事件的 预测提供了基础。
本文提出的两级传播模型SpikeM-G,根据热点时间的时序特性和社交网纟各 结构特性，构建时序传播模型。模型的构建过程，结合了 SpikeM模型的优点， 同时弥补了当前模型不能很好描述热点事件传播规律的缺陷，模型中不仅具有 幕率下降的部分，还能很好地描述传播过程的两个阶段。
本文中所得到的聚类的结果为热点事件的判断和划分提供了依据，为热点 事件的检测提供了新的思路。下一步可以根据聚类过程得到的聚类中心来进行 热点事件检测和分类，首先将聚类结果的典型传播模式作为特征库，然后计算 待分类的热点事件与每个聚类中心的距离，得到热点事件的类别，接下来就可 以根据SpikeM-G模型拟合得到的参数来定量地描述热点事件。而如果热点事 件不能划分到任何一个聚类中心，则其就不属于热点事件，这样既能从海量数 据中检测出热点事件，又能判断其所属的类别。在实际中，由于样本不足，导 致第一次聚类的中心可能不是最优的，可以通过新检测到的热点事件样本来更 新传播模式特征库。
另-方面，由于传统ARMA时间序列分析方法只能适用于平稳的时间序列 数据，而且得到的都是线性模型，因而也不适用与对微博热点事件时间庁列的 预测。而利用本文提出的SpikeM-G模型，只要确定热点事件的类别，就可以 根据模型预测到达峰值的时间点。
本文所得到的结论对复杂网络中舆论的控制具有重要的意义，指明了舆论 控制的方向，为能够及时地抑制负面的言论，并促进正能量信息的传播提供了 新的思路。本文指明了热点事件的传播过程分为两个阶段，并且第-阶段中意 见领袖的传播起到关键作用，因而对舆论控制的过程中可以只控制第-阶段， 针对关键节点进行抑制或促进，第二阶段普通大众接受信息的过程具有一定的 延时，控制关键节点所传播的消息便能控制整个网络所接受的消息，这对复杂 网络消息的传播方面具有重要的研究价值。


参考文献
[1]Milgram S. The small world problem [J]. Psychology Today, 1967, 32(2):185-195.
[2]黄延东，张晶.MySpace和Facebook网站兴衰变化及其启示[J].武汉冶 金管理干部学院学报,2014,03:92-94.
[3]高娴子.近年来我国社交网络发展研究[D].暨南大学.2011.
[4]李林容.社交网络的特性及其发展趋势卩].新闻界,2010,05:32-34+20
[5]武锋.网络“微内容”传播研究[D].上海交通大学2010.
[6]吕晶.网络热点话题的传播模型分析[D].北京邮电大学,2013.
[7]微博热点话题检测与趋势预测研究[D].华南理「大学,2013.
[8]Liu J, Niu K, He Z, et al. Analysis of Rumor Spreading in Communities Based on Modified SIR Model in Microblog[M], Artificial Intelligence: Methodology, Systems, and Applications. Springer International Publishing, 2014:69-79.
[9]孟繁荣.社交网络的谣言传播模型研究[D].南京邮电大学,2013.
[10]何大韧.复杂系统与复杂网络[M],高等教育出版社,2009.
[11 ] Kwak H, Lee C, Park H, et al. What is Twitter, a social network or a news media?[C], Proceedings of the 19th international conference on World wide web. ACM, 2010:591-600.
[12]E. Bakshy, J. M. Hofman, W. A. Mason, et. al., Identifying ‘Influencers' on Twitter, Fourth ACM International Conference on Web Seach and Data Mining, 2011.
[13]Suh B, Hong L, Pirolli P, et al. Want to be Retweeted? Large Scale Analytics on Factors Impacting Retweet in Twitter Network[C], Social Computing (SocialCom), 2010 IEEE Second International Conference on. IEEE, 2010.
[14]Yang J, Leskovec J. Patterns of temporal variation in online media.fC], Proceedings of the fourth ACM international conference on Web search and data mining. ACM, 2011:177-186..
[15]Yang J, Leskovec J. Modeling Information Diffusion in Implicit Networks[C], 2010 IEEE International Conference on Data Mining. IEEE Computer Society, 2010:599-608..
[16]Leskovec J, Backstrom L, Kleinberg J. Meme-tracking and the dynamics of the news cycle.[J]. Meme-tracking and the dynamics of the news cycle. 一 ResearchGate, 2009:497-506.
[17]Eisenstein J, O'Connor B, Smith N A, et al. Mapping the geographical diffusion of new wordsfJ]. Eprint Arxiv, 2012.
[18]Romero D M, Meeder B, Kleinberg J. Differences in the mechanics of information diffusion across topics: idioms, political hashtags, and complex contagion on twitter[C], Proceedings of the 20th international conference on World wide web. ACM, 2011:695-704..
[19]Brooks S, Gelman A, Jones G L, et al. Handbook of Markov Chain Monte Carlo [J]. Bayesian Analysis for the Social Sciences, 2011,25(1):53-55.
[20]Andrieu C, Freitas N, Doucet A, et al. An Introduction to[J]. Mcmc for Machine Learning Machine Learning, 2003, 128(2):626-626.
[21]Engle R F, Granger C W J, Co-integration and Error Correction: Representation, Estimation, and Testing. [J], Econometrica, 1987, 55(2):251-76.
[22]Harvey A C. Forecasting, Structural Time Series Models and the Kalman Filter卩].Wilmott, 2002, 2002.
[23]何书元.应用时间序列分析[M],北京大学出版社,2003..
[24]王燕.应用时间序列分析[M],中国人民大学出版社,2012.
[25]易丹辉.《时间序列分析:预测与控制》[J].数理统计与管理，2000,第 3 期:51-51..
[26]Fu T C. A review on time series data mining[J]. Engineering Applications of Artificial Intelligence, 2011, 24(1):164-181.
[27]Liao T W? Clustering of time series data-a survey [J], Pattern Recognition, 2005, 38(11):1857-1874.
[28]熊芳.基于聚类分析的基因表达差异筛选方法研究[D].中南大学, 2007.
[29]Lou T, Tang J. Mining structural hole spanners tlirough information diffusion in social networks[C], Proceedings of the 22nd international conference on World Wide Web, International World Wide Web Conferences Steering Committee, 2013:825-836.
[30]Nekovee M, Moreno Y, Bianconi G, et al. Theory of Rumour Spreading in Complex Social Networks[J]. Physica A Statistical Mechanics & Its Applications, 2008, 374(1):457X70.M, Maziar N, Pacheco A F. Dynamics of rumor spreading in complex networks[J]. Physical Review E, 2003, 69(6):279-307.
[32]Jansen B J, Zhang M, Sobel K, et al. Micro-blogging as online word of mouth branding[C], CHI *09 Extended Abstracts on Human Factors in Computing Systems. ACM, 2009:3859-3864..
[33]Katz E. The Two-Step Flow of Communication: An Up-To-Date Report on an Hypothesis!J]. Public Opinion Quarterly, 1957, 21(1):61-78.
[34]Matsubara Y, Sakurai Y, Prakash B A, et al. Rise and fall patterns of information diffusion: model and implications^], Proceedings of the 18th ACM SIGKDD international conference on Knowledge discovery and data mining. ACM, 2012:6-14.
[35]Newman M E J. The structure and function of complex networks[C], SIAM Rev. 2003:167-256.
[36]https://en.wikipedia.org/wiki/Six_degrees_of_separation


附录缩略语
缩略词	英文	中文
SpikeM		文献［34］提出的传播 模型
SpikeM-G	SpikeM-Gaussian	　本文提出的传播模型
SIR	Spreader Ignorant Stifler model	　易感-感染-免疫模型
SIS	Spreader Ignorant Spreader model	　易感-感染-易感模型
SNS	Social Network Service	　　社会化网络服务
ER	Erdos Renyi	　　厄多斯-瑞尼模型
BA	Barabasi Albert	巴拉巴西-艾伯特
MCMC	Markov Chain Monte Carlo	　马尔科夫链蒙特卡洛
AR	Auto Regressive	自回归模型
MA	Moving Average	滑动平均模型
ARMA	Auto Regressive Moving Average	　自回归滑动平均模型
DTW	Dynamic Time Warping	动态时间规整算法
FCM	Fuzzy c-means	模糊聚类算法
SOM	Self^Organizing Map	自组织映射神经网络 算法
K-SC	K-Spectral Centroid	时间序列聚类算法


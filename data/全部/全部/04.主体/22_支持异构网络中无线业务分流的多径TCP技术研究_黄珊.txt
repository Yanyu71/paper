第一章引言
随着移动互联网时代的到来，移动数据流量爆炸，用户对应用服务的质量要 求越来越高，蜂窝移动通信网络已无法满足用户对高质量服务的需求。为了解决 这一问题，结合WiFi对蜂窝移动通信网络进行业务分流能够提升服务质量，优 化用户体验。然而，由于网络架构、业务模式和商业模式的差异，WiFi为蜂窝 移动通信网络的分流会出现丢包、乱序，吞吐量抑制等问题，导致服务质量低下。 多路径传输技术支持多条传输路径同时进行数据的传输，提升网络利用率，并且 具有融合异构网络的特性，是解决上述问题的有效途径之一。多径TCP协议 (Multi-pathTCP, MPTCP)由于兼容主流的TCP协议，易于大范围部署。利用 MPTCP技术来提高分流性能，对于解决移动互联网时代的流量爆炸问题具有十 分重要的意义。
1.1选题背景及意义
国际市场研究机构IC Insights的《2015年IC市场驱动报告》中指出，智能 手机保有量将在2016年超过20亿部。这意味着，用户将花费越来越多的时间在 智能移动设备上而非传统电脑。2014年Google Play应用商店的应用已经达到143 万个，平均每个智能手机安装34个应用，每天平均使用20个应用。思科2014 的白皮书《Cisco Visual Networking Index: Global Mobile Data Traffic Forecast Update, 2013 - 2018》预测，2018年的全球月度移动数据流量将超过15艾字节; 超过三分之二的全球移动数据流量将是手机视频的视频业务，移动视频将增加 2013年和2018年之间的14倍，将占总移动数据流量的69%。蜂窝移动通信网 络远无法满足用户对高质量服务的需求。
为了解决业务流量和网络容量之间的矛盾，可行的解决方案之一是利用异构 无线网络下WiFi对蜂窝移动通信网络进行业务分流。这其中首先是涉及到异构 无线网络。异构无线网络包括：无线局域网(Wireless Local Area Network, WLAN),无线城域网(如 WiMAX, Worldwide Interoperability for Microwave Access),无线个域网(如Bluetooth),蜂窝移动通信网(如2G, 3G, 4G)等， 是采用了不同的无线接入技术的多种类型的无线网络的统称。在异构无线网络 中，通过网络融合技术，多种不同类型的网络实现共存，用户可以在最合适的时 间无缝的接入最优网络，提高网络利用率，提升吞吐量。但是，由于不同类型网 络的特性（时延，丢包率等）不同，加之不同的无线网络的接入技术、网络架构、 业务范围和商业模式，异构网络融合出现很多问题，数据分组在传输过程中会造 成网络阻塞，丢包、乱序，增加了传输过程中的时延和抖动，影响用户体验。随 着4G网络基础设施和智能终端设备的占有率不断提高，人们使用视频应用的频 率将会更高，与此同时带来流量爆炸。因此，不仅要求异构无线网络能为用户提 供高速的传输速率，还需要分流策略来保证满足用户对实时性和高带宽的需求。
利用无线局域网络为移动蜂窝通信网络进行业务分流仍然面临许多的挑战。 WiFi无线路由器只能覆盖较小的范围，并且不能覆盖在街道的各个领域。即使 处于WiFi的覆盖范围内，WiFi的连接质量可能并不好。因此，目前尚不清楚 Wi-Fi是否能效增强蜂窝网络，同时提供用户期望达到的普遍性和可靠性。由于 蜂窝网络和WLAN的网络结构和商业模式的差异造成的无线接入，无缝切换和 终端认证等问题将导致糟糕的用户体验。目前两者的融合无论在网络层还是终端 层都是弱耦合的。基于WiFi的分流技术，己经得到全球运营商的普遍认可，未 来互联网是异构网络相互融合的，不同类型的网络间的业务、流量、带宽等都要 进行融合，呈现出一个一体化的发展趋势。
另一方面，如今移动智能终端或服务器通常具有多个接口来访问互联网（例 如，智能电话配备有两个接口，分别是WiFi和蜂窝移动通信网络接口）。然而， 传统的传输控制协议（TCP）中，一个传输连接中只能使用单一的接口，不能有 效地利用这种多路径的基础设施。基于移动流量爆炸的大背景，传统的单路径传 输协议已经无法满足人们日益增长的移动流量需求，并无法避免大量丢包引起的 网络拥塞问题，网络利用率较低。国内外学术组织和学者专家都开始研究多路径 传输问题，典型的多路径传输控制协议有SCTP-CMTCStream control Transmission Protocol Concurrent Multipath Transfer）和 MPTCP （Multipath Transport Control Protocol）,支持多条路径同时进行数据传输，以解决TCP的网络利用率低，服 务质量无法保证等问题，提升网络有效吞吐量。
MPTCP（多路径传输控制协议）［1,2］由IETF于2011年标准化，MPTCP在 TCP协议的基础上进行扩展，允许两个终端主机之间使用多个路径同时进行数据 的传输，由于其全面兼容TCP,把传输层分为MPTCP子层和TCP子层，对应 用层来说与传统TCP无异，利于大范围部署。MPTCP的多路径传输增强了网络 容错性，当其中一个子流丟包或者拥塞时，可以把数据分组调度到其他子流进行 重传和传输，提升连接恢复能力，提升网络容量。另外，MPTCP允许垂直切 换，支持WiFi为蜂窝移动通信网络（2G、3G、4G）分流。苹果设备上的智能 语音助手Siri和三星Galaxy S6都已经支持MPTCP技术，来保证响应速度和服 务性能。
2
对于MPTCP的大范围商用，与无线业务分流的结合是近年来的一个研究热 点。文［3］在公共无线网絡环境中对MPTCP进行实验性的分析，并对MPTCP在 两个无线网纟各（实际的WiFi和3G网络）下的性能进行实测，比较了三种工作 模式。第--种操作模式是同时使用这两种无线网络。此模式支持从无线局域网快 速切换到蜂窝移动通信网络或当用户发生移动时进行反向切换。文［4］中的实验 表明，该越区切换过程不是突发性的。当主机发生移动时，在某些区域内，所连 的无线网络信号比其它网络要弱，但主机仍然认为该网络可达，会继续发送数据， 这时网络性能较差，容易岀现丢包等问题，当移动主机进入这些区域时，需要利 用另-个无线网络进行数据发送来以确保平滑无缝的网络切换。许多蜂窝无线网 络的提供商以使用的流量量为基础进行定价，所以在多种无线网络都可用时，用 户更倾向于使用便宜的WiFi网络而不是按流量计费的蜂窝移动通信网络。文［3］ 实现对MP_PRIO选项的支持以探索其他两个操作模式的支持。在备份模式下， 多径的TCP打开在每个接口的TCP子流，但蜂窝网络的接口配置为备用模式。 这意味着当两个接口都可用时，数据只在WiFi接口进行传输。如果WiFi接口出 现故障，则数据流量迅速切换到蜂窝网络接口进行传输，保障用户的无缝切换体 验。这种方法的成本在于WiFi和蜂窝接口需要长期保持激活状态，这会引起移 动设备电池容量的快速消耗。单路径模式则略有不同，当MPTCP会话建立时， 一个新的子流创建于WiFi接口。只要WiFi接口保持连接，数据就不会通过蜂窝 网接口进行传输，这时蜂窝接口可以保持空闲并且电池消耗量较低。当无线网络 接口出现故障，一个新的子流会通过蜂窝接口建立，以保持所建立的多路径TCP 会话。相比之前的备份模式，这种操作方式的特征在于当WiFi子流的吞吐量下 降时利用蜂窝无线网络的接曰进行传输。
从以上的研究来看，异构网络下多径TCP可以很好的解决无线业务分流问 题，进一步提升业务分流的效率。MPTCP和业务分流都致力于提升网络利用率 和有效吞吐量，两者的结合对于解决移动互联网时代的流量爆炸问题具有十分重 要的意义。
1.2研究内容和目标
基于以上对于异构网络下业务分流技术和MPTCP的介绍，本文主要研究内 容为：
一、	异构无线网络及业务分流技术
调研异构无线网络发展现状，了解异构无线网络的关键技术和进展。调研 无线业务分流技术的原理和关键技术，研究典型的移动业务分流策略，为后续
3
的研究打下基础。
二、	单路径和多路径传输控制协议的研究
调研单路径传输协议的各个版本，其功能差异，明确单路径传输控制协议 的优缺点。调研典型的多路径传输控制协议，包括SCTP-CMT和MPTCP,研究 其协议主要功能、原理和架构。
三、	MPTCP调度方法的研究
研究典型的MPTCP调度算法(包括轮询算法和最低RTT算法)的原理及优 缺点。阅读所有MPTCP相关的RFC,和前沿科技论文(包括中英文论文)， 对MPTCP目前的研究情况和关键问题有大致了解后，整理出与调度相关的文 献，进行精读，分析和比较论文中涉及到的不同方法，为后续研究打下基础。
四、	MPTCP与无线业务分流结合的调度策略研究
利用异构网下的业务分流和MPTCP调度相结合的方式，为提升网络整体吞 吐量优化设计策略。移动数据流量的爆炸，蜂窝网络不能承受巨大的流量和应 对高需求。卸载蜂窝网络的流量的WiFi可以缓解拥堵，提高服务质量。然而， 由于蜂窝网络和WLAN之间的网络体系结构和商业模式的存在差异，所以两者 的耦合是弱耦合。多径TCP (MPTCP),这是支持同时在多条路径的传输协议 发送数据，可以用来解决这一问题。为了提高卸载性能和总体良好的吞吐量， 本文基于的基于RMAB的业务分流调度方法，综合考虑了异构无线网络的状态 和交付延迟差等路径特性。这种方法首先利用RMAB对MPTCP调度问题进行 建模，然后预测异构网络的状态，进行有效路径的初筛选，再使用交付延迟差来 调度数据分组，以缓解乱序的问题。相较于标准轮询调度(Round Robin)和当 前的多路径传输(CMT-SCTP)协议使用的最低RTTCLowRTT )调度，基于RMAB 的业务分流调度方法在实际吞吐量，时延和抖动上性能更好。
本论文目标是通过研究和总结典型的MPTCP调度和无线业务分流策略，把 MPTCP和分流技术相结合，提岀一种基于的基于RMAB的业务分流调度方法, 最终达到提升网络利用率、减少乱序、提升有效吞吐量和优化时延抖动性能的目 的。
1-3论文组织结构
本文主要的组织结构如下：
第•章主要介绍本文的研究背景、本文主要的研究内容和目标，以及本论文 的组织结构。
第二章首先介绍了异构网络的概念、关键技术和研究现状。然后对无线业务
分流技术的原理、典型分流模式和发展现状进行了概述。
第三章从目前主流的单路径传输协议出发，介绍典型的单路径传输协议的各 个版本及其差别。然后介绍了多路径传输控制协议，包括MPTCP和SCTP-CMT。 最后详细介绍了现有的MPTCP调度方法，并做了分析和对比。
第四章主要介绍了支持业务分流的MPTCP数据调度方法。首先介绍了随机 优化理论中的RMAB问题，并对RMAB的典型解法做了详细介绍。然后结合 MPTCP的应用场景，利用RMAB进行数学建模，并利用RMAB的平衡索引近 似算法进行求解。最后，对无线业务分流中的网络状态进行预测，作为有效路径 的初筛选，再综合考虑实际MPTCP中影响有效吞吐量的重要因素即交付时延， 提出了求解RMAB模型的平衡索引近似算法中针对MPTCP场景的调度策略。
第五章左要是针对上一章提出的基于RMAB的业务分流调度算法进行了性 能仿真与分析。首先，利用标准TCP与MPTCP协议进行性能对比与分析。然 后对基于RMAB的业务分流调度算法进行了吞吐量分析，并与轮询和最小RTT 算法进行了仿真对比。最后，正对本文提出的算法的时延和抖动性能进行对比仿 真。
第六章对全文进行了总结，在概述业务分流及多路径传输控制协议的发展趋 势之后，指岀了未来的研究方向，最后总结了研究生期间的工作。
第二章异构无线网络及业务分流概述
近十年来，无线通信技术的发展已经颠覆了人们的通信方式，为，满足业务 的多样化需求，异构无线网络是大势所趋。基于异构网络的业务分流技术也迅猛 发展，基I' WiFi的业务分流技术已得到全球运营商的普遍认可。典型的无线业 务分流模式为：1、完全分离；2、控制平面的耦合；3、完全耦合（控制和数据 平俑都进行集成）。
2.1异构无线网络概述
为了满足用户对多媒体服务和应用的需求，移动通信技术的研究朝着跨平 台的宽带信息接入技术进行发展。现有的宽带接入系统包括：无线局域网 （Wireless Local Area Network, WLAN）,无线城域网（如 WiMAX, Worldwide Interoperability for Microwave Access）,无线个域网（如 Bluetooth）,蜂窝移动 通信网（如2G, 3G, 4G）等。这些接入技术在覆盖范围，数据传输能力，服务 质量，移动性，体系结构，安全性等方面各有特点，如蜂窝移动通信系统覆盖 广，全面支持移动性和数据漫游，但只提供低带宽和有限的数据流量支持。无 线局域网则具有高数据传输率，低开销的特点，但覆盖范围有限。随着各类无 线接入技术的飞速发展，在很多区域内，现有的各种无线接入系统都是重叠覆 盖的。用户享有更灵活的接入方式，特别是多模终端设备的出现，移动终端带 有多种网纟各接口，用户可以灵活的根据自己的业务需求接入到适宜的网络中， 确保在不同环境状态下的服务质量。同时，对于运营商，利用多路径传输技 术，异构网络融合技术等，将相互重叠的异构网络进行融合，提高网络利用 率，获取更大收益，并为用户提供更加丰富的多媒体服务和应用，满足用户的 个性化需求。这些采用不同无线接入技术规范的不同类型的无线网络共同构成 异构无线网络[5,6],为用户无缝的覆盖，丰富的服务和良好的质量保障，如图 2-1 o

图2-1异构无线网络架构图
异构无线网络的异构性主要体现在：
1.接入技术的异构性
由于多模终端和多接口终端的出现，用户可以灵活的接入一个或者多个无 线网络，而无线网络的有不同的网络架构，控制和管理机制，覆盖范围，业务 能力和所有者（如运营商，个人网络等）。目前移动通信接入技术发展迅速，使 得接入技术的异构性明显。
2.QoS的异构性
每一个接入网络在带宽，移动性，覆盖范围和用户花销等都提供不同水平 的QoS。第一、二代蜂窝移动通信网络（2G3G）由于带宽受限，虽然拥有全球 的覆盖范围，但无法进行实时性要求高的多媒体业务。WLAN和LTE等拥有高 数据传输速度，可以支持多媒体业务和应用，但是覆盖范围受限。由于多种不 同类型的业务如基础通话业务，短消息业务，多媒体业务等，都具有不同的特 性，对无线接入网络和用户终端有着不同的要求。此外，支持的业务和应用也 更加多元化，需要在不同业务之间进行切换，需要更加智能化的模式。因此， 当异构无线接入网络中发送网络漫游时，需要异构无线网应能够动态的变化以 适应不同的QoS需求。
3.商业模式的异构性
对于蜂窝移动通信网络，世界范围内有多家运营商对此提供服务，它们的
8
计费模式，网络认证和授权机制等都不相同。此外，WLAN大多走的是免费模 式。因此，仅就蜂窝移动网络和无线局域网，在商业模式上的融合就充满挑 战。
4.终端的异构性
随着电子市场的迅猛发展，接入终端类型多种多样，包括计算机，平板电 脑，手机智能终端等，多种设备已具有多模无线网络的接入能力，有些甚至配 有多接口，支持同时接入多个无线网络。这些终端往往因为价格不同，具有不 同的接入能力，续航能力，存储和计算能力等，在使用无线网络服务和应用的 同时也需要在异构网络中进行漫游和切换。
2.1.1异构网络关键技术及进展
基于全新的架构设计思想，异构无线网络的融合需要关键技术的支撑。如何 使得异构网络在融合中体现网络资源的协同、服务质量与业务的统--以及智能化 的管理是异构网络大规模进行商用的关键问题。
在异构网络融合的环境下，如何保证无线资源的高效利用，有效的提高频谱 利用率和协同覆盖是一大关键，这其中涉及异构无线网络资源管理和移动性管 理。无线网络资源管理是在信道特性因干扰和信道衰弱而不稳定、网络负载分布 不均匀的情况下，灵活的对移动通信系统的无线传输资源进行调度和动态调整网 络可用资源，最大限度的提高无线网络的频谱利用率。无线资源管理主要研究内 容为接入的功率控制、调度技术、信道分配、切换技术、无线资源预留、端到端 QoS和自适应编码调制等。移动性管理［7,8］是解决两个主要问题：位置管理和切 换管理。移动性管理的目标是在用户接入不断变化的异构网络过程中，提供无缝 切换和高质量的通信和接入服务。因此，IP化网络是下…代无线网络的主要发 展方向。基于IP的移动性管理支持异构网络间的无缝切换与漫游，支持用户、 终端和业务的移动性，QoS的保障等。位置管理在实际应用中主要包括位置更新 和位置查询，位置更新是指移动终端向接入的网络报告其当前的位置信息，再由 网络进行更新；位置查询指的是当需要呼叫某个用户时，网络提供其对应的位置 信息。切换管理指的是移动终端在变换接入网络时能够保持有效连接的过程。随 着大量人口涌入城市，密集城区越来越多，小区越来越小，这使得异构无线网络 中的垂直切换发生的愈发频繁，垂直切换可以有效的保障业务的连续性。随着人 们对异构网络间无缝切换和移动性的要求不断提高，传统的移动性管理技术已经 无法满足用户需求，亟需提供一个开放的、自适应的、具有通用性的优化方案， 减少时延并且降低信令和功耗开销。
9
在异构网络架构方面，4G无线网络需要一个可行的结构使得QoS能够与无 线接入技术的资源管理和切换机制紧密耦合。在此基础上，研究人员提出多种体 系结构来融合WLAN和蜂窝移动通信网络。欧洲电信标准化协会(ETSI)为 WLAN和蜂窝移动通信网络制定了两种互联方法：松耦合和紧耦合[9,10]o松耦 合是指无线网络的接入系统之间是平行的结合，各个系统间相互独立。紧耦合则 指这些无线接入系统存在主从关系，例如WLAN作为3G核心网络的其他接入 网络，数据和信令都通过3G网络进行传输。
每个接入网络都提供不同水平的QoS,在带宽，移动性，覆盖范围，和用户 花销等。因此，如何提供可靠的多级QoS保证也是一个难点。当异构无线接入 网络中漫游并发生垂直切换时，被引入高可变的QoS,因为最优的异构无线网应 能够动态的变化。此时，在合适的时间进行垂直切换并选择最优网络进行连接变 得至关重要。并且，在无线接入网络利用不同的技术进行切换，将终端重新连接 到另一无线网络将需要更多的时延，还会引发丢包和实时性要求高的业务服务质 量急剧下降。因此，漫游和异构无线接入网络的互通构成了异构网络下最重要的 两个问题。传统的OSI七层模型已不再适应异构无线网络融合的需求，需要考 虑跨层设计。跨层设计的核心是形成协议栈对网络进行观察，然后通用数据库的 共享信息根据反馈进行交互，来实现自适应系统的优化。
2.1.2国内外研究现状
多种类型的网络融合和共存是异构无线网络的发展趋势。国际标准化组织、 研究机构和国内外学者都致力于异构无线网络融合的方案和技术的研究。3GPP、 3GPP2、IETF、ITU和IEEE等标准化组织在异构无线网络架构和移动性管理方 面做了大量工作o3GPP在TS22.934中建议了 6种无线局域网与蜂窝移动通信网 络融合的互操作情景模式，按照结合的紧密程度，分为紧耦合和松耦合。3GPP2 则定义了三种场景，重点研究了无线局域网和CDMA2000互通方式。两种方案 的核心思想都是利用蜂窝移动通信网络对无线局域网进行鉴权和认证，并打通无 线局域网和移动通信网络的数据业务。欧盟1ST的Ambient Networks主要研究 不同无线接入网络在移动性、QoS和安全性方面的融合。
欧盟在信息社会技术(Information Society Technology)框架下所启动的多个 研究项目开始致力于研究异构无线网络中无线资源管理、网络自控制和自优化 等。其中，MOBY DICK项目研究在IPv6环境下无线局域网和蜂窝移动通信网 络的融合问题，在全IP网络架构下构建以用户为核心的，综合骨干移动网络。 BRAIN项目针对蜂窝移动通信系统和WLAN下的异构无线网纟各作为研究实例，
10
提出异构无线网络融合的开放体系架构。EVEREST项目研究异构无线接入网络 中业务端到端服务质量保证机制和无线资源管理算法。WINE GLASS项目研究 了 UMTS和无线局域网融合的网络架构和相关的解决方案。E2R和E3项目增强 了软件定义无线电(SDR, Software-Defined Radio)技术，重点研究了端到端换进下 支持认知无线电网络和重构的高效率频谱利用以保障异构无线网络下的无缝接 入。IEEE 802.21 X作小组是Intel主导的无线接口标准，主要研究在无缝切换、 最优网络选择、QoS保障和电池管理等方面。中国移动研究院提出面向下「代移 动互联网的相关项目,其中包括 WiiSE(Wireless IP/Intemet Services Environment) 1.0和WiiSE2.0,其目标是提出-个综合网络解决方案来融合各类无线接入技术。 在异构无线网络商用方面，阿尔卡特朗讯(Alcatel-Lucent )发布了名为灵云无 线LightRadio的虚拟化的网络控制器和云架构、集中化的基带池，支持多制式和 多功能的融合。华为开发了高容量、简运维的小蜂窝Single RAN系列产品，其 发布的Single SON解决方案已实现多层次、多制式网络的自优化、自维护和自 配置。
2.2无线业务分流技术综述
根据思科 2014 年白皮书《Cisco Visual Networking Index: Global Mobile Data Traffic Forecast Update, 2013 -2018》［11］移动数据流量将在未来五年内达到以下 的里程碑：一、到2018年，全球月度移动数据流量将超过15艾字节；二、移动 连接设备的数量将在2014年超过了世界人口；二、到2016年，平均移动连接速 度将超过2 Mbps；四、由于对智能手机使用量増加，智能手机将在2018年达到 66%的移动数据流量；五、到2018年，每月的移动平板电脑的流量将超过每月 2.5艾字节；六、到2016年，平板电脑将超过全球移动数据流量的15%；七、 在2018年，4G流量将超过一半的移动流量；八、到2018年，将有更多的流量 从蜂窝网络无线网络分流至Wi-Fio白皮书中还预测到2018年，超过三分之二的 全球移动数据流量将是手机视频的视频业务，移动视频将增加2013年和2018 年之间的14倍，将占总移动数据流量的69%O
11


图2-2思科预测2018年每月移动流量趋势图
由此可见，整个全球移动流量增长的趋势可能包括过渡到智能移动终端、万 物互联，也就是可穿戴设备的兴起、视频流量将占主导地位、从接入类型来评估 移动业务分流、定义忙闲时段的移动流量最优时间、全面釆用IPV6、优化分级 定价等等方面。
世界范围内越来越多的正在访问移动网络的无线设备是全球移动流量的增 长的主要贡献者之一。每一年都有很多在不同的外形、容量和智能化的新的设备 被引入市场。移动设备和连接在2013年增在了 5.26亿。全球移动设备和连接的 将持续增长，到2018年，将有82亿手持式或个人移动设备和20亿M2M连接 （例如，GPS系统在汽车，资产跟踪系统的航运和制造业部门，或医疗应用使得 病人的病历和健康状况更容易获得，等）。由于移动视频内容比其他移动内容类 型具有更高的比特率，移动视频将产生非常大的移动流量增长，到2018年移动 视频将为2013年和2018年间的69%的年均复合增长率。视频类应用将是所有 移动应用类别中的增速最高的业务。移动视频在2012年初超过全球移动数据流 量的一半，这说明它今天的流量产生直接的影响，而不仅仅是在未来。
对于业务分流技术，在2018年，4G将增长到代表超过一半的移动数据流量。 目前，一个4G连接产生比非4G连接近15倍更多的流量。这是因为：一、许多 4G连接是针对高端设备，具有较高的平均使用率。二、更高的速度激发出高带 宽应用的采纳和使用，使得4G网络的智能手机很可能会产生比3G或3.5G网络 同型号智能手机的50%更多的流量。随着智能手机支持4G连接的比例越来越大,
12
4G设备和非4G设备的平均流量之间的差距将缩小，到2018年4G的连接会产 生比非4G连接的6倍以上的流量。
许多移动数据活动需要用户家里内进行。对于在家里使用固定宽带和Wi-Fi 接入的用户，或者可以通过运营商的飞蜂窝和微微蜂窝网络服务，交通相当大比 例的移动和便携设备所产生的从移动网络分流到固定网络。思科利用双模设备 （例如，支持蜂窝和Wi-Fi连接;不包括笔记本电脑）通过Wi-Fi和小蜂窝网络进 行分流的试验。业务分流发生在用户/设备级，当一个节点从移动蜂窝网络切换 到Wi-Fi/小蜂窝接入。移动卸载的预测包括从公共交通的热点以及住宅Wi-Fi网 络。
移动业务分流的流量占所有的移动连接设备的百分比从2013年的45%的移 动业务分流增加（1.2 EB/月）到2018年的52% （17.3 EB/月）。如果不进行业务 分流，全球移动数据流量将增长为65%,而不是61 %的年复合增长率。移动业 务分流的流量是基于智能手机普及率，双模手机的份额，以家庭为基础的移动互 联网的使用比例，并确定双模智能手机用户在家里上网使用Wi-Fi的比例。有些 人猜测，一旦4G网络是因为更快的速度和更丰富的带宽到位，Wi-Fi的移动业 务分流就没有如此重要。然而，4G网络将吸引高使用率的设备，如先进的智能 手机和平板，所以4H计划由于收到移动数据流量的限制会类似于3G计划的计 划。因此，4G的无线网络业务分流比低速网络更大，预测来自4G的卸载的流 量在2013年年底的54%,在2018将是56%。


图2-3移动流量和无线业务分流流量百分比图，2018
爆炸式增长的移动数据流量，将使得蜂窝移动通信网络运营商承受网络拥塞
13 和巨大的流量负载，这将导致资金成本的损失和运营维护成本的增加。运营商亟 需解决这一难题，目前的研究工作看来，总结为三种解决方案：一、运营商设定 合理的定价方案以抑制用户对数据流量的使用，例如包月、包流量等，还有忙闲 时段的不同定价策略等，但通过抑制用户需求并非长远之计，对于运营商无法有 效增加盈利，而用户的不满意度提高，违反了移动互联网的大趋势。二、升级基 础设施到下一代无线网络如LTE等，提升网络容量和数据传输速度，能够缓解 移动数据流量压力，但是还是远远无法满足用户的需求，只能作为补充方案。三、 移动数据分流，也是最近研究的热点。移动数据分流，简单来说就是在现有蜂窝 移动通信网络（3G,LTE）带宽基础上，卸载部分网络流量到其他无线网络中，从 而缓解蜂窝移动网络的负载压力，提升通信质量。相对于限制流量的解决方案， 分流则被人广泛认可，这是由于它不对用户的数据访问需求进行限制，只是换种 方式让用户实现业务的访问，而利用无缝切换技术使得终端用户几乎感受不到切 换。近年来有针对不同场景如（车载，密集城区等）提出分流解决方案的，还有 研究单纯依靠节点自组织的形式实现分流等，或者利用WLAN对蜂窝移动通信 网络进行分流。基于WLAN的分流技术，已经发展较为成熟，运营商已普遍认 可，作为商用方案。目前，全球的移动运营商包括国外的AT&T和国内的三大 运营商，都已部署自己的WiFi热点，当用户处于WiFi覆盖范围时，运营商会转 移部分用户智能终端产生的流量到所在WiFi热点中。
2.2.1无线业务分流的三种模式
WiFi业务分流：WiFi无线业务分流的解决方案的适用范围可以从基本的数 据流量分流到因特网与网络供应商的3G/4G核心网和用户管理和计费系统更复 杂的整合。主要分为三种不同的集成方法：1、完全分离；2、只通过整合用户管 理数据库（控制平面）；3、完全耦合，控制和数据平面都进行集成。
完全分离：最基本的形式，WiFi网络和3G/4G蜂窝网络，只需同时运行。 蜂窝移动通信网络流量是通过一个单独的网络分流到WiFi网络，两个网絡之间 没有任何的集成。两种网络都维护自己的相互独立的用户数据库，用户管理系统 也是完全不同的。在这种情况下，终端用户手动的来回从3G （或4G）切换到 Wi-Fi （见图2-4）。在这种情况下，两个完全独立的客户数据库同时运作，必须 进行管理和维护。由于没有办法使这两个平台进行连接，业务则在这两种网络中 进行透明地传输。相反，用户必须使用不同的身份认证方式，如登录，验证码等, 这种情况的用户需要繁琐的购买两种独立的服务，并且通常会阻碍服务的可用 性。
14


图2V全解耦无线基础设施（不集成）
松耦合：只进行用户管理的耦合，在控制层进行集成。Wi-Fi网络的用户管 理功能与核心的3G （或4G）蜂窝网络集成。在Wi-Fi网络核心的AAA服务器
与3G （或4G）进行通信，HLR为用户提供认证服务。在前端，用户认证使用 移动设备上的用户识别模块（SIM）和操作者的认证中心之间的EAP-SIM的通 信机制。对于没有EAP-SIM设备的功能的用户，在Wi-Fi网络的核心为用户维 护一个独立的数据库。在这种情况下，两种类型的网络是控制平面的集成。该策 略和计费规则功能（PCRF）涉及用户策略数据库，例如并分配适当的服务质量 （QoS）优先级标记。QoS参数传递给了 Wi-Fi接入点通过RADIUS协议的消 息，使服务质量水平可以在Wi-Fi网络的边缘执行。流量核算和计费系统也相互 集成，为用户提供统一的管理平台。虽然这两个网络的控制平面进行耦合，但 Wi-Fi流量仍然需要一个独立于3G （或4G）业务的数据通道（见图2-5）o
15


图2-5控制平面集成的无线基础设施
全耦合：在这种情况下，蜂窝无线通信网络的核心网络和WiFi的核心网络 无论是控制和数据平面都是完全集成。通过从用户的移动设备上的数据流量注入 运营商的移动核心，3G （和4G）服务可以直接路由到无线网络的接入网络，而 无需用户单独的登录或任何其它手动操作。实际上，WLAN成为蜂窝网络的无 缝扩展，不仅支持数据，但语音，内容，电视和运营商可能希望提供的任何其它 服务。


图2-6全耦合的无线基础设施（控制和数据平面集成）
实现图2-6中所示的控制和数据平面集成的两种主要方法为：
1）互通无线局域网（“IWLAN”），为3GPP规范（TS24.327）。使用这种机 制，移动客户端设备将打开来自该设备的基于IPsec的VPN隧道到运营商的核
16
心移动网络中的专用服务器IWLANo这种方法已经遇到了一些阻力，因为它需 要每一个移动设备上的专用软件，并且软件是属于资源密集型，需要消耗大量的 电池电量。
2） S2a中移动基于GPRS隧道协议（SaMOG）, 3GPP规范（TS23.402）。利 用这种机制，在Wi-Fi接入点（AP）建立安全隧道，而不是使用客户端设备。 这种方法不需要对每个移动客户端运行任何特殊的软件或独特的功能，以便将合 并的蜂窝/Wi-Fi网络环境的--部分，是目前非常有前景的综合减负办法。
2.2.2无线业务分流硏究现状
对于无线业务分流，国内外学者都开展了大量的研究工作。
移动用户的呈指数趋势增长，现有的网络容量已无法满足用户需求，亟需扩 充。然而，目前的网络接入技术网络的容量由于物理定律的限制，无法进行扩容。 目前的部署的蜂窝无线网络如3G, LTE, LTE-A,因为其有限的可用频谱制约了 潜在的容量的增长。另外，小蜂窝技术，如Wi-Fi WLAN是非常理想的扩展现有 蜂窝无线网络的容量的途径之一。无线网络由于成本较低，吸引了多家运营商卸 载大量的移动数据流量尤其是室内大部分的流量到WLANo运营商已经利用 Wi-Fi作为一种工具来满足网络容量的需求，具体方式是通过让用户手动的卸载 蜂窝无线网络的流量到WiFi ±0无线网络连接的分流的第一阶段通常需要手动 的进行热点选择。随着多模设备的普及，蜂窝网络分流的重点已经从单纯的静态， 手动，不安全的卸载流量到WLAN演变成了动态，自动，安全，无缝分流和网 络之间的互通，但需要具有流动性和HPLMN和VPLMN之间的数据漫游支持。 假设只能手机装有蜂窝UE和WLAN STA芯片组，例如，可以在不同的频带和 谐共存互不干扰。给定的假设，WLAN-蜂窝无线电可以同时被激活并且无交叉 干扰。因此，设备需要智能化的实时选择出什么时候同时打开两种天线，以何种 顺序，能获得怎样的收益，如何卸载流量，和如何获得更好的用户体验，例如， 对单一的网页可以通过两个无线电接口同时下载，或使用一个接口进行视频流传 输，而另一个接口则用于语言呼叫业务。
目前已经有一些方法和装置可以来动态地测量和估计无线业务分流的吞吐 量。比较新颖的方式是使用用户设#（User Equipment, UE）来确定无线电接入网 络（RAN）的关联状态。该UE动态地测定或估算该RAN的端到端吞吐量。在 实施方案中，端至端的吞吐量指的是每一个流，每一个公共数据网（PDN）,或 每个设备。端至端吞吐量估算方式包括：以设备为中心的方法，QoS的探测请求、 直接测量与建模、基于网络的信令消息、设备网络混合方法等等。另-种估算方
17
式基于关联状态及流量的QoS类型，主要有分层估计算法
当前，利用不同类型的无线网络来辅助蜂窝移动通信网络进行业务分流是一 个热点。然而，能否进行业务分流需要考虑一些相关因素如补足网络是否可用并 且性能良好，蜂窝移动网络的流量是否过载，用户正在进行访问的业务是对延时 的忍耐度(如邮件，软件下载、更新，备份等)。主要研究方向可以归为三类：
一、	基于基础设施的业务分流。其基本思想是利用--些具有存储、计算和通 信能力的基础设施来进行业务分流，这些基础设施可以是WiFi的AP、公共交通 系统、家庭基站(Femtocells)等。Balasubramanian等［12］提出在车载无线网络 中利用WiFi对3G进行业务分流，以扩充蜂窝移动通信网络的性能，并设计了 名为Wiffler的系统对WiFi的可用性进行预测。使用与WiFi AP连接的历史数 据来预测下次与WiFi AP相遇的时间，并根据用户业务对时延的容忍度支持用户 选择切换的模式，选择愿意等待从WiFi获取数据还是直接使用3GoKashihara等 ［13］提出利用公交车作为移动承载存储数据的框架，在车站附近的特定位置， 当公交车抵达对应的终端时则进行数据的交付。文［14］中，对于视频流和大块数 据采用了同样的分流架构，并指出家庭基站和微型小区(microcells)同处于相 同频段易产生干扰，所以家庭基站在室内环境下进行业务分流更好。文［15］提出 一种可以在运动场、商场等密集城区进行视频数据传输的Femtocaching存储单 元，与Femtocells相比，Femtocaching具有高回程网络和高存储容量的特点，同 时成本相对较低。而文献［16］则是利用节点之间的的社交关系来组成社区再利用 Throwbox进行数据的存储进一步提高数据传输速率。Gonzalez等［17］把多路 径的TCP与业务分流在无线接入性能上相结合。然而，他们强调的无线接入的 实现，并没有探讨调度问题。
二、	无基础设施的业务分流。这种分流方案则是利用节点间机会通信来进行 数据通信，只要在彼此的通信范围即可互相通信无需基础设施，如蓝牙、D2D (Device-to-Device)小型单元网络、Direct WiFi等。Han B等［18］提岀利用机 会通信来解决蜂窝网分流问题，探讨了在新兴的移动社交网络(MoSoNets)中 信息传递的目标设定的选择问题。提出了分别采用启发式、贪心、随机算法来选 取种子节点的集合，再通过数学模型，将问题建模为submodular问题进行求解。 文［19］根据用户对数据的延迟容忍程度提出了 on-the-spot和delayed数据分流方 式，利用无限局域网来对3G进行业务分流。
三、	从网络运营商也就是流量经营者的角度来优化管理模式，提升网络容量。 文献［20］从市场营销和技术角度对流量的经营方面进行研究。市场营销方面，优 化业务配置和营销手段，采用流量包，月包等价格策略来控制流量的滥用。技术 方面，优化网络结构和网络容量来提高流量利用率。
18
移动用户的呈指数趋势增长，现有的网络容量已无法满足用户需求，亟需扩 充。然而，目前的网络接入技术网络的容量由于物理定律的限制，无法进行扩容。 目前的部署的蜂窝无线网络如3G, LTE, LTE-A,因为其有限的可用频谱制约了 潜在的容量的增长。另外，小蜂窝技术，如Wi-Fi WLAN是非常理想的扩展现有 蜂窝无线网络的容量的途径之一。无线网络由于成本较低，吸引了多家运营商卸 载大量的移动数据流量尤其是室内大部分的流量到WLANo运营商已经利用 Wi-Fi作为-种工具来满足网络容量的需求，具体方式是通过让用户手动的卸载 蜂窝无线网络的流量到WiFi ±0无线网络连接的分流的第一阶段通常需要手动 的进行热点选择。随着多模设备的普及，蜂窝网络分流的重点已经从单纯的静态， 手动，不安全的卸载流量到WLAN演变成了动态，自动，安全，无缝分流和网 络之间的互通，但需要具有流动性和HPLMN和VPLMN之间的数据漫游支持。 假设只能手机装有蜂窝UE和WLAN STA芯片组，例如，可以在不同的频带和 谐共存互不干扰。给定的假设，WLAN-蜂窝无线电可以同时被激活并且无交叉 干扰。因此，设备需要智能化的实时选择出什么时候同时打开两种天线，以何种 顺序，能获得怎样的收益，如何卸载流量，和如何获得更好的用户体验，例如， 对单一的网页可以通过两个无线电接口同时下载，或使用一个接口进行视频流传 输，而另一个接口则用于语言呼叫业务。
目前已经有一些方法和装置可以来动态地测量和估计无线业务分流的吞吐 量。比较新颖的方式是使用用户设备(User Equipment, UE)来确定无线电接入网 '絡(RAN)的关联状态。该UE动态地测定或估算该RAN的端到端吞吐量。在 实施方案中，端至端的吞吐量指的是每一个流，每一个公共数据网(PDN),或 每个设备。端至端吞吐量估算方式包括：以设备为中心的方法，QoS的探测请求、 直接测量与建模、基于网络的信令消息、设备网络混合方法等等。另-种估算方 式基于关联状态及流量的QoS类型，主要有分层估计算法。
2.3本章总结
本章首先对异构无线网络进行概述，简要介绍了异构无线网络的概念、特点 及关键技术，对异构无线网络的国内外研究现状进行总结。之后，概述了移动业 务分流技术现状，结合移动流量爆炸的新时代背景下，说明业务分流技术的重要 性。接着简要介绍了国内外研究机构和学者业务分流的各个研究方向和成果，对 后续的研究很有帮助。本章所讨论的内容和所做的相关工作，对异构无线网络和 业务分流技术介绍了相关的背景知识，下面章节所涉及的技术和方案都是在本章 的背景下开展的。
19


























































20


第三章多路径传输调度概述
本章将对当前比较典型的几种多路径传输协议进行介绍，上要包括对TCP 协议的概述、典型的多路径传输协议的概述。接着概述了 MPTCP传输调度的原 理及主要问题，最后对典型的MPTCP调度方法进行分析和对比。
3.1典型的传输控制协议
3.1.1单路径传输控制协议
目前在无线网络中使用的都是标准TCP协议，是使用最广泛的单路径传输 协议。传输控制协议的拥塞控制机制会直接影响到协议的传输效率，因此，对于 TCP协议，按照拥塞控制方法的不同，比较典型的目前使用中的TCP版本包括： TCP Tahoe、TCP Reno和TCP SACK等。针对其他网络场景的有如TCP Veno和 ATCP 等。
最早的TCP版本为TCP Tahoeo Tahoe主要采用三种机制来控制拥塞窗口以 达到拥塞控制的效果：慢启动(Slow Start)、拥塞避免(Congestion Avoidance) 和快速重传(Fast Retransmit) o 采用 AIMD(Additive Increase Multiplicative Decrease)的方式，只要出现丢包，则认为出现拥塞，则慢启动门限设为当前拥塞 窗口的一般，并回到慢启动状态，之后的拥塞窗口则以指数增长。当拥塞窗「I到 达慢启动门限时，拥塞窗口线性增长来避免拥塞。快速重传机制指的是当收到3 个重复ACK,则不必等到重传超时而立即重传。
TCP Reno最广泛使用的TCP版本。Reno不仅包含Tahoe的三个机制还增 加了快速恢复(Fast RecoveryL快速恢复是指当接收端收到3个重复ACK或超 过重传超时时间但是未收到该数据包的ACK时，Reno则判断网络发生拥塞， 把慢启动门限设为当前拥塞窗口的一半，但是不直接回到慢启动状态，而是设定 拥塞窗口大小为当前的慢启动门限并让拥塞窗口持续性增长。
TCP NewReno是基于TCP Reno的改进版本。当只有一个数据丢包时TCP New Reno与TCP Reno机制是相同的，但是当同时出现多个数据包丢失时，New Reno改进了快速恢复算法，在收到部分ACK时，不会立刻结束快速重传。 NewReno的发端会持续重传部分ACK后的数据包，一直到将所有丢包的重传完 毕后才结束快速恢复机制。这一机制在网络有大量数据包遗失时，NewReno无
21
需等待超时就能进行重传，大大减少大量数据丟包造成的影响。
TCP SACK是Reno的另一个衍生版本。为了改进大量丢包情况下的问题， 另一个方法就是让发端知道哪些已经被接收端收到，这种方法必须同时修改发端 和收端的传送机制。SACK版本中，TCP报文中的TCP可选项中加入SACK选 项，允许收端在返回重复ACK时，将已经收到的数据区段(连续收到的数据范 围)返回给发端。因此，TCP SACK的发端可以在一个RTT内重传多个数据包。
TCP Veno是另一种基于TCP Reno发端的改进版本，主要处理随机丢包问 题，让数据连接尽可能长的时间内。处于工作状态以提高传输效率和吞吐量。 Veno在Reno拥塞窗口增加机制上加入了连接所处的阶段特性。根据RTT和拥 塞窗口来评估当前缓存队列中的积压(blacklog)报文数目，若超过门限值，进 而判断其处于拥塞阶段。当进入拥塞避免阶段时，每两个RTT内增加1个拥塞 窗口。然而，TCP Veno当随机丢包率较高时，其性能提升能力将逐渐消退，并 且Veno无法处理同一拥塞窗口下连续多个数据丢包。
ATCP是发送端来发起的全能TCP方案，主要用于Ad hoc网络中高错误率、 网络分拆、频繁的信道路径改变和乱序重排等问题。其主要思想是在IP和TCP 层引入ATCP层负责监视当前状态，同时阻止岀现网络故障时所作出的不合理的 拥塞控制方案。
3.1.2多路径传输控制协议
由于移动互联网时代的来临，移动数据流量爆炸，为了高效的进行数据传输， 提升整体的吞吐量和容错能力，许多的服务器和终端都开始支持多接口，而传统 的单路径传输控制协议并不支持多路径同时进行数据传输，因而，国内外研究结 构和学者开始研究多路径传输技术。典型的多路径传输协议为基于TCP的 MPTCP(Multipath TCP)协议和基于新型SCTP[21,22]协议的SCTP-CMTo下面就 对这两种协议进行详细介绍。
3.1.2.1 MPTCP 概述
MPTCP(Multipath TCP)工作小组由 IETF 于 2009 成立。MPTCP 也是 TCP 协 议的修正版本之一，目标是部署多路径传输并达到对应用透明，通过一个传输连 接汇总多条路径进行传输。与SCTP不同，MPTCP认识到对应用和网络兼容性 十分重要，并致力于大规模部署，另-方面，由于现在的无线网络使用的主要传 输协议为TCP协议，MPTCP的设计需要兼顾对TCP协议的公平性，在设计时
22
也是TCP兼容的。这使得MPTCP可以米用现存的TCP网络设备，减少升级基 础设置和设备的巨大花销。同时，MPTCP在建立连接前，会对通信两端是否都 支持MPTCP进行检测，只要有一方不支持，则仍旧釆用标准TCP进行传输。
对于兼容性问题，MPTCP从应用兼容性和网络兼容性两个方面进行。对于 应用兼容性，MPTCP要求所有应用的接口和服务模型都需要后向兼容TCP的接 口和服务。同时，在网络层，MPTCP能够保证传输层端到端透明传输的特性， 跨过中间件(Midbox)对于传输层的影响。
MPTCP路径(Path)的概念定义为在收端和发端之间链路的序列，基于源和目 的地址对。主机(Host)定义为一个初始化或者终止一个MPTCP连接的终端主 机。子流(Subflow)定义为在独立路径下的一组TCP数据流。MPTCP连接定 义为一系列的一个或多个子流的联合，为应用提供一个MPTCP服务。
MPTCP的协议栈结构如下：

图3-1标准TCP和MPTCP协议栈
MPTCP对应用层展示的结构和标准TCP 一致，但在传输层分为MPTCP层 和TCP子流层，每一个TCP子流下对应一个IP。为了实现对TCP的兼容,MPTCP 通过以下的功能来实现：
1.路径管理：用于检测和使用两个主机间的多路径。MPTCP使用当前端或 两端主机间的多个IP地址作为路径管理的标识。
2.分组调度：通过分组调度打破从应用接收到的字节流为数据分段，并通 过某个可用子流传输。MPTCP利用数据序列映射，通过将不同子流上的数据段 与一个连接级的队列序号关联以保障在不同子流传输的数据按序到达接收端。
3.子流接口： 一个子流组件从分组调度组件把数据分组调出并在特定的路 径上传输，以保证被主机检测并交付。MPTCP保证数据按序可靠的交付。为了 检测和重传丢包，TCP为每个数据段加入序列号。一旦接收，子流将自己收集的 数据传送给分组调度部件来进行消息重组。从发端的分组调度组件中映射的的 数据序列允许在整个字节流进行重新排序
4.拥塞控制：此功能协调子流间的拥塞控制。为了保证公平性，拥塞控制 算法必须保证在一个共享的瓶颈下，一个MPTCP连接不会不公平的比单一路径 TCP流的占用更多带宽。MPTCP的各个子流具有各自的拥塞窗口，为了避免死 锁，在接收端MPTCP的多个子流共用•个缓冲区，通过不同的子流间耦合的 CWND进行拥塞控制。
3.1.2.2 SCTP-CMT 概述
在流传输控制协议 SCTP(Stream control Transmission Protocol)最早于 2000 年 由IETF在RFC2960提出，SCTP最初是用于传输IP网络中PSTN信令消息，也 可以延伸至更广泛的应用。SCTP协议的初衷是为了弥补TCP协议在SYN袭击 或其他业务袭击时的缺陷及实时性差等缺点。SCTP是一种可靠的传输协议，并 运作于无连接分组网络例如IP网络的顶层，它为用户提供以下服务：确认的、 无差错和不重复的数据传输；依照路径的MTU大小进行数据分片；有一个选项 用于单个用户消息的有序交付，并使得多流传输的用户消息有序达到；多用户消 息可选的绑定为单一 SCTP数据包；支持多宿主在单一或者关联两端的网络层 容。相比较于TCP, SCTP主要进行了 2种扩展：第一是支持多宿主 (Multi-homeing)并支持单个SCTP关联中使用多个流(Stream)来进行传输。
SCTP中的关联表示两个节点间的连接关系，关联的运作机制是选择一条路径进 行数据的传输，另一条关联路径则不断地发送心跳包(HEARTBEAT)以监测传 输路径是否可用。心跳包的作用是是持续不断地检测备用路径是否可用，以保证 一旦主路径失效，则立即选用一条备用路径继续原来应传输于主路径的数据包， 用于避免传输的中断。SCTP本质上是面向连接的，而SCTP关联是一个比TCP 连接更广泛的概念。SCTP提供了用于每个SCTP端点(在关联启动时)来提供 其他端点具有传输地址列表(例如一个SCTP端口联合的多个IP地址)，通过这 些地址，端点可以到达或者从这些地址找到SCTP数据包。SCTP关联跨越传输 对所有这些可从各端点的列表中产生的可能的源/目的地的组合。
24
SCTP用尸应用

图3-2 SCTP传输功能图
SCTP传输服务可以分解为以下功能：
1.SCTP关联的建立与释放。在SCTP发起请求时，启动关联的建立并釆用 了 COOKIE机制来保障其安全性。SCTP对激活了的关联需要用户的请求才能 正常关闭，对于启动非正常关闭如中止程序等，同样需要用户来发送请求。另外, SCTP的非正常关闭程序也可以由SCTP检测出差错来进行中止。SCTP协议不 支持类似于TCP协议的半打开状态，所以只要其中一个端点执行了关闭程序的 请求，关联的两端都止传输队列中的数据，停止传输用户发来的新的数据包。
2.流消息的顺序递交。流（Stream）在SCTP中，表示需要顺序交付到高层 协议的用户的消息序列，在同一个数据流中的消息需要按顺序进行交付。在关联 建立时，SCTP用户对一个关联中所支持的流的数目进行规定。
3.数据分段，和TCP类似，SCTP也支持对数据进行分段处理来保证分组 长度符合最大传输单元（MTU）的要求，在接收端再把各分段进行重组。
4.确认机制和拥塞避免。SCTP中的确认机制和顺序交付是分离的，首先在 发送端为每个数据段分配TSN,接收端对收到的TSN进行确认，确认和拥塞控 制机制支持对丢包进行重传。
5.数据块捆绑。一个SCTP分组通常包含一个公共的分组报头，之后是一 个或多个数据块。每个数据块包含着SCTP的控制信息或者用户数据。SCTP用 户可以通过可选项来进行设定，把多于一个的用户消息序列绑定一个SCTP分
25
组中发送。
6.SCTP分组校验。SCTP公共分组头中包含：32比特长度的校验字段以及 必备的验证标签字段。验证标签于关联启动过程中每个关联关闭的时候关闭当数 据分组在没有验证标签值的时候，数据分组会被自动丢弃，以避免伪装的攻击和 以前使用过的关联。
7.路径管理。SCTP的发送用户可以使用一组地址作为目的地址用于SCTP 的传输。SCTP路径管理功能基于SCTP用户的指令和当前符合条件的子集中可 达地址的为每一个输出的SCTP分组选择目的传输地址。当其他数据包的流量是 不足以提供该信息时，SCTP路径管理功能通过监控心跳包来确定可达性，当任 何远端传送地址变更可达性时，通知给SCTP用户。当关联建立时，路径管理功 能也负责通知本地传输地址的可用子集到远端，并报告从远端向SCTP用户返回 的传输地址。
由于SCTP在同一时间只能在一条路径上传输，研究人员进行了各项改进研 究，比较典型的解决方案是提出了 SCTP-CMT协议。CMT(Concurrent Multipath Transfer)在2007年修订版RFC 4960［23］和文［24］中被提出，以支持多路径同时传 输。CMT的特点包括：
1)提高连接的容错力和可靠性，当一条传输路径出现故障，利用其它可用 路径进行传输以保证业务的不间断性和容错性。
2)SCTP-CMT支持multi-homing,当终端在移动过程中，网络可以进行切 换并保证连接是连续的。3) SCTP-CMT支持多路径同时传输，在某一个路径故 障或者性能较差时，CMT利用其它路径传输，提高网络利用率和吞吐量o4)CMT 由于把数据在多条路径传输而具有即使被监听也无法获取所有信息的特点，保障 了服务的安全性。
CMT在有如此多好的特性的同时也存在数据乱序、缓存阻塞以至于实际传 输性能并不比单条路径吞吐量高等问题
3.2 MPTCP传输调度方法
3.2.1 MPTCP调度原理
在MPTCP中，子流的资源池是通过复用不同子流间的数据分段来实现的。 TCP的选项中支持接收端对这些数据段进行重新排序并重建比特流来保证可靠 地，按序交付。每一个子流都有自己的常规拥塞控制阶段如慢启动和拥塞避 免。也可使用特定的拥塞控制机制来支持更好的负载均衡和子流间的公平性。
26

应用层
标准 Socket API



图3-3 MPTCP调度器E
3.2.2 MPTCP调度的主要问题
对于MPTCP调度器来说，需要考虑如下的问题：
1.接收窗口受限
一个TCP协议栈保留一定数目的内存来用于乱序和丢包问题。MPTCP由于 TCP子流的时延差异而引入乱序问题，因此接收端的缓存必须适应MPTCP层的 乱序问题，为了支持高的有效吞吐量，接收端缓存的大小设计非常重要。
为了最大限度的利用所有路径的容量，即使是出现乱序，接收端必须提供足 够大的缓存区。在MPTCP的RFC6182中建议的缓存大小为：
n
Buffer = 2 %	- 2	(3-1 )
I
其中RTTg为所有子流中最大往返时延。叽 为带宽。然而，一些终端无
27 法提供足够多的缓存来支持所有路径的容量。
2.线头阻塞(Head-O「Line Blocking)
MPTCP中的线头阻塞指的是：在一个MPTCP连接中的TCP子流可能经过 具有不同特性的路径(如子流可能经过智能终端的具有较低RTT的WiFi接口或 者较高RTT的LTE接口)。当分组在不同子流间进行复用，假设每个子流进过不 同的路径，而这些路径的时延差异将导致在接收端交付时候出现乱序。但MPTCP 保证了按序到达，因此使用低时延子流的分组不得不等待高时延分组到达，再进 行数据重排。
线头阻塞的通过延迟数据传送到该应用程序而引起数据流中的突发性，这是 尤其是对于交互式或者流媒体数据流中不希望出现的。这是因为交互式应用会由 于乱序造成弱交互，带来非常差的用户体验。流媒体应用则会增加更大的应用层 缓存来解决突发问题，以维持连续的用户体验,这将会给终端系统带来更大压力。
3.2.3典型的MPTCP调度方法
MPTCP调度器的核心工作是：在MPTCP的子流中选择合适的子流，再根 据这个子流的特性，选择哪个数据段在这个子流上传输。下面将介绍一些典型的 MPTCP调度方法：
1.轮询(Round Robin) ［25,26］调度方法，选择一个接一个的子流的循环方 式进行调度。这种方法可能会保证每个路径的容量被充分利用，因为在所有子流 的分布是相等的。然而，在大量的数据传输的，调度不是真正的轮询制，由于应 用能够填补所有子流的拥塞窗口，然后分组会尽快安排给拥塞窗口再次可用的每 -个子流。这种情况通常被称为ACK-CLOCK。这样的调度器已经为并发的多径 传输的SCTP研究过。
2.最小RTT (Lowest RTT),在异构网络中，调度数据的子流的基础上的最 低的往返时间(RTT)是有利的，因为它提高了用户的体验。它减少了应用程序 的延迟，这对于交互式应用程序是至关重要的。基于RTT的调度首先向预测最 低RTT的子流发送数据，直到它已填充拥塞窗口。然后，数据发送与下一个相 对高一点的RTT的子流。与循环调度一样的，一旦全部拥塞窗口被填充，调度 变为ACK-Clocko,在每一个子流的ACK确认机制能够让拥塞窗口开放空间， 并且因此允许调度数据在这个子流发送。
3.重传惩罚算法(Retransmission and Penalization, RP),文［18］提出针对 MPTCP的机会重传和惩罚算法来补偿时延差异。机会重传重新注入引起线头阻 塞的数据段到拥塞窗口可用的子流上进行传输。这可以很快的克服线头阻塞并补
28
偿RTT差异。而惩罚算法则通过减小高RTT子流的拥塞窗口来减少数据发送速 率。RP算法的目标不仅是提升有效吞吐量，还可以减小时延抖动和缓存大小的 需求。然而，当由于巨大的缓存膨胀引起了非常大的时延差时，惩罚算法并无法 让拥塞控制窗【1有效下降。
4,缓存膨胀迁移算法(Bufferbloat Mitigation, BM) [27],观察到高RTT 的另一个来源其实是子流路径卜路由器和交换机的巨大缓存。BM算法是RP算 法的另-种解决方式，利用限制每条子流的发送数据量来控制RTT以此来减小 缓存膨胀。BM算法的冃标并不是显著的提升有效吞吐量，而是提升应用的时延 抖动来减少终端主机的大缓存需求，并且当接受缓存受限，LowRTT+BM较之两 种基本的调度算法，性能提高微乎及微。BM算法的核心思想是检测最小平滑 RTT(Smoothed RTT, sRTTmin)和平滑 RTT(Smoothed RTT, sRTT)。一旦 sRTT 渐渐 大于sRTTmin,则预示将岀现Bufferbloat,因此，通过设定拥塞窗口的上限来减 小拥塞窗口：
cwndvim„ = >x(sRTTg/ sRTT)xcwnd	(4-2)
其中人表示sRTT和sRTTm<n之间的差异的忍耐度，一般设为3。
3.3本章小结
本章首先介绍了单路径和多路径传输协议的基本原理，由单路径传输控制 协议的不足引出多路径传输协议研究的必要性，并详细介绍了两种典型的多路 径传输协议即MPTCP和SCTP-CMTo SCTP的性能良好，但是对于TCP不兼 容。而MPTCP则全面兼容TCP并保证公平性，利于大范围部署，有较好的发 展前景。所以之后的章节里关于多路径传输控制协议的研究主要是围绕MPTCP 进行展开。接着，本章介绍了 MPTCP的调度器需要解决的主要问题(接收窗口 受限和线头阻塞)，对典型的调度方法如轮询调度，最小RTT调度等做了简要 介绍。这些调度方法将用于后面仿真章节的对比算法，检验本文所提出算法的 性能。
29


























































30


第四章支持业务分流的MPTCP数据调度方法
在异构无线网络下，移动数据流量成倍增长，MPTCP与无线业务相结合可 以很好的应对流量爆炸，史高效的利用有限的频谱资源，提升网络利用率和有效 吞吐量。本章在综合考虑异构网络中路径时延差异和随机时变特点的基础上，提 出-种基于随机优化理论的业务分流调度方法，利用随机优化理论中的RMAB 问题进行建模，并利用平衡索引近似算法进行求解。本章首先简要介绍了随机优 化理论中的RMAB问题。然后对支持业务分流MPTCP调度问题进行RMAB建 模。最后对所提出的基于RMAB的业务分流调度方法进行了详细设计。
4.1研究背景
单路径传输控制协议已经无法满足用户需求，多个基于TCP的多径传输的 协议已被提出，如SCTP、mpTCP和MTCP,目的是聚合多条路径的带宽，提升 网络容量，但由于不兼容主流的TCP协议，这些协议都没有得到广泛的部署。 MPTCP是在2011年由IETF标准化，是常规TCP协议的延伸，支持同时在多个 路径进行端到端的数据传输。MPTCP的结构类似于TCP协议栈的分层结构，因 而很容易在现有的网络中进行部署。MPTCP弱耦合的把传输层分为两个子层， 即MPTCP层和TCP子流层。各个TCP子流之间独立运行，可以复用标准TCP 的大部分功能。尽管每个TCP子流在发送端都维护一个拥塞窗口，在MPTCP 子层则采用耦合的拥塞控制机制。为了在交付给应用层之前重组数据，MPTCP 采用两级序列号，-个是TCP子流层的子流序列号(Subflow Sequence Number , SSN)来确保每个子路数据包按序到达，与TCP协议中的序列号类似，SSN在 每个子流相互独立；另一个是在MPTCP子层的数据序列号(Data Sequence Number ,DSN), DSN对于接收端的分组是唯一的，因此接收端可以利用DSN进 行数据重组。
MPTCP中与调度相关的技术涉及拥塞控制策略和调度算法的设计。拥塞控 制策略方面，耦合拥塞控制策略(CCC算法)[28,29] (Coupled Congestion Control scheme ), OLIA 算法(Opportunistic Linked-Increases Congestion Control Algorithm) 和 wVegas 算法由 IETF(The Internet Engineering Task Force)在近几年陆续提出， 并有良好的性能。Raiciu等[28]利用机会重传和在发送端惩罚性能较差的子流的 机制来避免重传问题，并使用了受限的接收缓存。然而，他们并没有能够让 MPTCP使用全部的可用带宽。关于调度器的设计，队头阻塞和接收缓存受限是
31
两个技术挑战，尤其是当路径属于异构网络时问题更加突出。当所有的路径都状 态良好时，可以在每个子流进行数据传输，MPTCP具有较高的有效吞吐量。然 而，如果路径传输特性上具有多样性如具有不同的损耗或延迟，MPTCP的有效 吞吐量将急剧恶化。当接收端等待发送一个状态较差的路径的分组时，接收缓冲 器将会被填满。这时即使其它路径状态良好，也无法发送更多的数据包，低质量 的路径成为MPTCP的瓶颈。文献［29］表明，MPTCP的有效吞吐量甚至比普通 TCP的更差。为了解决网络瓶颈问题，文献［38,39］已经对高丢包率的网络的吞吐 量提升进行了一些研究。然而，如果有大量数据丢包的需要重传，调度器将产生 较大花销。轮询调度算法(Round Robin) 一个接着一个的选择子流可以保证每 一个路径容量可以充分利用，但无法避免ACK-CLOCK带来的性能衰减。另外 一个影响调度性能的要素是往返时间(RTT),总是在RTT最小的子流上发送数 据，这种算法被称为最小RTT算法(Lowest RTT)。一旦出现ACK-CLOCK,性 能也急剧下降。另外，还有两个基于RTT调度算法的延伸算法：即重传惩罚算 法 Retransmission and Penalization (RP)和缓存膨胀转移算法 Bufferbloat Mitigation (BM) o在重传惩罚算法中，当出现拥塞时，会在拥塞窗口不为0的子流重传引 起队头阻塞的数据段。惩罚算法利用更高的RTT来减少引起拥塞的子流的拥塞 窗口来减少发送速率和对该子流缓存膨胀的影响。然而，当由于巨大的缓存膨胀 引起了非常大的时延差时，惩罚算法无法让拥塞控制窗口有效下降。缓存膨胀转 移算法利用限制每条子流的发送数据量来控制RTT以此来减小缓存膨胀。然而， 当接收端的缓存受限，LowRTT+BM较之两种基本的调度算法，对网络性能的提 高微乎其微。
4.2 MPTCP调度问题的RMAB模型
4.2.1 RMAB 概述
在随机优化控制问题MAB (Multi-Armed Bandit)中，存在N个竞争的手 臂，运作某一手臂会获得一定的收益，未运作的手臂的状态不发生改变，每个手 臂有有限的状态空间。运作手臂获得的收益服从潜在的分布，根据获得的收益信 息可以解析岀部分分布。MAB问题的目标是通过选择每一步运作的手臂的选择 策略来最大化长期收益。MAB模型目前作为数学工具已大量应用于各个领域， 如路由选择问题、运筹学的随机调度问题、统计学的序贯设计与分析问题，以及 经济学的最优化投资和分配等等的相关领域。MAB过程其实就是一步步进行序 列决策的过程，需要设计合适的策略来在每--步都做出决策，最终获得最大化期
32
望收益，并得到最优策略。Whittle等［31］将MAB （Multi-Armed Bandit）问题 -般化至RMAB问题，使得多个手臂可以同时被激活，并且允许所有可用手臂 的状态在每个时隙都可以发生改变。RMAB问题属于PSPACE-Hard难题，其中 PSPACE 即确定型多项式空间复杂性（Deterministic Polynomial Space, PSPACE） 指的是能被确定型图灵机在多项式空间内解决的问题集合。虽然RMAB问题在 建模非确定性活动分配具有重大意义，然而在此问题上并没有什么研究进展。文 献［32］设计了 -种基于对偶优化算法获得一种简单的启发式（2 + Q近似贪心策 略来解决RMAB问题。无论是在近似度还是计算效率上，该算法都和广泛用于 简化计算的Whittle Index接近。本章接下来也采用该策略进行MPTCP调度问题 的求解。
4.2.2 RMAB优化方法概述
RMAB问题描述如下：通常情况下，一个多臂赌博机有"个相互独立的手臂。 每一个手臂，都可以处于集合S,的多种状态之一。对于每一个时隙，赌徒可以运 作一个或者多个手臂。当处于状态SS,的手臂，被运作，它会以概率九转移到 状态jeS,并获得收益r； > 0 ,当它没有被运作，则会以死的概率转移到状态 ,/6 5 o初始状态时，模型有各个手臂的先验状态信息。从不断地运作手臂中， 可以获得这些手臂的后验信息。目标是根据给定的初始信息，找到-个运作手臂 的策略来最大化期望的折扣收益或长期收益，计算方式为：MaxW=°R*） 或者，其中我,为每一步运作手臂所得到的期望收益。
对于此问题，一个经典的解法是Bellmans方程［33］,利用动态规划来得到最 佳策略。主要问题是在有效地计算时间内简洁地指定最优策略：输入一个算法来 指定每个手臂的收益和转移概率，因此具有的状态空间为n的指数级。此问题需 要在多项式算法（在输入大小上）上计算（近似）优化策略，并且策略需要在多 项式时间内执行每一个步骤。
由于策略是指固定（也可能是随机的）映射的指数级状态空间的一组动作， 为了确保多项式时间内的计算和执行，则通常需要简化使用该问题的结构的最优 策略的描述。随机MAB的问题是已知的最著名的决策问题：最优策略是一个被 称为GITTINS index policy的贪心策略［33,34］。在一般情况下，-个索引策略指
33 定了一个名为“index"的每个状态SS,的手臂L在每个时隙，都运作在当前 状态具有最高index的手臂，因为它们可以连续的表示出来，所以这个策略是较 为理想的，因此也是首选的MDP问题的启发式方法之一。
在随机MAB问题，对每一个手臂潜在的收益分布是固定的，但是无法直接 获取。然而，如果奖励会随时间变化，index策略或者其他有效解决方案问题则 不是最优方案。这种现问题需要被建模为一个不安分的多臂赌博机问题 (RMAB)o与随机MAB问题类似，运作的手臂都会按照一定的分布进行状态 转移，RMAB问题通常是研究无穷平均收益，之前的index策略已经不是最优解 法。利用Whittle's LP能够解出RMAB问题。可以通过有效的取代每一个时隙 运作一个手臂的强制约束而允许每一时隙运作多个手臂，但是需要每一个时隙平 均运作一个手臂来获得Whittled LPo Whittle’s LP是优化策略的松弛方法。 Whittle’s LP公式如下：
n
Max ZZ?产;，
f=l Ml
i £ EE】
i = l
X： + y：,=刃,一|)	Vi,se (g,b},t> 2	(4-1)
%	Vi
/>1	聞
x；i+A；i=Z",(l-v”)+Z(lf)x；, Vi
<>1 />1
x；,,y：2 0	Vi,s e {g,b),t
其中，每个手臂的状态表示为(s,,)且se{gM} , g代表能获得收益的好状态, 3表示坏状态。v“表示子流i当前为good状态且t步前为bad状态的概率。u, 表示子流i最后一次观察为good状态的概率。
x荒表示手臂处于(s,o并且被运作。yf表示手臂没有被运作。由于其潜在 的markov链是遍历的，所以优化策略也是遍历的。在任何时隙中，都有一些手 臂被运作，所以这些概率是互斥的，也就是第一个约束。同样，对于每个臂，在 任何时隙，手臂处于在某些状态(s’)，只可能是运作和不运作，对应于互斥事件, 所以对于每个，，满足第二约束。第三、四个约束的左侧是在这种状态的概率, 而右侧是进入该状态的概率，在稳定状态下显然是相同的。
34
4.2.3 MPTCP调度问题的RMAB建模
上一小节提到的RMAB模型符合异构网络中不同无线传输路径的时变特 性，可以用于MPTCP的调度问题进行建模。一个MPTCP连接包括N个子流（手 臂），每个子流的运作服从有限状态空间的随机分布。子流的运作会获得不同的 吞吐量（收益）。调度子流进行数据传输（优化策略）能够获得吞吐量，数据调 度的目标是最大化长期（有效）吞吐量。
这-小节将利用RMAB对MPTCP问题进行建模，并使用平衡索引近似算 法［32］对Whittle's LP［31］的对偶问题进行求解。如下：
2
Max.人+ G（"三人+ £（X 化，-4（x；, + x；,））	（LPLAGRANGE（A））
i= I />1
£ 佗|£ 就｛"《X"《I	）'	（4 3）
£ ,2产"，=£ ,2产；,（1 - U,,） Vi
x'sl > o	Vz,5 e （g,b）,t
在公式L PLagrange（人）中，X是求解引入的拉格朗日乘子，表示运作该策略 后的惩罚，X：,是选择子流i在（S,t）状态下，传输数据分组在（S,t）的概率，其中（S, t）表示子流在t步之前的状态。G（"表示每个子流收益减去惩罚入的总和。计 算公式如E
G3）=£/,E）	（4-4）
H,W表示期望收益减去惩罚。「,侦）表示对于子流i,和给定的惩罚人获得 最大应取的最小的t值。凡表示子流i从good状态转移到bad状态的一步 转移概率，V,,表示子流i当前为good状态且t步前为bad状态的概率。u,,表示 子流i最后一次观察为good状态的概率。Good或bad状态的定义将在下--小节 指出。〃，以）计算公式如下：
(4-5)
通过选择适合的入，可以利用拉格朗日乘子来求解Whittle's LP,但是平衡索引
35 策略(The Balancedlndex Policy,也称为 2-approximation Policy)将不基于这样 的方法。通过设定;I为所有单臂策略的可获得的收益G(4)=£：/(4),强迫拉 格朗日来平衡短期的收益(由;I表征)和长期收益(由G(Q = £二乩以)来表征)。 引理如下(具体证明见文［32］)：
(1)V2>0 A + G(A)>OPT
(2)是关于人的非递减函数
(3)在计算机时间内，能够找到一个人使得2>(l-£)OP7/2并且
GW>OPT !2
4.2.4平衡索引策略
用于求解RMAB问题的平衡索引近似算法，其线性规划己经在上两节中给 出，这一节主要介绍求解线性规划时的索引规则［32］：
(1)利用：一些手臂转移到状态 EG,
a)只要这个手臂保持在keGt (good)中的一个状态，则始终运作这个 手臂。
b)否则，转到步骤(2)o
(2)探索：
a)当有手臂处在“ready”状态即t >/,.(该手臂转移到good的时间大于 最小转移时间弓)，运作该手臂
b)如果没有手臂处于“ready”，则在这一时隙进行手臂的运作
从上一节末的引理中的人开始，S = {i:HM)>0},策略只使用S中的手臂， 对于每个手臂搾S通过求解LPLagrange(2)得到策略?也以))。为了简化计算有 ' =3 ,另外，当一个手臂上次观察处于状态se{g,3}在小1时隙之前，则 状态表示为(s,r)。则(漁 为手臂处于good状态，(方”)且表示ready状态, (8,7)且r<弓为bad状态。其中0为good状态的集合，/,为bad或ready状态
36
的集合。这个规则的核心是利用运作good状态的高收益来平衡其他状态下的低 收益。当所有手臂的状态都不为good时，持续等待，相当于状态的恢复时间， 直到这些状态转移到good的概率足够高，进入G,,再进行运作。在实际的算法 中，当手臂处于good状态时，则收益为2；处于ready状态时，收益为1；其他 状态下，收益为0。
4.3支持业务分流MPTCP调度算法
上节已经对MPTCP调度问题进行数学抽象并利用RMAB建模，建模过程 中最终的一步就是策略的制定，下面将详细介绍如何制定调度策略。调度策略中 最重要的是调度目标指的是有效吞吐量，卜一面先对有效吞吐量的影响因素进行分 析。
4.3.1有效吞吐量
MPTCP可以通过在多个路径上同时传输数据来为应用层提供聚合的带宽。 而MPTCP的有效吞吐量定义为：利用MPTCP有序交付到应用层的数据吞吐量。 计算公式如下：
size of N in-order packets	一 八
goodput =			 ( 4-6 )
Total receving tim e of N packets
我们通过两个典型的MPTCP场景来找出影响有效吞吐量的关键因素。假设 为两个可用路径。定义函，为MPTCP发送端对于路径i的发送间隔，即前向时 延。定义路径，的端到端时延为。,，则R即路径1的吞吐量大于路径2 o 假设一个包含N个数据分组的数据块具有连续的DSN序号，这其中N - 1个分组 从路径1发送，只有1个分组从路径2发送。这样的一个数据块分组被称为一个 有序的数据单元。定义S为以最大数据分组大小(MSS)为单位的总数据分组大 小。定义T为有序数据单元的总到达时间。则有效吞吐量的计算公式为 G = S 丨 T。
37

MPTCP源端
如图4-1所示：一个有序数据单元包含四个数据分组，DSN序号分别为1、
2^3和4,假设分组1和分组2在路径1和2的发送时间相同。AZ> =| D,- D21>	,
我们可以获得TdD并且有效吞吐量的计算公式为：
S Ar, / Ar. 4-1
G = _=	——1—
T \D
图4-2则是另一个场景即=| Q - d2 \< M。这种情况下，MPTCP需要更
少的时间来收到这个有序单元内的所有的分组，总时间为路径1收到所有N-1 个分组的时间，则有效吞吐量为：
S Az, / Ar, +1
G 		?	!—
T A/2	、，
公式（4-8）就是两条路径的聚合吞吐量（用A表示），实际上，这也是MPTCP 的最优吞吐量：
(4-9)
38


综上可知，有效吞吐量是端对端路径延迟差△。成反比的。两个路径之间 的时延差越大，则MPTCP接收端需要在有序内收到的所有数据包的时间越长， 而有效吞吐量更小。为了接近或达到有效吞吐量的上限(所有可用路径的总吞吐 量)，我们需要尽量减少传输路径之间的端至端延迟差。
由于交付时延对有效吞吐量有较大影响，首先来进行交付时延的预测：
定义预测交付时延(Estimated Deliver Delay , EDD)为：从一个数据分组被 调度到某一个子流并且该分组被对端成功地接收的时间周期。前向时延 (Forward Delay , FD)定义为：在被调度的数据分组从发送端到接收端的前向时 延。对于子流i, p,•为子流的丢包率，R7T,为子流的往返时延，R7O,•为超时重
传时延。预测的交付延迟计算公式如下：
EDD, =国二矿(1日日)诚?”，+叫
=p^TOf /(IS+ FDj
对于公式(4-10),前向时延的计算，我们不简单的使用RTT/2来估算，这是 因为对于异构无线网络，其路径特性具有不对称的特点，前向时延和后向时延 的差距较大。我们使用一种简单的方法来估算前向时延差进而计算预测的交付 时延差来用于调度。
路径1和路径2的前向时延差可以计算如下:
39


注意到这些数据在子流收到ACK的时候就能够获取，妇为发送时间戳，rH
可以放入报文的选项中通过ACK分组选项来获取。
\EDD:定义为预测的交付时延差，可以通过超时和前向时延进行计算，公 式如下：
\EDDt = piRTOi / （1 _ p,.） + FD, - pjRTO} / （1 - p丿）- FD）
=piRTOi / （1- Pi） - PjRTOj / （1- p丿）+ 函	（*12）
4.3.2网络状态预测
本文考虑的核心场景是用户不断移动的场景，例如，持有智能终端的用户去 外地旅游，不断地步行或乘公共交通工具从一个区域移动到另一个区域内，这期 间可能会出现频繁的蜂窝无线通信网络（2G、3G和4G）间的切换、蜂窝无线 通信网络和WLAN的切换、WLAN间的切换甚至个域网络与以上网络之间的切 换。在移动的过程中，用户可能一直使用手机应用（如导航、观看视频、即时通 讯等等）。在移动过程中，目前的情况是用户在每一次网络切换时都会出现几秒 钟的网络中断并可能尽力重连时的丢包，这非常影响用户体验。本文就致力于让
40
用户在不断移动的过程中，始终保持最优的连接方式，并且整个过程中切换时无 缝的，极大的提升用户体验。
对于无线网络状态的粗估计，原理如下：当WiFi在一定的时延门限下无法 交付数据分组时，将调度数据到蜂窝移动通信网络进行传输以保证传输质量。主 要的考虑是当WiFi网络差的时候，等待重传会引发时延变长，一旦出现丢包， 由于在不断移动的环境中，网络不稳定，所以会很大概率的出现重传失败。因此, 在这种情况下，通过丢包率低的蜂窝网络进行传输能保障用户体验。在这一预测 机制中，选择时延门限是非常关键的一步，需要在良好的应用性能和移动蜂窝网 络的负载中找到平衡。假定移动节点正连接到具有良好状态的无线局域网，则该 节点很可能是在一定的时间段内都保持该连接而不进行切换。反之，当移动节点 当前正连接在一个网络状况不好的网络（如小区边界，WiFi边界等）则因为信 号弱或者丢包，需要切换到其他网络上，最差情况是不断地在几种网络间进行来 回切换，用户无法使用网络。我们通过仿真来研究连接的状态，如图所示，对于 不同的连接时长下预测网络的真实状态的正确性进行了试验，并给出了与实际场 景相比的误差。
我们的仿真系统包含可能影响网络性能的各种如衰落，噪声，随机干扰，网 络阻塞等。仿真场景包括了 30个无线路由器（AP）和10个的TD-LTE的基站 组成的异构无线网络。在进行仿真过程中，通过不断发送数据包来检测其连接状 态进而预测其网络状态。这种设置使得我们能够平稳的分析不同位置和时间段内 分析WiFi或LTE的可用性。


图4-4.用来预测在测试平台的状态和实际状态的时间段之间的相对平均误差。垂直条
显示在均值左右95%置信区间。
41
图4-4表明，如果该预测是基于20秒连接时间，预测精度是低的，预测误 差是接近25%。另一方面，当预测是基于50秒保持连接，该预测误差小于10%。 当增加保持的连接的时长，预测的误差并没有提升。因此，我们选用保持50秒 连接状态来以定义网络的状态。
状态检测器连续地观察在WiFi和LTE接口的信号状态。当该网络接口保持 连接超过50秒，则认为网络状态良好即(g,l),添加该路径到可用路径集S中； 当该网络接口保持连接但低于50秒，但网络状态有变好的趋势，其网络状态为 (b,t)；其他情况下，该网络状态较差，表示为通过状态检测器来对附近 的路径进行一个初筛选，排除处于。,1)状态的路径，得到状态较好的路径集合。
4.33基于RMAB的业务分流调度策略
定义ISD. (Integrated State Detector)表示综合路径状态参数，其中cw”d,•表 示子流i的拥塞窗口大小(以字节为单位)，交付时延差AEDD.的计算方法上以 给出(单位为毫秒)，由于交付时延差可能为负数，所以用绝对值进行计算，化表 小子流i的丢包率(百分比表ZK)。1SD］与c-wnd.成正比，与△£££>；,如成反比。
/S。,的计算公式为：
ISD. = _cw 也.	(4-13)
| AEDD, | *化
定义规则如下：
若ISD. = 0 ,即拥塞窗口为0,且EDD, > 3RTTi则为bad状态
若JSDi >0 ,即血>0 ,则为good状态，比较JSDi的大小，最先调度1SD, 最大的子流，其次是次大的子流，以此类推。
利用RMAB模型中的平衡索引优化方法，首先对每个子流的/SO,建立一个 马尔科夫过程，再利用平衡索引优化策略进行数据分组调度，伪代码如下：
42
Input: the set of available interface 1 = {/r,/2) , the set of subflows
At any time step for a fixed 2 //already got the optimal 2 by iteration
Update S = {i：	> 0} and z. = z.(2)
if S is not NULL then
repeat
if there are subflows in (g,l) then //good state
f= max(ISD,i)
M = minW/Q
Offloading M packets on the subflows f
else if t > t. then // ready state
M =
Offloading M packets on the subflows in (b, t)
else
Do not transmit packets at this step
end if
end if
在此算法中，Mb定义为在传输层数据缓存剩余的空间大小；为拥塞窗 口大小，M =	为接收端缓存可以获取的最大数据大小。】=分
别为LTE和WiFi接口，S = {i：m(；l)>0}表示good状态的子流集合，(s,f)表 示子流在t,步之前的状态。我们给定一个X使得2>(l-f)OPT/：,并且 G(2)> OPT 12 o对于给定的人，LPLagrange(A)的解就是对于S中每个子流 的最优运作策略。其中，OPT表示Whittle's LP的优化目标。定义(g,i)为子流 处于good状态。匕(4)表示对于子流i,和给定的惩罚九获得最大名以)应取的最 小的t值.(b,t)表示子流处于ready状态，在E弓时，子流会转移到good状态。
43
(ZM)表示子流在，〈匕时处于bad状态。当集合S不为空，即有子流处于good 状态时，始终选择/SQ最小的子流先进行传输，再选择次小的进行传输， 以此类推。每次调度过程中，在选中的子流中= m\n{Mh,Wf)的数据。当 这一时隙没有任何子流处于good或者ready的状态时，将不在此轮传输数据。
4.4本章总结
本章首先介绍了 MPTCP的研究背景和发展现状，分析了国内外学术机构和 学者对MPTCP拥塞控制和调度策略的优点与不足，针对出现的乱序和缓存膨胀 阻塞问题，提出了基于RMAB的MPTCP业务分流算法。首先介绍了 RMAB的 原理，典型的近似算法，和本文采用的平衡索引近似算法对MPTCP数据调度问 题进行建模。然后，介绍了调度器的衡量目标即有效吞吐量的概念，影响有效吞 吐量最重要的因素就是交付时延。本章首先根据异构无线网络中的网络多样性来 预测网络状态，进行有效路径的初步筛选，再根据交付时延差、丢包率和拥塞控 制窗口等因素来进行路径状态分级，结合平衡索引近似算法进行数据调度。
44
第五章基于RMAB的业务分流调度方法性能仿真与验证
在本章中，首先介绍了仿真平台的搭建，主要包括仿真的场景和主要参数设 置，然后进行了标准的MPTCP与TCP协议的吞吐量比较，得出MPTCP在受限 缓存和高丢包率条件下性能较差的结论。之后进行了基于RMAB的业务分流调 度方法与两种典型的调度策略（最小RTT和轮询）的对比仿真，对吞吐量，时 延和抖动性能进行比较。
5.1仿真平台搭建
本论文对基于RMAB的业务分流调度方法进行仿真。仿真场景如图5-1,包 含两个完全独立的具有不同路径特性（带宽、时延、丢包率）的子流。这个模型 也可以拓展到多子流的其他场景。子流1 （TD-LTE子流）设定为固定的路径特 性，而子流2 （WiFi子流）的参数则根据不同的仿真设定做调整，如表5-1。以 下的仿真中，子流1的时延固定为100ms,丢包率为0.1%,该参数的设定基于 北京市内实测的TD-LTE参数。子流2的参数见表5-1。每个子流的缓冲区固定 为 64kbo

图5-1仿真网络拓扑图


表5-1子流2的参数列表
测试用
例	　　　1	　　　2	　　　3	　　　4	　　　5	　　　6	7	8
时延
(ms)	　　　100	　　　100	　　　100	　　　100	100	200	300	500
丢包率
（%）	　　　2	　　　5	　　　20	　　　50	　　　1	　　　1	1	　　　1
45
5.2标准MPTCP与TCP协议的性能分析
首先使用默认拥塞控制机制和调度策略的MPTCP和TCP协议在固定缓存 为64KB下进行仿真，子流2的参数变化如表5-1,可以观察到，当丢包率增加 时，MPTCP的有效吞吐量总体呈下降趋势，但仍然比TCP要高，一旦丢包率降 低，MPTCP的有效吞吐量显著提高，远远高于标准TCP。总的来说，默认设置 下MPTCP的吞吐量比TCP高，但在大量丢包的情况下，优势降低，最差情况 甚至和标准TCP性能一致。如图5-2。

图5-2默认设置下MPTCP与TCP性能对比图

第二个实验室的目的是观察MPTCP在不同缓存大小下的有效吞吐量变化， 并和最理想情况（即2个独立的标准TCP流，用2-TCP表示）的吞吐量进行对 比。可以观察到MPTCP在正常情况下的吞吐量始终不超过理想情况，这是正常 现象。当接收缓存大小为64KB时，MPTCP的总有效吞吐量远低于两个独立的 TCP流，且随着子流2的质量变差而差异变大。在测试用例1-5中，子流2的丢 包率范围在1%到50%之间时，实际吞吐量可达下降45.9% O这主要是因为 MPTCP需要在接收端聚集来自两个子流的数据分组，并将数据分组进行排序， 按序交付到应用层，一个子流的丢包会影响整体的有效吞吐量。在测试用例5-8
46
中，子流2的延迟从100毫秒变为500毫秒时，我们观察到MPTCP有效吞吐量 降低40.1 % 0当该缓冲区变大时，MPTCP的有效吞吐量越接近2个独立TCP的 吞吐量。然而，即使缓存大小设为128KB时，在有大量的丢包或者延迟的极端 的情况下，MPTCP的实际吞吐量仍然减少了 22.5%。
由仿真可以看出不同子流传输数据的路径多样性对MPTCP的影响非常大。 MPTCP中各个子流的分组都会被存储在同一个接收缓存中，直到他们有序的传 递到应用层。我们假设在接收窗口的第一分组发生经由性能较差的子流发送，并 没有被成功地接收到。一旦接收缓冲区发送阻塞，其他的子流将无法发送数据包。 因此，状态差(时延大，丢包率高)的子流限制了总体的有效吞吐量。





图5-3 MPTCP与2-TCP性能对比图
5.3基于RMAB的业务分流调度方法吞吐量分析
下面进行了一系列的仿真来分析基于RMAB的业务分流调度方法的性能， 包括吞吐量，交付时延，和抖动。仿真中最小数据分组的单位为数据块(block)0 对于RMAB建模中需要用到的参数:初始的概率分布为[0.4,0.5],表示路径KLTE 子流)处于good状态的概率为0.4,路径2 (WiFi)处于good状态的概率为0.5, 状态转移矩阵为：^ = [a,p,u,v]其中a表示子流i从good转移到good状态的 概率，P表示子流i从good状态转移到bad状态的一步转移概率；u表示子 流i当前为good状态且2步前为good状态的概率；v表示子流i当前为good
47
状态且2步前为bad状态的概率。LTE的无线信道状态转移概率矩阵为 [0.6,0.4,0.85,0.15], WiFi 信道的转移概率矩阵为[0.5,0.5,0.85,0.15]。
接下来比较基于RMAB的业务分流调度方法的性能，在相同实验条件下进 行仿真来评估了最低RTT算法的性能。拓扑采样时间设定为250秒。两个子流 的时延都设为100毫秒，丢包率的初始值都设为1%,子流2 （WiFi）的丢包率 随时间变化如下表5-2。在图5-4中，以时间为自变量，子流2的丢包率在50秒 时骤升为20%,在100秒时，丢包率高达30%,到了 150秒时，丢包率降为1%。 我们仿真得到吞吐量的变化，最低RTT和RR （轮序）算法在丢包率骤升时吞吐 量急剧下降，基于RMAB的业务分流调度方法能够很好的适应丢包率的变化， 吞吐量变化平稳。

表5-2子流2的丢包率变化表
时间（秒）	0	50	100	150	200	250
丢包率（％）	1	20	30	1	1	1




图5-4基于RMAB的业务分流算法和RR、LowRTT吞吐量对比图
5.4时延和抖动性能分析
下面研究基于RMAB的业务分流算法在交付时延和抖动情况,这些参数通常 用于衡量调度算法的的效率和可靠性。子流1的参数保持不变（时延为100毫秒,
丢包率为0.1%)o在图5-5是使用基于RMAB的业务分流算法、最小RTT和RR 算法后的平均数据块交付时延情况。最小RTT的交付时延明显高于基于RMAB 的业务分流算法。只要两个路径中的时延，或者丢包率发生变化，最小RTT的 数据块交付时延急剧上升，而基于RMAB的业务分流算法则只是略微上升，影 响很小。这是因为基于RMAB的业务分流算法算法综合考虑了时延，丢包率等 变化情况，并能缓解大量数据传输出现的乱序情况。我们还研究了这两种算法的 时延抖动特性，如图5-6。当一个子流的性能急剧下降时，最小RTT算法的时延 抖动较大，数据包的延迟时间的差异越大，则抖动越大。而基于RMAB的业务 分流算法算法由于考虑到了交付时延的影响，与最小RTT算法相比，时延抖动 性能更好。
■ RMAB
霜 LowRTT
fflRR
图5-5基于RMAB的业务分流算法和LowRTT、RR平均时延对比图

测试用例
图5-6基于RMAB的业务分流算法和LowRTT、RR平均时延抖动性能对比图
5.5本章小结
本章依照第四章所提出的基于RMAB的业务分流调度方法进行了仿真，搭 建了仿真平台，并对其性能进行了对比验证。主要包括标准的MPTCP与TCP 协议的吞吐量比较，可得出MPTCP在受限缓存和高丢包率条件下性能较差的结 论。为了提升MPTCP的性能，本文提出了基于RMAB的业务分流调度方法， 釆用此方法的MPTCP与两种典型的调度策略（最小RTT和轮询）进行了对比仿 真。通过仿真分析，可得以下结论：
1）	验证了本文所提出的基于RMAB的业务分流调度方法的可行性和整体 性能。
2）	本文所提出的方法，在网络状态良好的情况下，与两种典型的调度策略 相比，性能略好，但对于极端的网络条件（如丢包率增加，时延骤升）时，基于 RMAB的业务分流调度方法由于综合考虑了网络状态和交付时延进行数据调度, 受到的影响较小，表现为较平稳的吞吐量变化和较小的时延和抖动。
3）	仿真平台中的网络拓扑较为简单，之后会考虑在更加复杂的网络环境下 检验算法的性能。
总之，该调度策略提升了 MPTCP在网络较差的环境下的吞吐量，并优化了 时延抖动性能，符合最初的课题目标。
50
第六章总结与展望
6.1本文工作总结
本文首先对异构无线网络和无线业务分流技术做了简要的介绍，然后详细介 绍了典型的多路径传输控制协议及典型的调度方法。接着对影响MPTCP效率的 因素进行分析，并对典型的调度策略进行了对比。在综合分析了目前MPTCP与 无线业务分流技术的诸多问题后，本文提出了 -种基丁 RMAB的无线业务分流 调度方法，该方法基于随机优化的RMAB问题对MPTCP调度进行了建模，并 根据平衡索引优化算法对问题求解，在设计策略时，根据网络状态进行网络的初 筛，并进一步利用交付时延差为主要因素设计了调度策略，达到网络分流的目的， 进一步提高MPTCP的吞吐量，优化了 MPTCP在高丢包率下的性能。
本文研究的支持异构网络下无线业务分流的多径TCP调度方案创新点如下： 一、利用多径TCP技术来优化业务分流问题，解决Offloading的弱耦合问题， 以提高分流性能；二、结合随机优化理论中的RMAB模型，提出了基于RMAB 的业务分流调度方法；三、设计实现了 RMAB的业务分流调度方法，并验证分 析了该方法的有效性。
6.2未来研究方向
虽然本文所提出的方法已经通过仿真得以验证，但更多的侧重在理论研究 上，想要更有力地证明基于RMAB的无线业务分流调度算法的有效性，还需要 在真实的网络环境中进行实验，因为实际场景下可能岀现更多的不可预见的因 素。未来将对更复杂，多变的网络场景进行进一步的研究，验证本文所提出方案 的有效性，同时进行方案的优化，以适应实时变化的路径状态。
另外，MPTCP子流动态管理机制是可能的发展趋势之一，未来将对此方案 做更多方面的研究和分析。
参考文献
[1]Paasch C, Ferlin S, Alay O, et al. Experimental evaluation of multipath TCP schedulers[C]//Proceedings of the 2014 ACM SIGCOMM workshop on Capacity sharing workshop. ACM, 2014: 27-32.
[2]Ford A, Raiciu C, Handley M, et al. RFC6824: TCP Extensions for Multipath Operation with Multiple Addresses [J]. 2013.
[3]Paasch C, Detal G, Duchene F, et al. Exploring mobile/WiFi handover with multipath TCP [C] //Proceedings of the 2012 ACM SIGCOMM workshop on Cellular networks: operations, challenges, and future design. ACM, 2012: 31-36.
[4]Paasch C, Bonaventure O. Multipath top [J]. Communications of the ACM, 2014, 57(4):51-57.
[5]Ekram H. Heterogeneous Wireless Access Networks: Architectures and Protocols[M]. Springer, 2008.
[6]Akyildiz I F, Mohanty S,Xie J. A Ubiquitous Mobile Communication Architecture fbr Next-Generation Heterogeneous Wireless Systems [J]? IEEE Communications Magazine, 2005,43(6);S29-S36.
[7]IEEE 802.21 WG IEEE Standard for Local and Metropolitan Area Networks. Part 21: Media Independent Handover Services [S]. IEEE Std 802.21-20085 January 2009.
[8]Perkins C9 IP Mobility Support；9 Network Working Group. RFC 2002[J], IP Mobility Support, 1996, 70.
[9]ETSITR 101 957, Requirements and Architectures fbr Interworking between HIPERLAN/2 and 3rd Generation Cellular Systems [R], Tech. Rep, 2001.
[10]Salkintzis A K,Fors C, Pazhyannur R. WLAN-GPRS Integration for NG Mobile Data Netwoks [J]? IEEE Wireless Communications, 2002, 9:112-124.
[11]Cisco C V N L Global mobile data traffic forecast update, 2013—2018 [J], white paper, 2014.
[12]Balasubramanian A, Mahajan R, Venkataramani A. Augmenting mobile 3G using WiFi[C]//Proceedings of the 8th international conference on Mobile systems, applications, and services. ACM, 2010: 209-222.
[13]Kashihara S, Sanadidi M Y, Gerla M. Mobile, Personal Data Offloading to Public Transport Vehicles[C]//Proceedings of the 2012 IEEE International Conference
52
on Mobile Computing and Ubiquitous Networking. IEEE. 2012.
[14]Dimatteo S, Hui P, Han B, et al. Cellular traffic offloading through WiFi networks[C]//Mobile Adhoc and Sensor Systems (MASS), 2011 IEEE 8th International Conference on. IEEE, 2011: 192-201.
[15]Golrezaei N, Shanmugam K, Dimakis A G. et al. Femtocaching: Wireless video content delivery through distributed caching helpers[C]//INFOCOM, 2012 Proceedings IEEE. IEEE, 2012: 1107-1115.
[16]Wu J, Xiao M, Huang L. Homing spread: Community home-based multi-copy routing in mobile social networks[C]//INI;OCOM. 2013 Proceedings IEEE. IEEE, 2013: 2319-2327.
[17]Gonzalez MAP, Higashino T, Okada M. Radio access considerations for data offloading with multipath tcp in cellular/wifi networks[C]//Infbrmation Networking (ICOIN), 2013 International Conference on. IEEE, 2013:680-685.
[18]Han B, Hui P, Kumar V S, et al. Cellular traffic offloading through opportunistic communications: a case study[C]//Proceedings of the 5th ACM workshop on Challenged networks. ACM, 2010: 31-38.
[19]Lee K, Lee J, Yi Y, et aL Mobile data offloading: how much can WiFi deliver? [C]//Proceedings of the 6th International Conference. ACM, 2010: 26.
[20]吴磊，牟海望,周慧峰.移动数据业务流量经营策略分析[J].电信工程技术和标 准.2013.24〜27.
[21]Stewart R, Xie Q, Morneault K, et al. Stream control transmission protocol IETF RFC2960[J]. 2007.
[22]Allman M, Avrachenkov K, Ayesta U, et al. Early retransmit for TCP and stream control transmission protocol (SCTP)[R]. 2010.
[23]Steward R. RFC4960: Stream Control Transmission Protocol [J]. 2007.
[24]Perotto F, Casetti C, Galante G. SCTP-based transport protocols for concurrent multipath transfer[C]//Wireless Communications and Networking Conference, 2007. WCNC 2007. IEEE. IEEE, 2007: 2969-2974.
[25]Iyengar J R, Amer P D, Stewart R. Concurrent multipath transfer using SCTP multihoming over independent end-to-end pathsfJ]. Networking, IEEE/ACM Transactions on, 2006, 14(5): 951-964.
[26]Jacobson V. Congestion avoidance and control[C]//ACM SIGCOMM computer communication review. ACM, 1988, 18(4): 314-329.
[27]Ferlin-Oliveira S. Dreibholz T, A lay O. Tackling the challenge of bufferbloat in
53
Multi-Path Transport over heterogeneous wireless networks[C]//Quality of Service (IWQoS), 2014 IEEE 22nd International Symposium of.IEEE, 2014: 123-128.
[28]Raiciu C, Handley M, Wischik D. Coupled congestion control for multipath transport protocols[R]. 2011.
[29]Raiciu C, Paasch C, Barre S, et al. How hard can it be? Designing and implementing a deployable multipath TCP[C]//Proceedings of the 9th USENIX conference on Networked Systems Design and Implementation.USENIX Association, 2012: 29-29.
[30]Nguyen S C, Zhang X, Nguyen T M T, et al. Evaluation of throughput optimization and load sharing of multipath tcp in heterogeneous networks[C]//Wireless and Optical Communications Networks (WOCN), 2011 Eighth International Conference on. IEEE, 2011: 1-5.
[31]Whittle P. Restless bandits: Activity allocation in a changing world[J]. Journal of applied probability, 1988:287-298.
[32]Guha S, Munagala K, Shi P. Approximation algorithms for restless bandit problems [J]. Journal of the ACM (JACM), 2010, 58(1): 3.
[33]Bertsekas D P, Bertsekas D P. Dynamic programming and optimal control[M]. Belmont, MA: Athena Scientific, 1995.
[34]Jones D M, Gittins J C. A dynamic allocation index fbr the sequential design of experiments [M], University of Cambridge, Department of Engineering, 1972.
[35]Chen, Y., Lim, Y., Gibbens, R., Nahum, E., Khalili, R., and D. Towsley, nA measurement-based study of MultiPath TCP performance over wireless network Proceedings of the 2013 conference on Internet measurement conference (IMC13), n.d., <http://doi.acm.org/10.1145/2504730.2504751>.
[36]Lim, Y., Chen, Y., Nahum, E., Towsley, D., and K. Lee, "Cross-Layer Path Management in Multi-path Transport Protocol for Mobile Devices。IEEE INFOCOM'14,2014.
[37]M. Allman, K. Avrachenkov. Early Retransmit for TCP and Stream Control Transmission Protocol (SCTP), RFC5827, 2010.
[38]Perotto F, Casetti C, Galante G. SCTP-based Transport Protocols for Concurrent Multipath Transfer[A], 2007 IEEE Wireless Communications and Networking Conference[C], March(lM5) 2007,2969 - 2974.
[39]H. Hsieh and R. Sivakumar, “A transport layer approach fbr achieving aggregate
54
bandwidths on multi-homed mobile hosts," Wireless Netw., vol. 11, no. 1-2, pp. 99-114, 2005.
[40]Kim K H, Zhu Y, Sivakumar R, et al. A receiver-eentric transport protocol for mobile hosts with heterogeneous wireless interfaces [J]. Wireless Networks, 2005, 11(4): 363-382.
[41]Singh A, Goerg C, Timm-Giel A, et al. Performance comparison of scheduling algorithms for multipath transfer[C]//Global Communications Conference (GLOBECOM), 2012 IEEE. IEEE, 2012: 2653-2658.
55
致 谢
时光飞逝，转眼间我已在北邮度过了近三年的研究生生活，在实验室的两年 时间里，无论是学习、工作还是生活，我都收获了人生中迄今为止最宝贵的一笔 财富。在这里我得到老师的帮助，同学的关心，但是天下无不散的宴席，美好的 时光就这样过去了。此时此刻我心中充满着许多感情，想好好地对过去说声再见 和感谢。
首先要感谢我的导师邹仕洪，邹老师以身作则，谆谆教诲，在科研学习和生 活都是一盏明灯，照亮了我两年多的成长之路。邹老师为我提供了一个良好的科 研环境和实际锻炼的机会，为我指明了脚下的路，让我看清了前进的方向。邹老 师不甘于现状，勇于突破、勇于创新的品格，让我崇拜和敬佩。在邹老师的教导 下，我养成了良好的学习、工作习惯，勇敢的尝试和突破自己，并时刻提醒着我 保持积极的态度和热情。
感谢与我一起同属邹老师门下的四位学生，徐燕红、史振华、张克欣、王竞 豪，和我的室友刘娜，你们在学习和生活中都给予了我很大的帮助，认识各位， 我感到无比的骄傲，你们一直都是我的好榜样。我永远不会忘记我们一起走过的 学生道路，我们永远会是最好的朋友。
感谢我的师兄肖瑶、张京、张京一、罗印，师姐李志燕，桂丽，你们的一言 一行都是我学习的好榜样，是你们带领我在科研项目不断进步，在生活和工作上 不断提升自己的实力。感谢陈希宏学长，在我学习和生活中迷茫无助的时候，给 我以真诚的支持和引导，不断的鼓励我，让我勇敢的面对挑战，取得进步，也更 加自信和坚强。
最后要感谢我的父母，从小给我提供了良好的生活、学习条件，用最无私的 爱养育了我。不断给我鼓励和支持，为我提供了最坚实的后盾，让我自由、自信 地选择前进的方向，你们永远是我的精神支柱和心灵的港湾。
攻读学位期间发表的学术论文目录
[1]黄珊.异构网絡卜基J' RMAB的MPTCP业务分流调度方法[EB/OL],北 京:中国科技论文在线.2015-12-24.
http://www.papcr.cdu.cn/releascpaper/content/201512-1207.
(论文署名单位为北京邮电大学网络与交换技术国家重点实验室)
[2]Zou, S., Wen, X., Chen, K・,Huang, S., Chen, Y, Liu, Y,... & Hu, C. (2014). Virtualknotter: Online virtual machine shuffling fbr congestion resolving in virtualized datacenter. Computer Networks, 67, 141-153.(SCI 检索，检索号： 000337862700010,论文署名单位为北京邮电大学网络与交换技术国家重 点实验室)
